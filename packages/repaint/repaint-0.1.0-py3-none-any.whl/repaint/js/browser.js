(()=>{var e;var t="undefined"==typeof document?void 0:document,n=!!t&&"content"in t.createElement("template"),o=!!t&&t.createRange&&"createContextualFragment"in t.createRange();function r(r){return r=r.trim(),n?function(e){var n=t.createElement("template");return n.innerHTML=e,n.content.childNodes[0]}(r):o?function(n){return e||(e=t.createRange()).selectNode(t.body),e.createContextualFragment(n).childNodes[0]}(r):function(e){var n=t.createElement("body");return n.innerHTML=e,n.childNodes[0]}(r)}function i(e,t){var n,o,r=e.nodeName,i=t.nodeName;return r===i||(n=r.charCodeAt(0),o=i.charCodeAt(0),n<=90&&o>=97?r===i.toUpperCase():o<=90&&n>=97&&i===r.toUpperCase())}function a(e,t,n){e[n]!==t[n]&&(e[n]=t[n],e[n]?e.setAttribute(n,""):e.removeAttribute(n))}var d={OPTION:function(e,t){var n=e.parentNode;if(n){var o=n.nodeName.toUpperCase();"OPTGROUP"===o&&(o=(n=n.parentNode)&&n.nodeName.toUpperCase()),"SELECT"!==o||n.hasAttribute("multiple")||(e.hasAttribute("selected")&&!t.selected&&(e.setAttribute("selected","selected"),e.removeAttribute("selected")),n.selectedIndex=-1)}a(e,t,"selected")},INPUT:function(e,t){a(e,t,"checked"),a(e,t,"disabled"),e.value!==t.value&&(e.value=t.value),t.hasAttribute("value")||e.removeAttribute("value")},TEXTAREA:function(e,t){var n=t.value;e.value!==n&&(e.value=n);var o=e.firstChild;if(o){var r=o.nodeValue;if(r==n||!n&&r==e.placeholder)return;o.nodeValue=n}},SELECT:function(e,t){if(!t.hasAttribute("multiple")){for(var n,o,r=-1,i=0,a=e.firstChild;a;)if("OPTGROUP"===(o=a.nodeName&&a.nodeName.toUpperCase()))a=(n=a).firstChild;else{if("OPTION"===o){if(a.hasAttribute("selected")){r=i;break}i++}!(a=a.nextSibling)&&n&&(a=n.nextSibling,n=null)}e.selectedIndex=r}}};function l(){}function c(e){if(e)return e.getAttribute&&e.getAttribute("id")||e.id}var u,s=(u=function(e,t){var n,o,r,i,a=t.attributes;if(11!==t.nodeType&&11!==e.nodeType){for(var d=a.length-1;d>=0;d--)o=(n=a[d]).name,r=n.namespaceURI,i=n.value,r?(o=n.localName||o,e.getAttributeNS(r,o)!==i&&("xmlns"===n.prefix&&(o=n.name),e.setAttributeNS(r,o,i))):e.getAttribute(o)!==i&&e.setAttribute(o,i);for(var l=e.attributes,c=l.length-1;c>=0;c--)o=(n=l[c]).name,(r=n.namespaceURI)?(o=n.localName||o,t.hasAttributeNS(r,o)||e.removeAttributeNS(r,o)):t.hasAttribute(o)||e.removeAttribute(o)}},function(e,n,o){if(o||(o={}),"string"==typeof n)if("#document"===e.nodeName||"HTML"===e.nodeName||"BODY"===e.nodeName){var a=n;(n=t.createElement("html")).innerHTML=a}else n=r(n);var s=o.getNodeKey||c,f=o.onBeforeNodeAdded||l,p=o.onNodeAdded||l,m=o.onBeforeElUpdated||l,v=o.onElUpdated||l,h=o.onBeforeNodeDiscarded||l,N=o.onNodeDiscarded||l,b=o.onBeforeElChildrenUpdated||l,g=!0===o.childrenOnly,A=Object.create(null),C=[];function T(e){C.push(e)}function S(e,t){if(1===e.nodeType)for(var n=e.firstChild;n;){var o=void 0;t&&(o=s(n))?T(o):(N(n),n.firstChild&&S(n,t)),n=n.nextSibling}}function w(e,t,n){!1!==h(e)&&(t&&t.removeChild(e),N(e),S(e,n))}function y(e){p(e);for(var t=e.firstChild;t;){var n=t.nextSibling,o=s(t);if(o){var r=A[o];r&&i(t,r)?(t.parentNode.replaceChild(r,t),E(r,t)):y(t)}else y(t);t=n}}function E(e,n,o){var r=s(n);if(r&&delete A[r],!o){if(!1===m(e,n))return;if(u(e,n),v(e),!1===b(e,n))return}"TEXTAREA"!==e.nodeName?function(e,n){var o,r,a,l,c,u=n.firstChild,p=e.firstChild;e:for(;u;){for(l=u.nextSibling,o=s(u);p;){if(a=p.nextSibling,u.isSameNode&&u.isSameNode(p)){u=l,p=a;continue e}r=s(p);var m=p.nodeType,v=void 0;if(m===u.nodeType&&(1===m?(o?o!==r&&((c=A[o])?a===c?v=!1:(e.insertBefore(c,p),r?T(r):w(p,e,!0),p=c):v=!1):r&&(v=!1),(v=!1!==v&&i(p,u))&&E(p,u)):3!==m&&8!=m||(v=!0,p.nodeValue!==u.nodeValue&&(p.nodeValue=u.nodeValue))),v){u=l,p=a;continue e}r?T(r):w(p,e,!0),p=a}if(o&&(c=A[o])&&i(c,u))e.appendChild(c),E(c,u);else{var h=f(u);!1!==h&&(h&&(u=h),u.actualize&&(u=u.actualize(e.ownerDocument||t)),e.appendChild(u),y(u))}u=l,p=a}!function(e,t,n){for(;t;){var o=t.nextSibling;(n=s(t))?T(n):w(t,e,!0),t=o}}(e,p,r);var N=d[e.nodeName];N&&N(e,n)}(e,n):d.TEXTAREA(e,n)}!function e(t){if(1===t.nodeType||11===t.nodeType)for(var n=t.firstChild;n;){var o=s(n);o&&(A[o]=n),e(n),n=n.nextSibling}}(e);var x,R,U=e,O=U.nodeType,V=n.nodeType;if(!g)if(1===O)1===V?i(e,n)||(N(e),U=function(e,t){for(var n=e.firstChild;n;){var o=n.nextSibling;t.appendChild(n),n=o}return t}(e,(x=n.nodeName,(R=n.namespaceURI)&&"http://www.w3.org/1999/xhtml"!==R?t.createElementNS(R,x):t.createElement(x)))):U=n;else if(3===O||8===O){if(V===O)return U.nodeValue!==n.nodeValue&&(U.nodeValue=n.nodeValue),U;U=n}if(U===n)N(e);else{if(n.isSameNode&&n.isSameNode(U))return;if(E(U,n,g),C)for(var I=0,P=C.length;I<P;I++){var k=A[C[I]];k&&w(k,k.parentNode,!1)}}return!g&&U!==e&&e.parentNode&&(U.actualize&&(U=U.actualize(e.ownerDocument||t)),e.parentNode.replaceChild(U,e)),U});const f=document.currentScript.dataset.repaintPort||"8765",p=new WebSocket("ws://localhost:"+f);p.onopen=function(){p.send(JSON.stringify({type:"browser-connect",url:window.location.pathname})),console.log("Connected to Repaint",p)},p.onerror=function(e){console.log("Repaint websocket error",e)},p.onclose=function(e){console.log("Repaint websocket closed",e)},p.onmessage=function(e){var t=JSON.parse(e.data);"browser-reload"==t.type&&(console.log("Repaint reload received",e),fetch(window.location.pathname).then((function(e){return e.text()})).then((function(e){s(document.documentElement,e)}))),"browser-reload-assets"==t.type&&(console.log("Repaint asset reload received",e),function(e){for(const t of e)if(t.endsWith(".css"))for(const e of document.styleSheets)e.href===window.location.origin+"/"+t&&(e.ownerNode.href+="");else console.log("Repaint unknown asset type",t)}(t.assets))}})();