import{S as N,i as W,s as J,J as T,O as E,P as I,a as w,d as v,b as g,f as y,g as S,I as b,L as Y,M as G,N as K,q as M,o as j,a0 as ae,a1 as B,a3 as F,w as L,x as P,y as R,B as V,t as D,h as O,j as H,V as re,l as Q,a7 as fe,e as z,k as ie,c as C,m as se,a8 as oe,a4 as de}from"../chunks/index-76fd7a0c.js";import{d as A}from"../chunks/stores-a782d1bd.js";import{o as ue,e as ce,f as _e,c as he,l as U,D as ge,L as me}from"../chunks/ScaledSvg.svelte_svelte_type_style_lang-80daf94e.js";import"../chunks/index-8de44155.js";function pe(t,e,a){t=+t,e=+e,a=(r=arguments.length)<2?(e=t,t=0,1):r<3?1:+a;for(var n=-1,r=Math.max(0,Math.ceil((e-t)/a))|0,l=new Array(r);++n<r;)l[n]=t+n*a;return l}function le(){var t=ue().unknown(void 0),e=t.domain,a=t.range,n=0,r=1,l,o,i=!1,s=0,d=0,f=.5;delete t.unknown;function u(){var c=e().length,_=r<n,h=_?r:n,p=_?n:r;l=(p-h)/Math.max(1,c-s+d*2),i&&(l=Math.floor(l)),h+=(p-h-l*(c-s))*f,o=l*(1-s),i&&(h=Math.round(h),o=Math.round(o));var k=pe(c).map(function(q){return h+l*q});return a(_?k.reverse():k)}return t.domain=function(c){return arguments.length?(e(c),u()):e()},t.range=function(c){return arguments.length?([n,r]=c,n=+n,r=+r,u()):[n,r]},t.rangeRound=function(c){return[n,r]=c,n=+n,r=+r,i=!0,u()},t.bandwidth=function(){return o},t.step=function(){return l},t.round=function(c){return arguments.length?(i=!!c,u()):i},t.padding=function(c){return arguments.length?(s=Math.min(1,d=+c),u()):s},t.paddingInner=function(c){return arguments.length?(s=Math.min(1,c),u()):s},t.paddingOuter=function(c){return arguments.length?(d=+c,u()):d},t.align=function(c){return arguments.length?(f=Math.max(0,Math.min(1,c)),u()):f},t.copy=function(){return le(e(),[n,r]).round(i).paddingInner(s).paddingOuter(d).align(f)},ce.apply(u(),arguments)}var ve=t=>_e(t[t.length-1]),be=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(he),we=ve(be);const ye=t=>({element:t&1}),X=t=>({element:t[0]}),ke=t=>({element:t&1}),Z=t=>({element:t[0]});function Ee(t){let e,a,n,r,l;const o=t[12].defs,i=T(o,t,t[11],Z),s=t[12].default,d=T(s,t,t[11],X);return{c(){e=E("svg"),a=E("defs"),i&&i.c(),n=E("g"),d&&d.c(),this.h()},l(f){e=I(f,"svg",{class:!0,viewBox:!0,width:!0,height:!0});var u=w(e);a=I(u,"defs",{});var c=w(a);i&&i.l(c),c.forEach(v),n=I(u,"g",{class:!0,transform:!0});var _=w(n);d&&d.l(_),_.forEach(v),u.forEach(v),this.h()},h(){g(n,"class","layercake-layout-svg_g"),g(n,"transform",r="translate("+t[7].left+", "+t[7].top+")"),g(e,"class","layercake-layout-svg svelte-17l4rdd"),g(e,"viewBox",t[4]),g(e,"width",t[5]),g(e,"height",t[6]),y(e,"z-index",t[2],!1),y(e,"pointer-events",t[3]===!1?"none":null,!1)},m(f,u){S(f,e,u),b(e,a),i&&i.m(a,null),b(e,n),d&&d.m(n,null),t[13](n),t[14](e),l=!0},p(f,[u]){i&&i.p&&(!l||u&2049)&&Y(i,o,f,f[11],l?K(o,f[11],u,ke):G(f[11]),Z),d&&d.p&&(!l||u&2049)&&Y(d,s,f,f[11],l?K(s,f[11],u,ye):G(f[11]),X),(!l||u&128&&r!==(r="translate("+f[7].left+", "+f[7].top+")"))&&g(n,"transform",r),(!l||u&16)&&g(e,"viewBox",f[4]),(!l||u&32)&&g(e,"width",f[5]),(!l||u&64)&&g(e,"height",f[6]),u&4&&y(e,"z-index",f[2],!1),u&8&&y(e,"pointer-events",f[3]===!1?"none":null,!1)},i(f){l||(M(i,f),M(d,f),l=!0)},o(f){j(i,f),j(d,f),l=!1},d(f){f&&v(e),i&&i.d(f),d&&d.d(f),t[13](null),t[14](null)}}}function Ie(t,e,a){let n,r,l,{$$slots:o={},$$scope:i}=e,{element:s=void 0}=e,{innerElement:d=void 0}=e,{zIndex:f=void 0}=e,{pointerEvents:u=void 0}=e,{viewBox:c=void 0}=e;const{containerWidth:_,containerHeight:h,padding:p}=ae("LayerCake");B(t,_,m=>a(5,n=m)),B(t,h,m=>a(6,r=m)),B(t,p,m=>a(7,l=m));function k(m){F[m?"unshift":"push"](()=>{d=m,a(1,d)})}function q(m){F[m?"unshift":"push"](()=>{s=m,a(0,s)})}return t.$$set=m=>{"element"in m&&a(0,s=m.element),"innerElement"in m&&a(1,d=m.innerElement),"zIndex"in m&&a(2,f=m.zIndex),"pointerEvents"in m&&a(3,u=m.pointerEvents),"viewBox"in m&&a(4,c=m.viewBox),"$$scope"in m&&a(11,i=m.$$scope)},[s,d,f,u,c,n,r,l,_,h,p,i,o,k,q]}class Be extends N{constructor(e){super(),W(this,e,Ie,Ee,J,{element:0,innerElement:1,zIndex:2,pointerEvents:3,viewBox:4})}}function $(t,e,a){const n=t.slice();return n[12]=e[a][0],n[13]=e[a][1],n}function x(t,e,a){const n=t.slice();return n[16]=e[a],n}function ee(t){let e,a,n=t[12]+"",r,l,o=t[16].s_enter+"",i,s,d,f,u,c;return{c(){e=E("rect"),a=E("title"),r=D(n),l=D(" (t = "),i=D(o),s=D(")"),this.h()},l(_){e=I(_,"rect",{x:!0,y:!0,width:!0,height:!0,style:!0});var h=w(e);a=I(h,"title",{});var p=w(a);r=O(p,n),l=O(p," (t = "),i=O(p,o),s=O(p,")"),p.forEach(v),h.forEach(v),this.h()},h(){g(e,"x",d=100+t[5](t[16].r_enter)),g(e,"y",f=t[6](t[16].name)),g(e,"width",u=t[5](t[16].r_end)-t[5](t[16].r_enter)),g(e,"height",c=t[3]/t[0].length*.9),y(e,"fill",t[4](t[16].r_end-t[16].r_enter)),y(e,"stroke-width","0.25"),y(e,"stroke","rgb(0,0,0)")},m(_,h){S(_,e,h),b(e,a),b(a,r),b(a,l),b(a,i),b(a,s)},p(_,h){h&2&&n!==(n=_[12]+"")&&H(r,n),h&2&&o!==(o=_[16].s_enter+"")&&H(i,o),h&34&&d!==(d=100+_[5](_[16].r_enter))&&g(e,"x",d),h&66&&f!==(f=_[6](_[16].name))&&g(e,"y",f),h&34&&u!==(u=_[5](_[16].r_end)-_[5](_[16].r_enter))&&g(e,"width",u),h&9&&c!==(c=_[3]/_[0].length*.9)&&g(e,"height",c),h&18&&y(e,"fill",_[4](_[16].r_end-_[16].r_enter))},d(_){_&&v(e)}}}function te(t){let e,a,n=t[12]+"",r,l,o=t[13],i=[];for(let s=0;s<o.length;s+=1)i[s]=ee(x(t,o,s));return{c(){e=E("g");for(let s=0;s<i.length;s+=1)i[s].c();a=E("text"),r=D(n),this.h()},l(s){e=I(s,"g",{});var d=w(e);for(let u=0;u<i.length;u+=1)i[u].l(d);a=I(d,"text",{x:!0,y:!0});var f=w(a);r=O(f,n),f.forEach(v),d.forEach(v),this.h()},h(){g(a,"x","0"),g(a,"y",l=t[6](t[12])+25)},m(s,d){S(s,e,d);for(let f=0;f<i.length;f+=1)i[f].m(e,null);b(e,a),b(a,r)},p(s,d){if(d&123){o=s[13];let f;for(f=0;f<o.length;f+=1){const u=x(s,o,f);i[f]?i[f].p(u,d):(i[f]=ee(u),i[f].c(),i[f].m(e,a))}for(;f<i.length;f+=1)i[f].d(1);i.length=o.length}d&2&&n!==(n=s[12]+"")&&H(r,n),d&66&&l!==(l=s[6](s[12])+25)&&g(a,"y",l)},d(s){s&&v(e),re(i,s)}}}function Me(t){let e,a=Object.entries(t[1]),n=[];for(let r=0;r<a.length;r+=1)n[r]=te($(t,a,r));return{c(){for(let r=0;r<n.length;r+=1)n[r].c();e=Q()},l(r){for(let l=0;l<n.length;l+=1)n[l].l(r);e=Q()},m(r,l){for(let o=0;o<n.length;o+=1)n[o].m(r,l);S(r,e,l)},p(r,l){if(l&123){a=Object.entries(r[1]);let o;for(o=0;o<a.length;o+=1){const i=$(r,a,o);n[o]?n[o].p(i,l):(n[o]=te(i),n[o].c(),n[o].m(e.parentNode,e))}for(;o<n.length;o+=1)n[o].d(1);n.length=a.length}},d(r){re(n,r),r&&v(e)}}}function je(t){let e,a;return e=new Be({props:{viewBox:"0 0 "+t[2]+" "+t[3],$$slots:{default:[Me]},$$scope:{ctx:t}}}),{c(){L(e.$$.fragment)},l(n){P(e.$$.fragment,n)},m(n,r){R(e,n,r),a=!0},p(n,[r]){const l={};r&12&&(l.viewBox="0 0 "+n[2]+" "+n[3]),r&524411&&(l.$$scope={dirty:r,ctx:n}),e.$set(l)},i(n){a||(M(e.$$.fragment,n),a=!0)},o(n){j(e.$$.fragment,n),a=!1},d(n){V(e,n)}}}function De(t){var e=1/0,a=-1/0;for(const[n,r]of Object.entries(t))for(const l of r)l.r_enter<e&&(e=l.r_enter),l.r_end>a&&(a=l.r_end);return[e,a]}function Oe(t){var e=1/0,a=-1/0;for(const[n,r]of Object.entries(t))for(const l of r)l.r_end-l.r_enter<e&&(e=l.r_end-l.r_enter),l.r_end-l.r_enter>a&&(a=l.r_end-l.r_enter);return[e,a]}function Se(t,e,a){let n,r,l,o,i,s,d,f,u;const{data:c,width:_,height:h}=ae("LayerCake");return B(t,c,p=>a(1,d=p)),B(t,_,p=>a(2,f=p)),B(t,h,p=>a(3,u=p)),t.$$.update=()=>{t.$$.dirty&2&&a(0,n=Object.keys(d)),t.$$.dirty&9&&a(6,r=le().domain(n).range([u,0])),t.$$.dirty&2&&a(11,[l,o]=De(d),l,(a(10,o),a(1,d))),t.$$.dirty&3076&&a(5,i=U().domain([l,o]).range([75,f-100])),t.$$.dirty&2&&a(4,s=p=>we(U().domain(Oe(d)).range([1,0])(p)))},[n,d,f,u,s,i,r,c,_,h,o,l]}class ze extends N{constructor(e){super(),W(this,e,Se,je,J,{})}}function Ce(t){let e,a;return e=new ze({}),{c(){L(e.$$.fragment)},l(n){P(e.$$.fragment,n)},m(n,r){R(e,n,r),a=!0},i(n){a||(M(e.$$.fragment,n),a=!0)},o(n){j(e.$$.fragment,n),a=!1},d(n){V(e,n)}}}function Le(t){let e,a,n,r,l,o,i,s,d;r=new ge({props:{multiple:"false"}}),r.$on("drop",t[1]);function f(c){t[2](c)}let u={$$slots:{default:[Ce]},$$scope:{ctx:t}};return t[0].profile!==void 0&&(u.data=t[0].profile),i=new me({props:u}),F.push(()=>fe(i,"data",f)),{c(){e=z("div"),a=z("div"),n=z("div"),L(r.$$.fragment),l=ie(),o=z("div"),L(i.$$.fragment),this.h()},l(c){e=C(c,"DIV",{class:!0});var _=w(e);a=C(_,"DIV",{class:!0});var h=w(a);n=C(h,"DIV",{class:!0});var p=w(n);P(r.$$.fragment,p),p.forEach(v),h.forEach(v),l=se(_),o=C(_,"DIV",{class:!0});var k=w(o);P(i.$$.fragment,k),k.forEach(v),_.forEach(v),this.h()},h(){g(n,"class","py-2 inline-block w-full sm:px-6 lg:px-8"),g(a,"class","overflow-x-auto"),g(o,"class","flex flex-grow my-4 w-full place-items-center"),g(e,"class","container flex w-7/8 flex-col mt-6 svelte-a4p85k")},m(c,_){S(c,e,_),b(e,a),b(a,n),R(r,n,null),b(e,l),b(e,o),R(i,o,null),d=!0},p(c,[_]){const h={};_&32&&(h.$$scope={dirty:_,ctx:c}),!s&&_&1&&(s=!0,h.data=c[0].profile,oe(()=>s=!1)),i.$set(h)},i(c){d||(M(r.$$.fragment,c),M(i.$$.fragment,c),d=!0)},o(c){j(r.$$.fragment,c),j(i.$$.fragment,c),d=!1},d(c){c&&v(e),V(r),V(i)}}}const ne="http://127.0.0.1:5000/api";function Pe(t,e,a){let n;B(t,A,s=>a(0,n=s));let r={accepted:[],rejected:[]};async function l(){de(A,n.profile=await(await fetch(`${ne}/profiler`)).json(),n)}async function o(s){const{acceptedFiles:d,fileRejections:f}=s.detail;r.accepted=[...r.accepted,...d],r.rejected=[...r.rejected,...f];var u=new FormData;u.append("file",r.accepted[0]),await fetch(`${ne}/profiler`,{method:"POST",body:u}),await l()}function i(s){t.$$.not_equal(n.profile,s)&&(n.profile=s,A.set(n))}return[n,o,i]}class Fe extends N{constructor(e){super(),W(this,e,Pe,Le,J,{})}}export{Fe as default};
