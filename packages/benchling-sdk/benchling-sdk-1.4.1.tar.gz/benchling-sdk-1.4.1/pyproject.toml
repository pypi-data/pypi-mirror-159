[tool.poetry]
name = "benchling-sdk"
version = "1.4.1"   # NOTE: This version number is ignored and does not correspond to releases (see README)
description = "SDK for interacting with the Benchling Platform."
authors = ["Benchling Support <support@benchling.com>"]
packages = [{include = "benchling_sdk"}]
include = [
    "LICENSE", "benchling_sdk/py.typed", "docs"
]
license = "Apache-2.0"
readme = "README.md"

[tool.pytest.ini_options]
minversion = "6.0"
addopts = "-ra -q"
testpaths = [
    "tests",
]

[tool.poetry.dependencies]
python = "^3.7"
backoff = "^1.10.0"
typing-extensions = ">=3.7.4, <5.0"
dataclasses-json = "^0.5.2"
httpx = ">=0.15.0, <=0.22.0"
attrs = ">=20.1.0, <22.0"
python-dateutil = "^2.8.0"
benchling-api-client = "2.0.3"
PyYAML = "^6.0"

[tool.poetry.dev-dependencies]
black = "^22.3.0"
isort = "^5.10.1"
pre-commit = "^2.6.0"
ipython = "^7.16.1"
mypy = "^0.960"
flake8 = "^3.8.3"
taskipy = "^1.6.0"
Jinja2 = "^3.1.2"
Markdown = "3.3.4" # Errors in Markdown 3.3.5 related to TypeError: entry_points() got an unexpected keyword argument 'group'
toml = "^0.10.2"
packaging = "^20.9"
coverage = "^5.5"
flake8-docstrings = "^1.6.0"
ddt = "1.4.4"
pytest = "^7.1.1"
beautifulsoup4 = "4.10.0"
sphinx = "^4.4.0"
types-PyYAML = "^6.0.8"
# Used for testing secure_text decryption for app config
python-jose = {extras = ["cryptography"], version = "^3.3.0"}

[tool.taskipy.tasks]
unit = "python3 -m pytest -s tests/unit/"
integration = "python3 -m pytest -s tests/integration/"
models = "task generate_models && task sort_models && task format_models"
generate_models = "python3 -m regenerate_models"
format_models = "black benchling_sdk/models/__init__.py"
sort_models = "isort benchling_sdk/models/__init__.py"
regenerate_docs = "python3 -m regenerate_docs"
check_docs = "python3 -m regenerate_docs --check"

[tool.black]
line-length=110

[tool.isort]
combine_as_imports=true
default_section="THIRDPARTY"
force_alphabetical_sort_within_sections=true
force_sort_within_sections=true
include_trailing_comma=true
known_first_party=["benchling_sdk"]
known_third_party=["attr", "backoff", "bs4", "dataclasses_json", "ddt", "httpx", "jinja2", "typing_extensions", "yaml"]
line_length=110
multi_line_output=3
order_by_type=false

[build-system]
requires = ["poetry>=1.1"]
build-backend = "poetry.masonry.api"