{% for config in camera_configs %}
<div class="col-4">
    <div class="card mb-3 text-white bg-secondary">
        <div class="card-header">{{ config.0 }}</div>
        <div class="card-body" id="little_{{ config.0 }}">
            <script>
                const get_camera_url = (host, port, resolution) =>
                    `http://${host}:${port}/mjpeg?resolution=${resolution}&neural=true`;

                const camera_name = "{{ config.0 }}";
                const camera_port = "{{ config.1 }}";
                const host = window.location.host.replace(/:.*$/, "");

                const img = document.createElement("img");
                img.className = "img-fluid";
                img.alt = "mjpeg stream";
                img.src = get_camera_url(host, camera_port, "360x240");

                const link = document.createElement("a");
                link.href = get_camera_url(host, camera_port, "1280x720");
                link.target = "_blank";
                link.rel = "noopener";

                link.append(img);

                document.getElementById(`little_${camera_name}`).append(link);
            </script>
        </div>
    </div>
</div>
{% endfor %}
