"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_components_links_listLink_tsx-app_views_performance_transactionSummary_transactionAnomali-15914d"],{"./app/components/charts/chartZoom.tsx":(e,t,n)=>{n.d(t,{Z:()=>y});var o=n("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),r=(n("../node_modules/core-js/modules/web.dom-collections.iterator.js"),n("../node_modules/react/index.js")),a=n("../node_modules/moment/moment.js"),i=n.n(a),s=n("../node_modules/query-string/index.js"),l=n("./app/actionCreators/pageFilters.tsx"),d=n("./app/components/charts/components/dataZoomInside.tsx");n("../node_modules/echarts/lib/component/dataZoomSlider.js");const c={realtime:!1,showDetail:!1,left:0,right:6,bottom:8};function p(e){return e&&Array.isArray(e)?e:[{...c,...e}]}var m=n("./app/components/charts/components/toolBox.tsx"),u=n("./app/utils/callIfFunction.tsx"),h=n("./app/utils/dates.tsx");const f=e=>e?i().utc(e).format(i().HTML5_FMT.DATETIME_LOCAL_SECONDS):null;class g extends r.Component{constructor(e){var t;super(e),t=this,(0,o.Z)(this,"history",void 0),(0,o.Z)(this,"currentPeriod",void 0),(0,o.Z)(this,"zooming",null),(0,o.Z)(this,"saveCurrentPeriod",(e=>{this.currentPeriod={period:e.period,start:f(e.start),end:f(e.end)}})),(0,o.Z)(this,"setPeriod",(function(e){let{period:n,start:o,end:r}=e,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{router:i,onZoom:d,usePageDate:c}=t.props,p=f(o),m=f(r);a&&t.history.push(t.currentPeriod),(0,u.g)(d,{period:n,start:p,end:m}),t.zooming=()=>{if(c&&i){const e={...i.location.query,pageStart:o?(0,h.v5)(o):void 0,pageEnd:r?(0,h.v5)(r):void 0,pageStatsPeriod:null!=n?n:void 0};s.stringify(e)!==s.stringify(i.location.query)&&i.push({pathname:i.location.pathname,query:e})}else(0,l.dR)({period:n,start:p?(0,h.hC)(p):p,end:m?(0,h.hC)(m):m},i);t.saveCurrentPeriod({period:n,start:o,end:r})}})),(0,o.Z)(this,"handleChartReady",(e=>{(0,u.g)(this.props.onChartReady,e)})),(0,o.Z)(this,"handleZoomRestore",((e,t)=>{this.history.length&&(this.setPeriod(this.history[0]),this.history=[],(0,u.g)(this.props.onRestore,e,t))})),(0,o.Z)(this,"handleDataZoom",((e,t)=>{const n=t.getModel(),{startValue:o,endValue:r}=n._payload.batch[0];if(null===o&&null===r){const e=this.history.pop();if(!e)return;this.setPeriod(e)}else{const e=i().utc(o),t=i().utc(r);this.setPeriod({period:null,start:e,end:t},!0)}(0,u.g)(this.props.onDataZoom,e,t)})),(0,o.Z)(this,"handleChartFinished",((e,t)=>{var n;"function"==typeof this.zooming&&(this.zooming(),this.zooming=null);const o=null===(n=t._componentsViews)||void 0===n?void 0:n.find((e=>e._features&&e._features.dataZoom));o&&!o._features.dataZoom._isZoomActive&&t.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:!0}),(0,u.g)(this.props.onFinished)})),this.history=[],this.saveCurrentPeriod(e)}componentDidUpdate(){this.props.disabled||this.saveCurrentPeriod(this.props)}render(){const{utc:e,start:t,end:n,disabled:o,children:r,xAxisIndex:a,router:i,onZoom:s,onRestore:l,onChartReady:c,onDataZoom:u,onFinished:f,showSlider:g,chartZoomOptions:y,...v}=this.props,x=null!=e?e:void 0,Z=t?(0,h.hC)(t):void 0,w=n?(0,h.hC)(n):void 0;return r(o?{utc:x,start:Z,end:w,...v}:{isGroupedByDate:!0,onChartReady:this.handleChartReady,utc:x,start:Z,end:w,dataZoom:g?[...p({xAxisIndex:a,...y}),...(0,d.Z)({xAxisIndex:a,...y})]:(0,d.Z)({xAxisIndex:a,...y}),showTimeInTooltip:!0,toolBox:(0,m.Z)({},{dataZoom:{title:{zoom:"",back:""},iconStyle:{borderWidth:0,color:"transparent",opacity:0}}}),onDataZoom:this.handleDataZoom,onFinished:this.handleChartFinished,onRestore:this.handleZoomRestore,...v})}}g.displayName="ChartZoom";const y=g},"./app/components/charts/components/dataZoomInside.tsx":(e,t,n)=>{n.d(t,{Z:()=>r}),n("../node_modules/echarts/lib/component/dataZoomInside.js");const o={type:"inside",zoomOnMouseWheel:!1,zoomLock:!0,throttle:50};function r(e){return e&&Array.isArray(e)?e:[{...o,...e}]}},"./app/components/charts/components/markArea.tsx":(e,t,n)=>{function o(e){return{...e}}n.d(t,{Z:()=>o}),n("../node_modules/echarts/lib/component/markArea.js")},"./app/components/charts/components/toolBox.tsx":(e,t,n)=>{function o(){let{dataZoom:e,...t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{...e?{dataZoom:{yAxisIndex:"none",title:{zoom:"zoom",back:"undo"},...e}}:{},...t}}function r(e,t){return{right:0,top:0,itemSize:16,z:-1,feature:o(t),...e}}n.d(t,{Z:()=>r})},"./app/components/gridEditable/sortLink.tsx":(e,t,n)=>{n.d(t,{Z:()=>u});var o=n("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),r=n("../node_modules/lodash/omit.js"),a=n.n(r),i=n("./app/components/links/link.tsx"),s=n("./app/icons/index.tsx"),l=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function d(e){let{align:t,title:n,canSort:o,generateSortLink:r,onClick:a,direction:i}=e;const s=r();if(!s||!o)return(0,l.tZ)(p,{align:t,children:n});const d=i?(0,l.tZ)(m,{size:"xs",direction:"desc"===i?"down":"up"}):null;return(0,l.BX)(c,{align:t,to:s,onClick:a,children:[n," ",d]})}d.displayName="SortLink";const c=(0,o.Z)((e=>{const t=a()(e,["align"]);return(0,l.tZ)(i.Z,{...t})}),{target:"e1xb2te62"})("display:block;width:100%;white-space:nowrap;color:inherit;&:hover,&:active,&:focus,&:visited{color:inherit;}",(e=>e.align?`text-align: ${e.align};`:""),";"),p=(0,o.Z)("div",{target:"e1xb2te61"})("display:block;width:100%;white-space:nowrap;",(e=>e.align?`text-align: ${e.align};`:""),";"),m=(0,o.Z)(s.CC,{target:"e1xb2te60"})({name:"40f4ru",styles:"vertical-align:top"}),u=d},"./app/components/links/listLink.tsx":(e,t,n)=>{n.d(t,{Z:()=>h});var o=n("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),r=n("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),a=(n("../node_modules/core-js/modules/web.dom-collections.iterator.js"),n("../node_modules/react/index.js")),i=n("../node_modules/react-router/es/index.js"),s=n("../node_modules/classnames/index.js"),l=n.n(s),d=n("../node_modules/lodash/omit.js"),c=n.n(d),p=n("../node_modules/query-string/index.js"),m=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");class u extends a.Component{constructor(){super(...arguments),(0,o.Z)(this,"getClassName",(()=>{const e={},{className:t,activeClassName:n}=this.props;return t&&(e[t]=!0),this.isActive()&&n&&(e[n]=!0),l()(e)}))}isActive(){const{isActive:e,to:t,query:n,index:o,router:r}=this.props,a=n?p.parse(n):void 0,i="string"==typeof t?{pathname:t,query:a}:t;return"function"==typeof e?e(i,o):r.isActive(i,o)}render(){const{index:e,children:t,to:n,disabled:o,...r}=this.props,a=c()(r,"activeClassName","css","isActive","index","router","location");return(0,m.tZ)(f,{className:this.getClassName(),disabled:o,children:(0,m.tZ)(i.Link,{...a,onlyActiveOnIndex:e,to:o?"":n,children:t})})}}u.displayName="ListLink",(0,o.Z)(u,"displayName","ListLink"),(0,o.Z)(u,"defaultProps",{activeClassName:"active",index:!1,disabled:!1});const h=(0,i.withRouter)(u),f=(0,r.Z)("li",{shouldForwardProp:e=>"disabled"!==e,target:"er8tqc10"})((e=>e.disabled&&`\n   a {\n    color:${e.theme.disabled} !important;\n    pointer-events: none;\n    :hover {\n      color: ${e.theme.disabled}  !important;\n    }\n   }\n`),";")},"./app/utils/performance/anomalies/anomaliesQuery.tsx":(e,t,n)=>{n.d(t,{Z:()=>c}),n("../node_modules/core-js/modules/es.array.includes.js");var o=n("./app/utils/discover/genericDiscoverQuery.tsx"),r=n("./app/utils/withApi.tsx"),a=n("./app/views/performance/transactionSummary/transactionAnomalies/utils.tsx"),i=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function s(e){return e.data.forEach((e=>e[0]=1e3*e[0])),e}function l(e){const t={...e};return e.y&&e.yhat_lower&&e.yhat_upper&&e.anomalies?(t.y=s(e.y),t.yhat_upper=s(e.yhat_upper),t.yhat_lower=s(e.yhat_lower),t.anomalies=((n=e.anomalies).forEach((e=>{e.start=1e3*e.start,e.end=1e3*e.end})),n),t):t;var n}function d(e){return e.organization.features.includes(a.uT)?(0,i.tZ)(o.ZP,{route:"transaction-anomaly-detection",...e,children:t=>{let{tableData:n,...o}=t;return e.children({data:n&&n.y?l(n):null,...o})}}):(0,i.tZ)("div",{children:e.children({data:null,isLoading:!1,error:null,pageLinks:null})})}d.displayName="AnomaliesSeriesQuery";const c=(0,r.Z)(d)},"./app/utils/performance/urls.ts":(e,t,n)=>{n.d(t,{D:()=>a});var o=n("./app/components/events/interfaces/spans/utils.tsx"),r=n("./app/utils.tsx");function a(e,t,n,a,i){const s={...a||{},transaction:n};(0,r.ri)(s.transaction)||delete s.transaction;const l={pathname:`/organizations/${e}/performance/${t}/`,query:s,hash:(0,r.ri)(i)?(0,o.ct)(i):void 0};return(0,r.ri)(l.hash)||delete l.hash,l}},"./app/views/performance/landing/widgets/components/selectableList.tsx":(e,t,n)=>{n.d(t,{Nm:()=>Z,QE:()=>y,S$:()=>g,ZP:()=>h,qL:()=>v,xq:()=>x});var o=n("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),r=n("./app/components/emptyStateWarning.tsx"),a=n("./app/components/forms/controls/radioGroup.tsx"),i=n("./app/components/links/link.tsx"),s=n("./app/components/radio.tsx"),l=n("./app/components/tooltip.tsx"),d=n("./app/icons/index.tsx"),c=n("./app/locale.tsx"),p=n("./app/styles/space.tsx"),m=n("../node_modules/@emotion/react/dist/emotion-react.browser.esm.js"),u=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function h(e){return(0,u.tZ)("div",{children:e.items.map(((t,n)=>(0,m.az)(f,{...e,isSelected:n===e.selectedIndex,currentIndex:n,key:n},t())))})}function f(e){let{isSelected:t,currentIndex:n,children:o,setSelectedIndex:r,radioColor:i}=e;return(0,u.BX)(S,{children:[(0,u.tZ)(j,{color:null!=i?i:"",children:(0,u.tZ)(a.V,{index:n,role:"radio",children:(0,u.tZ)(s.Z,{checked:t,onChange:()=>r(n)})})}),o]})}h.displayName="SelectableList",f.displayName="SelectableItem";const g=(0,o.Z)("div",{target:"e1fgyx4u7"})("text-align:right;display:flex;align-items:center;justify-content:center;padding:0 ",(0,p.Z)(1),";"),y=(0,o.Z)("span",{target:"e1fgyx4u6"})("color:",(e=>e.theme.gray300),";font-size:",(e=>e.theme.fontSizeMedium),";display:inline-block;"),v=(0,o.Z)(i.Z,{target:"e1fgyx4u5"})({name:"pu304d",styles:"flex-grow:1;display:inherit"}),x=()=>(0,u.tZ)(A,{small:!0,children:(0,c.t)("No results")});function Z(e){return(0,u.tZ)(w,{title:(0,c.t)("Exclude this transaction from the search filter."),children:(0,u.tZ)(b,{onClick:()=>{e.onClick(),e.setSelectListIndex(0)}})})}x.displayName="WidgetEmptyStateWarning",Z.displayName="ListClose";const w=(0,o.Z)(l.Z,{target:"e1fgyx4u4"})({name:"1wnowod",styles:"display:flex;align-items:center;justify-content:center"}),b=(0,o.Z)(d.bM,{target:"e1fgyx4u3"})("cursor:pointer;color:",(e=>e.theme.gray200),";"),A=(0,o.Z)(r.Z,{target:"e1fgyx4u2"})({name:"1t1oqhu",styles:"min-height:300px;justify-content:center"}),S=(0,o.Z)("div",{target:"e1fgyx4u1"})("display:flex;border-top:1px solid ",(e=>e.theme.border),";padding:",(0,p.Z)(1)," ",(0,p.Z)(2),";font-size:",(e=>e.theme.fontSizeMedium),";"),j=(0,o.Z)("div",{target:"e1fgyx4u0"})("grid-row:1/3;input{cursor:pointer;}input:checked::after{background-color:",(e=>e.color),";}")},"./app/views/performance/transactionSummary/transactionAnomalies/index.tsx":(e,t,n)=>{n.r(t),n.d(t,{default:()=>de});var o=n("./app/locale.tsx"),r=n("./app/utils/performance/contexts/metricsEnhancedSetting.tsx"),a=n("./app/utils/withOrganization.tsx"),i=n("./app/utils/withProjects.tsx"),s=n("./app/views/performance/transactionSummary/pageLayout.tsx"),l=n("./app/views/performance/transactionSummary/tabs.tsx"),d=n("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),c=(n("../node_modules/core-js/modules/web.dom-collections.iterator.js"),n("../node_modules/react/index.js")),p=n("../node_modules/react-router/es/index.js"),m=n("../node_modules/lodash/omit.js"),u=n.n(m),h=n("./app/components/charts/components/markArea.tsx"),f=n("./app/components/charts/components/markLine.tsx"),g=n("./app/components/datePageFilter.tsx"),y=n("./app/components/environmentPageFilter.tsx"),v=n("./app/components/events/searchBar.tsx"),x=n("./app/components/layouts/thirds.tsx"),Z=n("./app/components/organizations/pageFilterBar.tsx"),w=n("./app/components/organizations/pageFilters/parse.tsx"),b=n("./app/styles/space.tsx"),A=n("./app/utils.tsx"),S=n("./app/utils/performance/anomalies/anomaliesQuery.tsx"),j=n("./app/utils/queryString.tsx"),C=n("./app/utils/theme.tsx"),k=n("./app/views/performance/landing/widgets/components/performanceWidget.tsx"),_=n("./app/views/performance/landing/widgets/components/selectableList.tsx"),P=n("./app/views/performance/landing/widgets/widgetDefinitions.tsx"),L=n("./app/components/count.tsx"),z=n("./app/components/gridEditable/index.tsx"),M=n("./app/components/gridEditable/sortLink.tsx"),q=n("./app/icons/index.tsx"),I=n("./app/utils/discover/fieldRenderers.tsx"),N=n("./app/utils/discover/fields.tsx"),D=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const E=e=>({anomaly:`#${e.id}`,confidence:e.confidence,timestamp:new Date(e.start),timeInterval:e.end-e.start,expected:e.expected,received:e.received});function T(e){const{location:t,organization:n,isLoading:o,anomalies:r}=e,a=(null==r?void 0:r.map(E))||[];return(0,D.tZ)(z.ZP,{isLoading:o,data:a,columnOrder:Object.values(V),columnSortBy:[],grid:{renderHeadCell:F,renderBodyCell:R(t,n)},location:t})}function F(e,t){const n=(0,N.qG)(e.key,W[e.key]);return(0,D.tZ)(M.Z,{title:e.name,align:n,direction:void 0,canSort:!1,generateSortLink:()=>{}})}function R(e,t){return(n,r)=>{const a=(0,I.Js)(n.key,W);return"confidence"===n.key?(0,D.tZ)(X,{children:"low"===r.confidence?(0,D.tZ)(O,{children:(0,o.t)("Low Confidence")}):(0,D.tZ)($,{children:(0,o.t)("High Confidence")})}):"expected"===n.key?(0,D.tZ)(B,{children:(0,D.tZ)(L.Z,{value:r.expected})}):"received"===n.key?(0,D.BX)(B,{children:[(0,D.tZ)(L.Z,{value:r.received}),(0,D.tZ)(q.CC,{size:"sm",direction:r.received>r.expected?"up":"down"})]}):a(r,{location:e,organization:t})}}T.displayName="AnomaliesTable",F.displayName="renderHeadCell";const B=(0,d.Z)("div",{target:"e1uhfujm3"})("display:flex;justify-content:flex-end;align-items:center;gap:",(0,b.Z)(.5),";"),O=(0,d.Z)("div",{target:"e1uhfujm2"})("color:",(e=>e.theme.yellow300),";"),$=(0,d.Z)("div",{target:"e1uhfujm1"})("color:",(e=>e.theme.red300),";"),X=(0,d.Z)("div",{target:"e1uhfujm0"})({name:"1qetfgc",styles:"text-align:left;justify-self:flex-end;flex-grow:1"}),V={anomaly:{key:"anomaly",name:(0,o.t)("Anomaly"),width:z.z7},confidence:{key:"confidence",name:(0,o.t)("Confidence"),width:z.z7},timeInterval:{key:"timeInterval",name:(0,o.t)("Time Interval"),width:z.z7},timestamp:{key:"timestamp",name:(0,o.t)("Timestamp"),width:z.z7},expected:{key:"expected",name:(0,o.t)("Expected"),width:z.z7},received:{key:"received",name:(0,o.t)("Received"),width:z.z7}},W={anomaly:"string",confidence:"string",timeInterval:"duration",timestamp:"date",expected:"number",received:"number"};var H=n("./app/components/charts/chartZoom.tsx"),Q=n("./app/components/charts/lineChart.tsx"),G=n("./app/utils/dates.tsx"),U=n("./app/utils/discover/charts.tsx");const Y=e=>{const{data:t,location:n,statsPeriod:r,height:a,router:i,start:s,end:l}=e,d=s?(0,G.hC)(s):null,c=l?(0,G.hC)(l):null,{utc:p}=(0,w.fK)(n.query),m={legend:{right:10,top:5,data:[(0,o.t)("High Confidence"),(0,o.t)("Low Confidence")]},seriesOptions:{showSymbol:!1},height:a,tooltip:{trigger:"axis",valueFormatter:U.CX},xAxis:void 0,yAxis:{axisLabel:{formatter:e=>(0,U.gu)(e,"tpm()")}}};return(0,D.tZ)(H.Z,{router:i,period:r,start:d,end:c,utc:"true"===p,children:e=>(0,D.tZ)(Q.w,{...e,series:t,...m})})};Y.displayName="_AnomalyChart";const K=(0,p.withRouter)(Y),J=e=>`#${e.id}`,ee=e=>[{name:J(e),xAxis:e.start},{xAxis:e.end}],te=(e,t)=>{const n=[],o=t.data;if(!o)return{isLoading:t.isLoading,isErrored:!!t.error,data:void 0,hasData:!1,loading:t.isLoading};n.push({seriesName:"tpm()",data:o.y.data.map((e=>{let[t,[{count:n}]]=e;return{name:t,value:n}}))}),n.push({seriesName:"tpm() lower bound",data:o.yhat_lower.data.map((e=>{let[t,[{count:n}]]=e;return{name:t,value:n}}))}),n.push({seriesName:"tpm() upper bound",data:o.yhat_upper.data.map((e=>{let[t,[{count:n}]]=e;return{name:t,value:n}}))});const r=t.data.anomalies,a=r.filter((e=>"high"===e.confidence)).map(ee),i=r.filter((e=>"high"===e.confidence)).map((e=>({xAxis:e.start,name:J(e)}))),s=r.filter((e=>"low"===e.confidence)).map(ee),l=r.filter((e=>"low"===e.confidence)).map((e=>({xAxis:e.start,name:J(e)})));return n.push({seriesName:"High Confidence",color:C.ZP.red300,data:[],silent:!0,markLine:(0,f.Z)({animation:!1,lineStyle:{color:C.ZP.red300,type:"solid",width:1,opacity:1},data:i,label:{show:!0,rotate:90,color:C.ZP.red300,position:"insideEndBottom",fontSize:"10",offset:[5,5],formatter:e=>`${e.data.name}`}}),markArea:(0,h.Z)({itemStyle:{color:C.ZP.red300,opacity:.2},label:{show:!1},data:a})}),n.push({seriesName:"Low Confidence",color:C.ZP.yellow200,data:[],markLine:(0,f.Z)({animation:!1,lineStyle:{color:C.ZP.yellow200,type:"solid",width:1,opacity:1},data:l,label:{show:!0,rotate:90,color:C.ZP.yellow300,position:"insideEndBottom",fontSize:"10",offset:[5,5],formatter:e=>`${e.data.name}`}}),markArea:(0,h.Z)({itemStyle:{color:C.ZP.yellow200,opacity:.2},label:{show:!1},data:s})}),{isLoading:t.isLoading,isErrored:!!t.error,data:n,hasData:!0,loading:t.isLoading}};function ne(e){const t=C.ZP.charts.colors[0],n=(0,c.useMemo)((()=>({fields:"",component:t=>(0,D.tZ)(c.Fragment,{children:t.children(e.queryData)}),transform:te})),[e.queryData]);return(0,D.tZ)(k.I,{...e,title:(0,o.t)("Transaction Count"),titleTooltip:(0,o.t)("Represents transaction count across time, with added visualizations to highlight anomalies in your data."),fields:[""],chartSetting:P.s.TPM_AREA,chartDefinition:P.W[P.s.TPM_AREA],Subtitle:()=>(0,D.tZ)("div",{}),HeaderActions:()=>(0,D.tZ)("div",{}),EmptyComponent:_.xq,Queries:{chart:n},Visualizations:[{component:e=>{var n,o;const r=null!==(n=null===(o=e.widgetData.chart.data)||void 0===o?void 0:o.map((e=>("tpm()"!==e.seriesName&&(e.lineStyle={type:"dashed",color:t,width:1.5}),"score"===e.seriesName&&(e.lineStyle={color:C.ZP.red400}),e))))&&void 0!==n?n:[];return(0,D.tZ)(K,{...e,data:r,height:250,statsPeriod:void 0,start:null,end:null})},height:250}]})}function oe(e){const{location:t,organization:n,eventView:o}=e,r=(0,j.ro)(t.query.query,"");return(0,D.BX)(x.or,{fullWidth:!0,children:[(0,D.BX)(re,{children:[(0,D.BX)(Z.Z,{condensed:!0,children:[(0,D.tZ)(y.Z,{}),(0,D.tZ)(g.Z,{alignDropdown:"left"})]}),(0,D.tZ)(v.Z,{organization:n,projectIds:o.project,query:r,fields:o.fields,onSearch:(a="query",function(e){const n=(0,w.fK)({...t.query||{},[a]:e}),o=["cursor"];(0,A.ri)(e)||o.push(a);const r=u()(n,o);p.browserHistory.push({...t,query:r})})})]}),(0,D.tZ)(S.Z,{organization:n,location:t,eventView:o,children:t=>{var n;return(0,D.BX)(c.Fragment,{children:[(0,D.tZ)(ne,{...e,queryData:t}),(0,D.tZ)(T,{anomalies:null===(n=t.data)||void 0===n?void 0:n.anomalies,...e,isLoading:t.isLoading})]})}})]});var a}ne.displayName="Anomalies",oe.displayName="AnomaliesContent";const re=(0,d.Z)("div",{target:"eoagdn90"})("display:grid;gap:",(0,b.Z)(2),";margin-bottom:",(0,b.Z)(2),";@media (min-width: ",(e=>e.theme.breakpoints.small),"){grid-template-columns:auto 1fr;}"),ae=oe;var ie=n("./app/views/performance/transactionSummary/transactionAnomalies/utils.tsx");function se(e){const{location:t,organization:n,projects:o}=e;return(0,D.tZ)(r.kP,{children:(0,D.tZ)(s.ZP,{location:t,organization:n,projects:o,tab:l.Z.Anomalies,generateEventView:ie.h2,getDocumentTitle:le,childComponent:ae})})}function le(e){return"string"==typeof e&&String(e).trim().length>0?[String(e).trim(),(0,o.t)("Performance")].join(" - "):[(0,o.t)("Summary"),(0,o.t)("Performance")].join(" - ")}se.displayName="TransactionAnomalies";const de=(0,i.Z)((0,a.Z)(se))},"./app/views/performance/transactionSummary/utils.tsx":(e,t,n)=>{n.d(t,{K0:()=>d,PU:()=>p,Z6:()=>u,e1:()=>m,uI:()=>f,vd:()=>h,xf:()=>c});var o=n("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),r=n("./app/styles/space.tsx"),a=n("./app/utils/discover/urls.tsx"),i=n("./app/utils/performance/urls.ts"),s=n("./app/utils/tokenizeSearch.tsx"),l=n("./app/views/performance/traceDetails/utils.tsx");let d;function c(e){const t=p(e);return t.removeFilter("transaction"),t}function p(e){const t=new s.MY(e);return t.removeFilter("event.type"),t}function m(e){let{orgSlug:t,transaction:n,projectID:o,query:r,unselectedSeries:a="p100()",display:i,trendFunction:s,trendColumn:l,showTransactions:d,additionalQuery:p}=e;const m=function(e){let{orgSlug:t}=e;return`/organizations/${t}/performance/summary/`}({orgSlug:t});let u;return u="string"==typeof r.query?c(r.query).formatString():r.query,{pathname:m,query:{transaction:n,project:o,environment:r.environment,statsPeriod:r.statsPeriod,start:r.start,end:r.end,query:u,unselectedSeries:a,showTransactions:d,display:i,trendFunction:s,trendColumn:l,...p}}}function u(e){return(t,n,o)=>{const r=`${n.trace}`;return r?(0,l.YA)(t,r,e,{}):{}}}function h(e){return(t,n,o,r)=>{const s=(0,a.JE)(n);return(0,i.D)(t.slug,s,e,o,r)}}!function(e){e.FASTEST="fastest",e.SLOW="slow",e.OUTLIER="outlier",e.RECENT="recent"}(d||(d={}));const f=(0,o.Z)("div",{target:"e1radvp0"})("margin-top:",(0,r.Z)(3),";")},"../node_modules/downsample/methods/ASAP.js":(e,t)=>{function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}var o={"PointValueExtractor<unknown>":e=>"function"==typeof e,XYDataPoint:e=>null!=e&&o.X(e.x)&&"number"==typeof e.y,X:e=>"number"==typeof e||e instanceof Date},r=e=>{for(var t=0,n=0;n<e.length;n+=1)t+=e[n];return t/e.length},a=(e,t)=>{for(var n=e.length,o=new Array(n),r=0;r<n;r++)o[r]=t(e[r],r);return o},i=e=>o["PointValueExtractor<unknown>"](e)?e:t=>t[e],s=(e,t)=>({x:e,y:t}),l=()=>({x:e=>{var t=o.XYDataPoint(e)?e.x:e[0];return t instanceof Date?t.getTime():t},y:e=>"y"in e?e.y:e[1],toPoint:s}),d=(e,t)=>new e.constructor(t),c=function(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=[],r=0,a=0;a<t;a++)r+=e[a];for(var i=t;i<=e.length;i++)(i-t)%n==0&&o.push(r/t),r+=e[i]-e[i-t];return o},p=e=>{var t=i(e.x),n=i(e.y),o=e.toPoint;return function(e,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(0===e.length)return e;for(var s,l=a(e,n),c=a(e,t),p=d(e,0),m=0,u=0;u<r;u++)m+=l[u];for(var h=r;h<=l.length;h++)(h-r)%i==0&&(s=o((c[h-r]+c[h-1])/2,m/r,h-r),p[p.length]=s),m+=l[h]-l[h-r];return p}};function m(e,t){if(e.length!=t.length)throw"Mismatched lengths";var n=e.length;0!=n&&(0==(n&n-1)?function(e,t){if(e.length!=t.length)throw"Mismatched lengths";var n=e.length;if(1!=n){for(var o=-1,r=0;r<32;r++)1<<r==n&&(o=r);if(-1==o)throw"Length is not a power of 2";for(var a=new Array(n/2),i=new Array(n/2),s=0;s<n/2;s++)a[s]=Math.cos(2*Math.PI*s/n),i[s]=Math.sin(2*Math.PI*s/n);for(var l=0;l<n;l++){var d=h(l,o);if(d>l){var c=e[l];e[l]=e[d],e[d]=c,c=t[l],t[l]=t[d],t[d]=c}}for(var p=2;p<=n;p*=2)for(var m=p/2,u=n/p,f=0;f<n;f+=p)for(var g=f,y=0;g<f+m;g++,y+=u){var v=e[g+m]*a[y]+t[g+m]*i[y],x=-e[g+m]*i[y]+t[g+m]*a[y];e[g+m]=e[g]-v,t[g+m]=t[g]-x,e[g]+=v,t[g]+=x}}}(e,t):function(e,t){if(e.length!=t.length)throw"Mismatched lengths";for(var n=e.length,o=1;o<2*n+1;)o*=2;for(var r=new Array(n),a=new Array(n),i=0;i<n;i++){var s=i*i%(2*n);r[i]=Math.cos(Math.PI*s/n),a[i]=Math.sin(Math.PI*s/n)}for(var l=new Array(o),d=new Array(o),c=0;c<n;c++)l[c]=e[c]*r[c]+t[c]*a[c],d[c]=-e[c]*a[c]+t[c]*r[c];for(var p=n;p<o;p++)l[p]=d[p]=0;var h=new Array(o),f=new Array(o);h[0]=r[0],f[0]=a[0];for(var g=1;g<n;g++)h[g]=h[o-g]=r[g],f[g]=f[o-g]=a[g];for(var y=n;y<=o-n;y++)h[y]=f[y]=0;var v=new Array(o),x=new Array(o);!function(e,t,n,o,r,a){if(e.length!=t.length||e.length!=n.length||n.length!=o.length||e.length!=r.length||r.length!=a.length)throw"Mismatched lengths";var i=e.length;e=e.slice(),t=t.slice(),n=n.slice(),o=o.slice(),m(e,t),m(n,o);for(var s=0;s<i;s++){var l=e[s]*n[s]-t[s]*o[s];t[s]=t[s]*n[s]+e[s]*o[s],e[s]=l}u(e,t);for(var d=0;d<i;d++)r[d]=e[d]/i,a[d]=t[d]/i}(l,d,h,f,v,x);for(var Z=0;Z<n;Z++)e[Z]=v[Z]*r[Z]+x[Z]*a[Z],t[Z]=-v[Z]*a[Z]+x[Z]*r[Z]}(e,t))}function u(e,t){m(t,e)}function h(e,t){for(var n=0,o=0;o<t;o++)n=n<<1|1&e,e>>>=1;return n}p(l());var f,g,y,v=e=>(e=>{for(var t=r(e),n=0,o=0;o<e.length;o+=1)n+=(e[o]-t)*(e[o]-t);return Math.sqrt(n/e.length)})((e=>{var t=e.length-1;if(t<1)return[];for(var n=new Array(t),o=0;o<t;o++)n[o]=e[o+1]-e[o];return n})(e)),x=e=>{for(var t,n,o=e.length,a=r(e),i=0,s=0,l=0;l<o;l++)i+=(n=(t=e[l]-a)*t)*n,s+=n;return o*i/(s*s)},Z=(f=l(),g=i(f.y),y=p(f),function e(t,o){if(0===t.length)return t;if(o<=0)throw new Error("Supplied non-positive resolution parameter to ASAP: ".concat(o));if(t.length>=2*o){var i=Math.trunc(t.length/o);return e(y(t,i,i),o)}for(var s=a(t,g),l=((e,t)=>{for(var o=e.length,a=r(e),i=Math.pow(2,Math.trunc(Math.log2(o))+1),s=new Array(i).fill(0),l=new Array(i).fill(0),d=0;d<o;d+=1)s[d]=e[d]-a;m(s,l);for(var c=0;c<s.length;c+=1)s[c]=Math.pow(s[c],2)+Math.pow(l[c],2),l[c]=0;u(s,l);for(var p=[],h=1;h<t;h++)p[h]=s[h]/s[0];var f=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.2,n=e.length;if(n<=1)return[[],0];var o=0,r=[];if(e.length>1)for(var a=e[1]>e[0],i=1,s=2;s<e.length;s+=1)!a&&e[s]>e[s-1]?(i=s,a=!a):a&&e[s]>e[i]?i=s:a&&e[s]<e[s-1]&&(i>1&&e[i]>t&&(r.push(i),e[i]>o&&(o=e[i])),a=!a);if(r.length<=1)for(var l=2;l<n;l+=1)r.push(l);return[r,o]}(p),g=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],o=!0,r=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(o=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);o=!0);}catch(e){r=!0,a=e}finally{try{o||null==s.return||s.return()}finally{if(r)throw a}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return n(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);return"Object"===o&&e.constructor&&(o=e.constructor.name),"Map"===o||"Set"===o?Array.from(e):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?n(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(f,2);return{correlations:p,peaks:g[0],maxCorrelation:g[1]}})(s,Math.round(s.length/10)),d=l.correlations,p=l.peaks,h=l.maxCorrelation,f=x(s),Z=v(s),w=1,b=1,A=-1,S=s.length/10,j=p.length-1;j>=0;j-=1){var C=p[j];if(C<b||1===C)break;if(!(Math.sqrt(1-d[C])*w>Math.sqrt(1-d[w])*C)){var k=c(s,C,1),_=x(k),P=v(k);_>=f&&(P<Z&&(Z=P,w=C),b=Math.round(Math.max(C*Math.sqrt((h-1)/(d[C]-1)),b)),A<0&&(A=j))}}return A>0&&(A<p.length-2&&(S=p[A+1]),b=Math.max(b,p[A]+1)),w=((e,t,n,o,r,a)=>{for(;e<=t;){var i=Math.round((e+t)/2),s=c(n,i,1);if(x(s)>=r){var l=v(s);l<o&&(a=i,o=l),e=i+1}else t=i-1}return a})(b,S,s,Z,f,w),y(t,w,1)});t.Cl=Z}}]);
//# sourceMappingURL=../sourcemaps/app_components_links_listLink_tsx-app_views_performance_transactionSummary_transactionAnomali-15914d.ef26f71cdccdb9ffb43c419a0ec96ea5.js.map