"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_views_profiling_index_tsx"],{"./app/views/profiling/index.tsx":(e,i,t)=>{t.r(i),t.d(i,{default:()=>h}),t("../node_modules/core-js/modules/web.dom-collections.iterator.js");var o=t("../node_modules/react/index.js"),a=t("../node_modules/@sentry/hub/esm/exports.js"),n=t("./app/actionCreators/prompts.tsx"),s=t("./app/components/acl/feature.tsx"),r=t("./app/components/alert.tsx"),d=t("./app/components/loadingIndicator.tsx"),l=t("./app/locale.tsx"),p=t("./app/styles/organization.tsx"),c=t("./app/utils/analytics/trackAdvancedAnalyticsEvent.tsx"),u=t("./app/utils/useApi.tsx"),g=t("./app/utils/withOrganization.tsx"),m=t("./app/views/profiling/profilingOnboarding.tsx"),f=t("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function b(){return(0,f.tZ)(p.JH,{children:(0,f.tZ)(r.Z,{type:"warning",children:(0,l.t)("You don't have access to this feature")})})}function x(e){let{organization:i,children:t}=e;const r=(0,u.Z)(),[p,g]=(0,o.useState)({type:"initial"});(0,o.useEffect)((()=>{g({type:"loading"}),(0,n.vu)(r,{organizationId:i.id,feature:"profiling_onboarding"}).then((e=>{g({type:"resolved",data:e})})).catch((e=>{a.Tb(e),g({type:"errored",error:(0,l.t)("Error: Unable to load prompt data")})}))}),[r,i]);const x=(0,o.useCallback)((e=>(g({type:"resolved",data:{dismissedTime:Date.now()}}),(0,c.Z)("profiling_views.onboarding_action",{action:e,organization:i}),(0,n.Xt)(r,{feature:"profiling_onboarding",organizationId:i.id,status:"dismissed"}))),[i,r]),h=(0,o.useCallback)((()=>{x("done")}),[x]),v=(0,o.useCallback)((()=>{x("dismissed")}),[x]);return(0,f.tZ)(s.Z,{hookName:"feature-disabled:profiling-page",features:["profiling"],organization:i,renderDisabled:b,children:"loading"===p.type?(0,f.tZ)(d.Z,{}):(y=p,"resolved"===y.type&&"number"!=typeof(null===(Z=y.data)||void 0===Z?void 0:Z.dismissedTime)?(0,f.tZ)(m.Z,{organization:i,onDismissClick:v,onDoneClick:h}):t)});var y,Z}b.displayName="renderNoAccess",x.displayName="ProfilingContainer";const h=(0,g.Z)(x)}}]);
//# sourceMappingURL=../sourcemaps/app_views_profiling_index_tsx.c033dba1ed492cc93a4f30e779338e76.js.map