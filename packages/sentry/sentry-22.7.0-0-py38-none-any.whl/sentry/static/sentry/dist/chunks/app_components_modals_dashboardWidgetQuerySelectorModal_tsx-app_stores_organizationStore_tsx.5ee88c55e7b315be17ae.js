(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_components_modals_dashboardWidgetQuerySelectorModal_tsx-app_stores_organizationStore_tsx"],{"./app/actions/organizationActions.tsx":(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});const i=(0,r("../node_modules/reflux/src/index.js").createActions)(["reset","fetchOrgError","update"])},"./app/components/arithmeticInput/parser.tsx":(e,t,r)=>{"use strict";r.d(t,{W9:()=>p});var i=r("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),s=(r("../node_modules/core-js/modules/es.array.includes.js"),r("../node_modules/core-js/modules/es.error.cause.js"),r("./app/locale.tsx")),a=r("./app/components/arithmeticInput/grammar.pegjs"),n=r.n(a);const o=(0,s.t)("Maximum operators exceeded");class d{constructor(e){let{operator:t,lhs:r=null,rhs:s}=e;(0,i.Z)(this,"operator",void 0),(0,i.Z)(this,"lhs",void 0),(0,i.Z)(this,"rhs",void 0),this.operator=t,this.lhs=r,this.rhs=s}}class c{constructor(e){let{term:t,location:r}=e;(0,i.Z)(this,"term",void 0),(0,i.Z)(this,"location",void 0),this.term=t,this.location=r}}class l{constructor(){(0,i.Z)(this,"numOperations",void 0),(0,i.Z)(this,"errors",void 0),(0,i.Z)(this,"fields",void 0),(0,i.Z)(this,"functions",void 0),(0,i.Z)(this,"tokenTerm",((e,t)=>t.length>0?(t[0].lhs=e,u(t)):e)),(0,i.Z)(this,"tokenOperation",((e,t)=>(this.numOperations+=1,this.numOperations>10&&!this.errors.includes(o)&&this.errors.push(o),"divide"===e&&"0"===t&&this.errors.push((0,s.t)("Division by 0 is not allowed")),new d({operator:e,rhs:t})))),(0,i.Z)(this,"tokenFactor",((e,t)=>(t[0].lhs=e,u(t)))),(0,i.Z)(this,"tokenField",((e,t)=>{const r=new c({term:e,location:t});return this.fields.push(r),e})),(0,i.Z)(this,"tokenFunction",((e,t)=>{const r=new c({term:e,location:t});return this.functions.push(r),e})),this.numOperations=0,this.errors=[],this.fields=[],this.functions=[]}}function u(e){let t=e.shift();for(;e.length>0;){const r=e.shift();r&&t&&null===r.lhs&&(r.lhs=t),t=r}if(void 0===t)throw new Error("Unable to parse arithmetic");return t}function p(e){const t=new l;try{return{result:n().parse(e,{tc:t}),error:t.errors[0],tc:t}}catch(e){return{result:null,error:e.message,tc:t}}}},"./app/components/modals/dashboardWidgetQuerySelectorModal.tsx":(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>S,modalCss:()=>k});var i=r("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),s=r("../node_modules/react/index.js"),a=r("../node_modules/react-router/es/index.js"),n=r("./app/components/button.tsx"),o=r("./app/components/forms/controls/input.tsx"),d=r("./app/icons/index.tsx"),c=r("./app/locale.tsx"),l=r("./app/styles/space.tsx"),u=r("./app/utils/analytics/trackAdvancedAnalyticsEvent.tsx"),p=r("./app/utils/withApi.tsx"),m=r("./app/utils/withPageFilters.tsx"),g=r("./app/views/dashboardsV2/utils.tsx"),h=r("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");class _ extends s.Component{renderQueries(){const{organization:e,widget:t,selection:r,isMetricsData:i}=this.props;return t.queries.map(((n,o)=>{const l=(0,g.z1)({...t,queries:[n]},r,e,0,i);return(0,h.tZ)(s.Fragment,{children:(0,h.BX)(f,{children:[(0,h.BX)(b,{children:[(0,h.tZ)(y,{htmlFor:"smart-search-input","aria-label":(0,c.t)("Search events"),children:(0,h.tZ)(d.jV,{})}),(0,h.tZ)(w,{value:n.conditions,disabled:!0})]}),(0,h.tZ)(a.Link,{to:l,children:(0,h.tZ)(v,{priority:"primary",icon:(0,h.tZ)(d.g6,{size:"xs",direction:"right"}),onClick:()=>{(0,u.Z)("dashboards_views.query_selector.selected",{organization:e,widget_type:t.displayType})},"aria-label":(0,c.t)("Open in Discover")})})]})},o)}))}render(){const{Body:e,Header:t,widget:r}=this.props;return(0,h.BX)(s.Fragment,{children:[(0,h.tZ)(t,{closeButton:!0,children:(0,h.tZ)("h4",{children:r.title})}),(0,h.BX)(e,{children:[(0,h.tZ)("p",{children:(0,c.t)("Multiple queries were used to create this widget visualization. Which query would you like to view in Discover?")}),this.renderQueries()]})]})}}_.displayName="DashboardWidgetQuerySelectorModal";const w=(0,i.Z)(o.Z,{target:"e10oo76w4"})({name:"97snz3",styles:"text-overflow:ellipsis;padding:0px;box-shadow:none;height:auto;&:disabled{border:none;cursor:default;}"}),f=(0,i.Z)("div",{target:"e10oo76w3"})("display:flex;margin-bottom:",(0,l.Z)(1),";"),v=(0,i.Z)(n.ZP,{target:"e10oo76w2"})("margin-left:",(0,l.Z)(1),";"),b=(0,i.Z)("div",{target:"e10oo76w1"})("border:1px solid ",(e=>e.theme.border),";box-shadow:inset ",(e=>e.theme.dropShadowLight),";background:",(e=>e.theme.backgroundSecondary),";padding:7px ",(0,l.Z)(1),";position:relative;display:grid;grid-template-columns:max-content 1fr max-content;gap:",(0,l.Z)(1),";align-items:start;flex-grow:1;border-radius:",(e=>e.theme.borderRadius),";"),y=(0,i.Z)("label",{target:"e10oo76w0"})("display:flex;padding:",(0,l.Z)(.5)," 0;margin:0;color:",(e=>e.theme.gray300),";"),k={name:"l07bt5",styles:"width:100%;max-width:700px;margin:70px auto"},S=(0,p.Z)((0,m.Z)(_))},"./app/stores/organizationStore.tsx":(e,t,r)=>{"use strict";r.d(t,{Z:()=>d}),r("../node_modules/core-js/modules/es.string.replace.js");var i=r("../node_modules/reflux/src/index.js"),s=r("./app/actions/organizationActions.tsx"),a=r("./app/constants/index.tsx"),n=r("./app/utils/makeSafeRefluxStore.ts");const o={unsubscribeListeners:[],init(){this.reset(),this.unsubscribeListeners.push(this.listenTo(s.Z.update,this.onUpdate)),this.unsubscribeListeners.push(this.listenTo(s.Z.reset,this.reset)),this.unsubscribeListeners.push(this.listenTo(s.Z.fetchOrgError,this.onFetchOrgError))},reset(){this.loading=!0,this.error=null,this.errorType=null,this.organization=null,this.dirty=!1,this.trigger(this.get())},onUpdate(e){let{replace:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.loading=!1,this.error=null,this.errorType=null,this.organization=t?e:{...this.organization,...e},this.dirty=!1,this.trigger(this.get())},onFetchOrgError(e){switch(this.organization=null,this.errorType=null,null==e?void 0:e.status){case 401:this.errorType=a.Yc.ORG_NO_ACCESS;break;case 404:this.errorType=a.Yc.ORG_NOT_FOUND}this.loading=!1,this.error=e,this.dirty=!1,this.trigger(this.get())},get(){return{organization:this.organization,error:this.error,loading:this.loading,errorType:this.errorType,dirty:this.dirty}},getState(){return this.get()}},d=(0,i.createStore)((0,n.Y)(o))},"./app/utils/analytics/trackAdvancedAnalyticsEvent.tsx":(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});const i={"page_filters.pin_click":"Page Filters: Pin Button Clicked","dashboards_views.query_selector.opened":"Dashboards2: Query Selector opened for Widget","dashboards_views.query_selector.selected":"Dashboards2: Query selected in Query Selector","dashboards_views.open_in_discover.opened":"Dashboards2: Widget Opened In Discover","dashboards_views.widget_library.add":"Dashboards2: Number of prebuilt widgets added","dashboards_views.widget_library.add_widget":"Dashboards2: Title of prebuilt widget added","dashboards_views.widget_library.switch_tab":"Dashboards2: Widget Library tab switched","dashboards_views.widget_library.opened":"Dashboards2: Add Widget Library opened","dashboards_manage.search":"Dashboards Manager: Search","dashboards_manage.change_sort":"Dashboards Manager: Sort By Changed","dashboards_manage.create.start":"Dashboards Manager: Dashboard Create Started","dashboards_manage.templates.toggle":"Dashboards Manager: Template Toggle Changed","dashboards_manage.templates.add":"Dashboards Manager: Template Added","dashboards_manage.templates.preview":"Dashboards Manager: Template Previewed","dashboards_views.widget_viewer.edit":"Widget Viewer: Edit Widget Modal Opened","dashboards_views.widget_viewer.open":"Widget Viewer: Opened","dashboards_views.widget_viewer.open_source":"Widget Viewer: Opened in Discover/Issues","dashboards_views.widget_viewer.paginate":"Widget Viewer: Paginate","dashboards_views.widget_viewer.select_query":"Widget Viewer: Query Selected","dashboards_views.widget_viewer.sort":"Widget Viewer: Table Sorted","dashboards_views.widget_viewer.toggle_legend":"Widget Viewer: Legend Toggled","dashboards_views.widget_viewer.zoom":"Widget Viewer: Chart zoomed","dashboards_views.edit_widget_modal.confirm":"Dashboards2: Edit Dashboard Widget modal form submitted","dashboards_views.edit_widget_modal.opened":"Dashboards2: Edit Widget Modal Opened","dashboards_views.add_widget_modal.opened":"Dashboards2: Add Widget Modal opened","dashboards_views.add_widget_modal.change":"Dashboards2: Field changed in Add Widget Modal","dashboards_views.add_widget_modal.confirm":"Dashboards2: Add Widget to Dashboard modal form submitted","dashboards_views.add_widget_modal.save":"Dashboards2: Widget saved directly to Dashboard from Add Widget to Dashboard modal","dashboards_views.widget_builder.change":"Widget Builder: Field changed","dashboards_views.widget_builder.save":"Widget Builder: Form submitted","dashboards_views.widget_builder.opened":"Widget Builder: Page opened","discover_views.add_to_dashboard.modal_open":"Discover2: Add to Dashboard modal opened","discover_views.add_to_dashboard.confirm":"Discover2: Add to Dashboard modal form submitted","growth.clicked_mobile_prompt_setup_project":"Growth: Clicked Mobile Prompt Setup Project","growth.clicked_mobile_prompt_ask_teammate":"Growth: Clicked Mobile Prompt Ask Teammate","growth.submitted_mobile_prompt_ask_teammate":"Growth: Submitted Mobile Prompt Ask Teammate","growth.demo_click_get_started":"Growth: Demo Click Get Started","growth.demo_click_docs":"Growth: Demo Click Docs","growth.demo_click_request_demo":"Growth: Demo Click Request Demo","growth.clicked_sidebar":"Growth: Clicked Sidebar","growth.onboarding_load_choose_platform":"Growth: Onboarding Load Choose Platform Page","growth.onboarding_set_up_your_project":"Growth: Onboarding Click Set Up Your Project","growth.onboarding_set_up_your_projects":"Growth: Onboarding Click Set Up Your Projects","growth.select_platform":"Growth: Onboarding Choose Platform","growth.platformpicker_category":"Growth: Onboarding Platform Category","growth.platformpicker_search":"Growth: Onboarding Platform Search","growth.metric_alert_preset_use_template":"Growth: Metric Alert Preset Use Template","growth.metric_alert_preset_sidebar_clicked":"Growth: Metric Alert Preset Sidebar Clicked","growth.onboarding_start_onboarding":"Growth: Onboarding Start Onboarding","growth.onboarding_clicked_skip":"Growth: Onboarding Clicked Skip","growth.onboarding_take_to_error":"Growth: Onboarding Take to Error","growth.onboarding_view_full_docs":"Growth: Onboarding View Full Docs","growth.onboarding_view_sample_event":"Growth: Onboarding View Sample Event","growth.onboarding_clicked_instrument_app":"Growth: Onboarding Clicked Instrument App","growth.onboarding_clicked_setup_platform_later":"Growth: Onboarding Clicked Setup Platform Later","growth.onboarding_quick_start_cta":"Growth: Quick Start Onboarding CTA","invite_request.approved":"Invite Request Approved","invite_request.denied":"Invite Request Denied","growth.demo_modal_clicked_signup":"Growth: Demo Modal Clicked Signup","growth.demo_modal_clicked_continue":"Growth: Demo Modal Clicked Continue","growth.clicked_enter_sandbox":"Growth: Clicked Enter Sandbox","growth.onboarding_clicked_project_in_sidebar":"Growth: Clicked Project Sidebar","growth.sample_transaction_docs_link_clicked":"Growth: Sample Transaction Docs Link Clicked","growth.sample_error_onboarding_link_clicked":"Growth: Sample Error Onboarding Link Clicked","growth.issue_open_in_discover_btn_clicked":"Growth: Open in Discover Button in Issue Details clicked","member_settings_page.loaded":"Member Settings Page Loaded","invite_modal.opened":"Invite Modal: Opened","invite_modal.closed":"Invite Modal: Closed","invite_modal.add_more":"Invite Modal: Add More","invite_modal.invites_sent":"Invite Modal: Invites Sent","invite_modal.requests_sent":"Invite Modal: Requests Sent","sdk_updates.seen":"SDK Updates: Seen","sdk_updates.snoozed":"SDK Updates: Snoozed","sdk_updates.clicked":"SDK Updates: Clicked","onboarding.wizard_opened":"Onboarding Wizard Opened","onboarding.wizard_clicked":"Onboarding Wizard Clicked","sample_event.button_viewed":null,"sample_event.created":"Sample Event Created","sample_event.failed":"Sample Event Failed","vitals_alert.clicked_see_vitals":"Vitals Alert: Clicked See Vitals","vitals_alert.dismissed":"Vitals Alert: Dismissed","vitals_alert.clicked_docs":"Vitals Alert: Clicked Docs","event_cause.viewed":null,"event_cause.docs_clicked":"Event Cause Docs Clicked","event_cause.snoozed":"Event Cause Snoozed","event_cause.dismissed":"Event Cause Dismissed","issue_error_banner.viewed":"Issue Error Banner Viewed","issues_tab.viewed":"Viewed Issues Tab","issue_search.failed":"Issue Search: Failed","issue.search_sidebar_clicked":"Issue Search Sidebar Clicked","inbox_tab.issue_clicked":"Clicked Issue from Inbox Tab","issues_stream.issue_clicked":"Clicked Issue from Issues Stream","issues_stream.issue_assigned":"Assigned Issue from Issues Stream","issue.shared_publicly":"Issue Shared Publicly",resolve_issue:"Resolve Issue","tag.clicked":"Tag: Clicked","performance_views.create_sample_transaction":"Growth: Performance Sample Transaction","performance_views.tour.start":"Performance Views: Tour Start","performance_views.tour.advance":"Performance Views: Tour Advance","performance_views.tour.close":"Performance Views: Tour Close","performance_views.landingv2.transactions.sort":"Performance Views: Landing Transactions Sorted","performance_views.overview.navigate.summary":"Performance Views: Overview view summary","performance_views.overview.cellaction":"Performance Views: Cell Action Clicked","performance_views.landingv3.widget.interaction":"Performance Views: Landing Widget Interaction","performance_views.landingv3.widget.switch":"Performance Views: Landing Widget Switched","performance_views.landingv3.batch_queries":"Performance Views: Landing Query Batching","performance_views.landingv3.display_change":"Performance Views: Switch Landing Tabs","performance_views.landingv3.table_pagination":"Performance Views: Landing Page Transactions Table Page Changed","performance_views.span_summary.change_chart":"Performance Views: Span Summary displayed chart changed","performance_views.span_summary.view":"Performance Views: Span Summary page viewed","performance_views.spans.change_op":"Performance Views: Change span operation name","performance_views.spans.change_sort":"Performance Views: Change span sort column","performance_views.overview.view":"Performance Views: Transaction overview view","performance_views.overview.search":"Performance Views: Transaction overview search","performance_views.vital_detail.view":"Performance Views: Vital Detail viewed","performance_views.vital_detail.switch_vital":"Performance Views: Vital Detail vital type switched","performance_views.trace_view.view":"Performance Views: Trace View viewed","performance_views.trace_view.open_in_discover":"Performance Views: Trace View open in Discover button clicked","performance_views.trace_view.open_transaction_details":"Performance Views: Trace View transaction details opened","performance_views.transaction_summary.change_chart_display":"Performance Views: Transaction Summary chart display changed","performance_views.transaction_summary.status_breakdown_click":"Performance Views: Transaction Summary status breakdown option clicked","performance_views.all_events.open_in_discover":"Performance Views: All Events page open in Discover button clicked","performance_views.tags.change_tag":"Performance Views: Tags Page changed selected tag","performance_views.tags.jump_to_release":"Performance Views: Tags Page link to release in table clicked","performance_views.team_key_transaction.set":"Performance Views: Set Team Key Transaction","performance_views.trends.widget_interaction":"Performance Views: Trends Widget Interaction","performance_views.trends.widget_pagination":"Performance Views: Trends Widget Page Changed","performance_views.trends.change_duration":"Performance Views: Trends Widget Duration Changed","performance_views.event_details.filter_by_op":"Performance Views: Event Details page operation filter applied","performance_views.event_details.search_query":"Performance Views: Event Details search query","performance_views.event_details.open_span_details":"Performance Views: Event Details span details opened","performance_views.event_details.anchor_span":"Performance Views: Event Details span anchored","performance_views.event_details.json_button_click":"Performance Views: Event Details JSON button clicked","profiling_views.landing":"Profiling Views: Landing","profiling_views.onboarding":"Profiling Views: Onboarding","profiling_views.profile_flamegraph":"Profiling Views: Flamegraph","profiling_views.profile_summary":"Profiling Views: Profile Summary","profiling_views.profile_details":"Profiling Views: Profile Details","profiling_views.go_to_flamegraph":"Profiling Views: Go to Flamegraph","profiling_views.onboarding_action":"Profiling Actions: Onboarding Action","sampling.settings.modal.recommended.next.steps_back":"Go back to uniform rate step","sampling.settings.modal.recommended.next.steps_cancel":"Cancel at recommended next steps step ","sampling.settings.modal.recommended.next.steps_done":"Create uniform rule at recommended next steps step","sampling.settings.modal.recommended.next.steps_read_docs":"Read docs at recommended next steps step","sampling.settings.rule.specific_activate":"Activate specific rule","sampling.settings.modal.uniform.rate_cancel":"Cancel at uniform rate step","sampling.settings.rule.specific_deactivate":"Deactivate specific rule","sampling.settings.modal.uniform.rate_done":"Create uniform rule at uniform rate step","sampling.settings.modal.uniform.rate_next":"Go to recommended next steps step","sampling.settings.modal.uniform.rate_read_docs":"Read docs at uniform rate step","sampling.settings.modal.uniform.rate_switch_current":"Switch to current uniform rate step","sampling.settings.modal.uniform.rate_switch_recommended":"Switch to recommended next steps step","sampling.settings.modal.specific.rule.condition_add":"Add Sampling Condition","sampling.settings.rule.specific_create":"Create Specific Sampling Rule","sampling.settings.rule.specific_delete":"Delete Specific Sampling Rule","sampling.settings.rule.specific_save":"Save Specific Sampling Rule","sampling.settings.rule.specific_update":"Update Specific Sampling Rule","sampling.settings.rule.uniform_activate":"Activate Uniform Sampling Rule","sampling.settings.rule.uniform_create":"Create Uniform Sampling Rule","sampling.settings.rule.uniform_deactivate":"Deactivate Uniform Sampling Rule","sampling.settings.rule.uniform_update":"Update Uniform Sampling Rule","sampling.settings.view":"View Sampling Settings","sampling.settings.view_get_started":"Get Started with Sampling","sampling.settings.view_read_docs":"Read Sampling Docs","search.searched":"Search: Performed search","search.operator_autocompleted":"Search: Operator Autocompleted","organization_saved_search.selected":"Organization Saved Search: Selected saved search","settings_search.open":"settings_search Open","command_palette.open":"command_palette Open","sidebar_help.open":"sidebar_help Open","settings_search.select":"settings_search Select","command_palette.select":"command_palette Select","sidebar_help.select":"sidebar_help Select","settings_search.query":"settings_search Query","command_palette.query":"command_palette Query","sidebar_help.query":"sidebar_help Query","projectselector.direct_selection":"Project Selector: Direct Selection","projectselector.update":"Project Selector: Update","projectselector.clear":"Project Selector: Clear","projectselector.toggle":"Project Selector: Toggle","projectselector.multi_button_clicked":"Project Selector: Multi Button Clicked","notification_settings.index_page_viewed":"Notification Settings: Index Page Viewed","notification_settings.tuning_page_viewed":"Notification Settings: Tuning Page Viewed","notification_settings.updated_tuning_setting":"Notification Settings: Updated Tuning Setting","alert_builder.filter":"Alert Builder: Filter","alert_details.viewed":"Alert Details: Viewed","alert_rule_details.viewed":"Alert Rule Details: Viewed","alert_rules.viewed":"Alert Rules: Viewed","alert_stream.viewed":"Alert Stream: Viewed","alert_wizard.option_selected":"Alert Wizard: Option Selected","alert_wizard.option_viewed":"Alert Wizard: Option Viewed","edit_alert_rule.add_row":"Edit Alert Rule: Add Row","edit_alert_rule.viewed":"Edit Alert Rule: Viewed","issue_alert_rule_details.edit_clicked":"Issue Alert Rule Details: Edit Clicked","issue_alert_rule_details.viewed":"Issue Alert Rule Details: Viewed","issue_details.action_clicked":"Issue Details: Action Clicked","issue_details.event_json_clicked":"Issue Details: Event JSON Clicked","issue_details.event_navigation_clicked":"Issue Details: Event Navigation Clicked","issue_details.viewed":"Issue Details: Viewed","new_alert_rule.viewed":"New Alert Rule: Viewed","team_insights.viewed":"Team Insights: Viewed","project_creation_page.viewed":"Project Create: Creation page viewed","releases.quickstart_viewed":"Releases: Quickstart Viewed","releases.quickstart_copied":"Releases: Quickstart Copied","releases.quickstart_create_integration.success":"Releases: Quickstart Created Integration","releases.quickstart_create_integration_modal.close":"Releases: Quickstart Create Integration Modal Exit"},s=(0,r("./app/utils/analytics/makeAnalyticsFunction.tsx").Z)(i)},"./app/utils/measurements/measurements.tsx":(e,t,r)=>{"use strict";r.d(t,{Z:()=>u,i:()=>c}),r("../node_modules/core-js/modules/web.dom-collections.iterator.js");var i=r("../node_modules/react/index.js"),s=r("./app/utils/performance/vitals/constants.tsx"),a=r("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function n(e){return Object.fromEntries(Object.entries(e).map((e=>{let[t,r]=e;return[t,{name:r.name,key:t}]})))}const o=n(s.TT),d=n(s.r9);function c(){return{...d,...o}}function l(e){let{children:t}=e;const r=c();return(0,a.tZ)(i.Fragment,{children:t({measurements:r})})}l.displayName="Measurements";const u=l},"./app/utils/useApi.tsx":(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var i=r("../node_modules/react/index.js"),s=r("./app/api.tsx");const a=function(){let{persistInFlight:e,api:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const r=(0,i.useRef)();void 0===r.current&&void 0===t&&(r.current=new s.KU);const a=null!=t?t:r.current,n=(0,i.useCallback)((()=>{e||a.clear()}),[a,e]);return(0,i.useEffect)((()=>n),[n]),a}},"./app/utils/withApi.tsx":(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});var i=r("./app/utils/getDisplayName.tsx"),s=r("./app/utils/useApi.tsx"),a=r("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const n=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=r=>{let{api:i,...n}=r;const o=(0,s.Z)({api:i,...t});return(0,a.tZ)(e,{...n,api:o})};return r.displayName=`withApi(${(0,i.Z)(e)})`,r}},"./app/views/dashboardsV2/utils.tsx":(e,t,r)=>{"use strict";r.d(t,{BD:()=>I,Cg:()=>E,DW:()=>O,Gl:()=>R,Mf:()=>V,Tk:()=>q,hS:()=>Z,qk:()=>x,s:()=>j,tT:()=>C,y1:()=>D,yd:()=>F,z1:()=>T}),r("../node_modules/core-js/modules/es.array.includes.js"),r("../node_modules/core-js/modules/web.dom-collections.iterator.js");var i=r("../node_modules/lodash/cloneDeep.js"),s=r.n(i),a=r("../node_modules/lodash/pick.js"),n=r.n(a),o=r("../node_modules/lodash/trimStart.js"),d=r.n(o),c=r("../node_modules/query-string/index.js"),l=r("./images/dashboard/widget-area.svg"),u=r("./images/dashboard/widget-bar.svg"),p=r("./images/dashboard/widget-big-number.svg"),m=r("./images/dashboard/widget-line-1.svg"),g=r("./images/dashboard/widget-table.svg"),h=r("./images/dashboard/widget-world-map.svg"),_=r("./app/components/arithmeticInput/parser.tsx"),w=r("./app/components/charts/utils.tsx"),f=r("./app/utils.tsx"),v=r("./app/utils/dates.tsx"),b=r("./app/utils/discover/eventView.tsx"),y=r("./app/utils/discover/fields.tsx"),k=r("./app/utils/discover/types.tsx"),S=r("./app/utils/measurements/measurements.tsx"),A=r("./app/views/dashboardsV2/types.tsx");function x(e){return s()(e)}function C(e,t,r,i){const{start:s,end:a,period:n}=r.datetime,{projects:o,environments:c}=r,l=i!==A.FO.WORLD_MAP||t.columns.includes("geo.country_code")?[...t.columns,...t.aggregates]:["geo.country_code",...t.columns,...t.aggregates],u=i!==A.FO.WORLD_MAP||t.conditions.includes("has:geo.country_code")?t.conditions:`${t.conditions} has:geo.country_code`.trim(),{orderby:p}=t,m=p?`${p.startsWith("-")?"-":""}${(0,y.LY)(d()(p,"-"))}`:p;return b.ZP.fromSavedQuery({id:void 0,name:e,version:2,fields:l,query:u,orderby:m,projects:o,range:null!=n?n:void 0,start:s?(0,v.v5)(s):void 0,end:a?(0,v.v5)(a):void 0,environment:c})}function P(e){return"string"==typeof e?[e]:e}function D(e){if(e){const t=P(e.queryNames),r=P(e.queryConditions),i=P(e.queryFields),s=[];if(r&&t&&i&&"string"==typeof e.queryOrderby){const{columns:a,aggregates:n}=(0,y.n0)(i);r.forEach(((r,o)=>{s.push({name:t[o],conditions:r,fields:i,columns:a,aggregates:n,orderby:e.queryOrderby})}))}if(e.title&&e.displayType&&e.interval&&s.length>0)return{...n()(e,["title","displayType","interval"]),widgetType:A.l9.DISCOVER,queries:s}}}function O(e){switch(e){case A.FO.BAR:return u;case A.FO.AREA:case A.FO.TOP_N:return l;case A.FO.BIG_NUMBER:return p;case A.FO.TABLE:return g;case A.FO.WORLD_MAP:return h;case A.FO.LINE:default:return m}}function j(e,t,r,i){let s="bar"===e?"1d":r;s||(s="5m");const a=(0,v.YJ)(s),n=(0,w.Nm)(t);if(i)return s=(0,w.ZS)(t,i),n>w.aC&&n<=w.w3&&(s="1h"),"bar"===e?"1d":s;if(n/(60*a)>66){const e=(0,w.ZS)(t,"high");if(a<(0,v.YJ)(e))return e}return s}function V(e){const t=new Set;return e.filter(y.GO).forEach((e=>{const r=(0,_.W9)((0,y.bQ)(e)).tc;r.fields.forEach((e=>{let{term:r}=e;return t.add(r)})),r.functions.forEach((e=>{let{term:r}=e;return t.add(r)}))})),Array.from(t)}function T(e,t,r){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,s=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const a=C(e.title,e.queries[i],t,e.displayType),n=a.getResultsViewUrlTarget(r.slug),o=a.getYAxisOptions().map((e=>{let{value:t}=e;return t}));switch(n.query.yAxis=[...new Set(e.queries[0].aggregates.filter((e=>o.includes(e))))].slice(0,3),e.displayType){case A.FO.WORLD_MAP:n.query.display=k.DC.WORLDMAP;break;case A.FO.BAR:n.query.display=k.DC.BAR;break;case A.FO.TOP_N:n.query.display=k.DC.TOP5;const t=e.queries[0].aggregates;n.query.yAxis=t[t.length-1],t.slice(0,-1).includes(t[t.length-1])&&(n.query.field=t.slice(0,-1))}const d=n.query.field,l=e.queries[0],u=(0,f.ri)(l.fields)?l.fields:[...l.columns,...l.aggregates],p=V(u);p.forEach((e=>{Array.isArray(d)&&!d.includes(e)&&d.unshift(e)})),s&&(n.query.fromMetric="true");const m=`${n.pathname}?${c.stringify({...n.query})}`;return m}function Z(e,t,r){var i,s,a,n;const{start:o,end:d,utc:l,period:u}=t.datetime,p=o&&d?{start:(0,v.v5)(o),end:(0,v.v5)(d),utc:l}:{statsPeriod:u};return`/organizations/${r.slug}/issues/?${c.stringify({query:null===(i=e.queries)||void 0===i||null===(s=i[0])||void 0===s?void 0:s.conditions,sort:null===(a=e.queries)||void 0===a||null===(n=a[0])||void 0===n?void 0:n.orderby,...p,project:t.projects,environment:t.environments})}`}function E(e,t,r){const{start:i,end:s,utc:a,period:n}=t.datetime,o=i&&s?{start:(0,v.v5)(i),end:(0,v.v5)(s),utc:a}:{statsPeriod:n};return`/organizations/${r.slug}/releases/?${c.stringify({...o,project:t.projects,environment:t.environments})}`}function q(e,t){return"string"==typeof e?t.error=e:Object.keys(e).forEach((r=>{const i=e[r];"string"!=typeof i?Array.isArray(i)&&"string"==typeof i[0]?t[r]=i[0]:Array.isArray(i)&&"object"==typeof i[0]?i.map((e=>q(e,t))):q(i,t):t[r]=i})),t}function R(e){return e?{dataset:"metricsEnhanced"}:{}}function F(e){return e.filter(y.GO).length}function I(e){return e.widgetType===A.l9.DISCOVER&&e.queries.some((e=>{let{aggregates:t,columns:r,fields:i}=e;return[...t.reduce(((e,t)=>{const r=(0,y.hW)(t);return r&&e.push(r),e}),[]),...r,...null!=i?i:[]].some((e=>function(e){const t=Object.keys((0,S.i)());return(0,y.Xr)(e)&&!t.includes(e)}(e)))}))}},"../node_modules/lodash/_charsStartIndex.js":(e,t,r)=>{var i=r("../node_modules/lodash/_baseIndexOf.js");e.exports=function(e,t){for(var r=-1,s=e.length;++r<s&&i(t,e[r],0)>-1;);return r}},"../node_modules/lodash/cloneDeep.js":(e,t,r)=>{var i=r("../node_modules/lodash/_baseClone.js");e.exports=function(e){return i(e,5)}},"../node_modules/lodash/pick.js":(e,t,r)=>{var i=r("../node_modules/lodash/_basePick.js"),s=r("../node_modules/lodash/_flatRest.js")((function(e,t){return null==e?{}:i(e,t)}));e.exports=s},"../node_modules/lodash/trimStart.js":(e,t,r)=>{var i=r("../node_modules/lodash/_baseToString.js"),s=r("../node_modules/lodash/_castSlice.js"),a=r("../node_modules/lodash/_charsStartIndex.js"),n=r("../node_modules/lodash/_stringToArray.js"),o=r("../node_modules/lodash/toString.js"),d=/^\s+/;e.exports=function(e,t,r){if((e=o(e))&&(r||void 0===t))return e.replace(d,"");if(!e||!(t=i(t)))return e;var c=n(e),l=a(c,n(t));return s(c,l).join("")}},"./app/components/arithmeticInput/grammar.pegjs":e=>{"use strict";function t(e,r,i,s){this.message=e,this.expected=r,this.found=i,this.location=s,this.name="SyntaxError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,t)}!function(e,t){function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r}(t,Error),t.buildMessage=function(e,t){var r={literal:function(e){return'"'+s(e.text)+'"'},class:function(e){var t,r="";for(t=0;t<e.parts.length;t++)r+=e.parts[t]instanceof Array?a(e.parts[t][0])+"-"+a(e.parts[t][1]):a(e.parts[t]);return"["+(e.inverted?"^":"")+r+"]"},any:function(e){return"any character"},end:function(e){return"end of input"},other:function(e){return e.description}};function i(e){return e.charCodeAt(0).toString(16).toUpperCase()}function s(e){return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(e){return"\\x0"+i(e)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(e){return"\\x"+i(e)}))}function a(e){return e.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(e){return"\\x0"+i(e)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(e){return"\\x"+i(e)}))}return"Expected "+function(e){var t,i,s,a=new Array(e.length);for(t=0;t<e.length;t++)a[t]=(s=e[t],r[s.type](s));if(a.sort(),a.length>0){for(t=1,i=1;t<a.length;t++)a[t-1]!==a[t]&&(a[i]=a[t],i++);a.length=i}switch(a.length){case 1:return a[0];case 2:return a[0]+" or "+a[1];default:return a.slice(0,-1).join(", ")+", or "+a[a.length-1]}}(e)+" but "+function(e){return e?'"'+s(e)+'"':"end of input"}(t)+" found."},e.exports={SyntaxError:t,parse:function(e,r){r=void 0!==r?r:{};var i,s={},a={term:K},n=K,o=function(e,t){return ne.tokenOperation(e,t)},d=B("+",!1),c=B("-",!1),l=B("*",!1),u=/^[\/\xF7]/,p=U(["/","÷"],!1,!1),m=N("function"),g=N("number"),h=/^[+\-]/,_=U(["+","-"],!1,!1),w=/^[0-9]/,f=U([["0","9"]],!1,!1),v=B(".",!1),b=N("field"),y=/^[a-zA-Z_.]/,k=U([["a","z"],["A","Z"],"_","."],!1,!1),S=/^[^()\t\n, "]/,A=U(["(",")","\t","\n",","," ",'"'],!0,!1),x=B('"',!1),C='\\"',P=B('\\"',!1),D=/^[^\t\n"]/,O=U(["\t","\n",'"'],!0,!1),j=/^[a-zA-Z_0-9]/,V=U([["a","z"],["A","Z"],"_",["0","9"]],!1,!1),T=B(",",!1),Z=B("(",!1),E=B(")",!1),q=B(" ",!1),R=0,F=0,I=[{line:1,column:1}],W=0,M=[],G=0;if("startRule"in r){if(!(r.startRule in a))throw new Error("Can't start parsing from rule \""+r.startRule+'".');n=a[r.startRule]}function z(){return e.substring(F,R)}function L(){return $(F,R)}function B(e,t){return{type:"literal",text:e,ignoreCase:t}}function U(e,t,r){return{type:"class",parts:e,inverted:t,ignoreCase:r}}function N(e){return{type:"other",description:e}}function Q(t){var r,i=I[t];if(i)return i;for(r=t-1;!I[r];)r--;for(i={line:(i=I[r]).line,column:i.column};r<t;)10===e.charCodeAt(r)?(i.line++,i.column=1):i.column++,r++;return I[t]=i,i}function $(e,t){var r=Q(e),i=Q(t);return{start:{offset:e,line:r.line,column:r.column},end:{offset:t,line:i.line,column:i.column}}}function Y(e){R<W||(R>W&&(W=R,M=[]),M.push(e))}function K(){var e,t,r,i,a;return e=R,(t=J())!==s?(r=function(){var e,t;for(e=[],t=X();t!==s;)e.push(t),t=X();return e}(),r!==s?(F=e,i=t,a=r,e=t=ne.tokenTerm(i,a)):(R=e,e=s)):(R=e,e=s),e}function X(){var t,r,i;return t=R,r=function(){var t,r;return t=R,ae()!==s?(r=function(){var t,r;return t=R,43===e.charCodeAt(R)?(r="+",R++):(r=s,0===G&&Y(d)),r!==s&&(F=t,r="plus"),r}(),r===s&&(r=function(){var t,r;return t=R,45===e.charCodeAt(R)?(r="-",R++):(r=s,0===G&&Y(c)),r!==s&&(F=t,r="minus"),r}()),r!==s&&ae()!==s?(F=t,t=r):(R=t,t=s)):(R=t,t=s),t}(),r!==s&&(i=J())!==s?(F=t,t=r=o(r,i)):(R=t,t=s),t}function J(){var e,t;return e=R,ae()!==s?(t=function(){var e,t,r,i,a;return e=R,(t=ee())!==s?(r=function(){var e,t;if(e=[],(t=H())!==s)for(;t!==s;)e.push(t),t=H();else e=s;return e}(),r!==s?(F=e,i=t,a=r,e=t=ne.tokenFactor(i,a)):(R=e,e=s)):(R=e,e=s),e}(),t===s&&(t=ee()),t!==s&&ae()!==s?(F=e,e=t):(R=e,e=s)):(R=e,e=s),e}function H(){var t,r,i;return t=R,r=function(){var t,r;return t=R,ae()!==s?(r=function(){var t,r;return t=R,42===e.charCodeAt(R)?(r="*",R++):(r=s,0===G&&Y(l)),r!==s&&(F=t,r="multiply"),r}(),r===s&&(r=function(){var t,r;return t=R,u.test(e.charAt(R))?(r=e.charAt(R),R++):(r=s,0===G&&Y(p)),r!==s&&(F=t,r="divide"),r}()),r!==s&&ae()!==s?(F=t,t=r):(R=t,t=s)):(R=t,t=s),t}(),r!==s&&(i=ee())!==s?(F=t,t=r=o(r,i)):(R=t,t=s),t}function ee(){var t,r;return t=R,ae()!==s?(r=function(){var e,t;return e=R,ie()!==s&&(t=K())!==s&&se()!==s?(F=e,e=t):(R=e,e=s),e}(),r===s&&(r=function(){var t,r,i,a,n,o,d;if(G++,t=R,h.test(e.charAt(R))?(r=e.charAt(R),R++):(r=s,0===G&&Y(_)),r===s&&(r=null),r!==s){if(i=[],w.test(e.charAt(R))?(a=e.charAt(R),R++):(a=s,0===G&&Y(f)),a!==s)for(;a!==s;)i.push(a),w.test(e.charAt(R))?(a=e.charAt(R),R++):(a=s,0===G&&Y(f));else i=s;if(i!==s){if(a=R,46===e.charCodeAt(R)?(n=".",R++):(n=s,0===G&&Y(v)),n!==s){for(o=[],w.test(e.charAt(R))?(d=e.charAt(R),R++):(d=s,0===G&&Y(f));d!==s;)o.push(d),w.test(e.charAt(R))?(d=e.charAt(R),R++):(d=s,0===G&&Y(f));o!==s?a=n=[n,o]:(R=a,a=s)}else R=a,a=s;a===s&&(a=null),a!==s?(F=t,t=r=z()):(R=t,t=s)}else R=t,t=s}else R=t,t=s;return G--,t===s&&(r=s,0===G&&Y(g)),t}(),r===s&&(r=function(){var t,r,i;return G++,t=R,r=function(){var t,r;if(t=[],j.test(e.charAt(R))?(r=e.charAt(R),R++):(r=s,0===G&&Y(V)),r!==s)for(;r!==s;)t.push(r),j.test(e.charAt(R))?(r=e.charAt(R),R++):(r=s,0===G&&Y(V));else t=s;return t}(),r!==s&&ie()!==s&&ae()!==s?(i=function(){var e,t,r,i,a,n,o,d;if(e=R,(t=te())!==s){for(r=[],i=R,(a=ae())!==s&&(n=re())!==s&&(o=ae())!==s&&(d=te())!==s?i=a=[a,n,o,d]:(R=i,i=s);i!==s;)r.push(i),i=R,(a=ae())!==s&&(n=re())!==s&&(o=ae())!==s&&(d=te())!==s?i=a=[a,n,o,d]:(R=i,i=s);r!==s?e=t=[t,r]:(R=e,e=s)}else R=e,e=s;return e}(),i===s&&(i=null),i!==s&&ae()!==s&&se()!==s?(F=t,t=r=ne.tokenFunction(z(),L())):(R=t,t=s)):(R=t,t=s),G--,t===s&&(r=s,0===G&&Y(m)),t}(),r===s&&(r=function(){var t,r,i;if(G++,t=R,r=[],y.test(e.charAt(R))?(i=e.charAt(R),R++):(i=s,0===G&&Y(k)),i!==s)for(;i!==s;)r.push(i),y.test(e.charAt(R))?(i=e.charAt(R),R++):(i=s,0===G&&Y(k));else r=s;return r!==s&&(F=t,r=ne.tokenField(z(),L())),G--,(t=r)===s&&(r=s,0===G&&Y(b)),t}()))),r!==s&&ae()!==s?(F=t,t=r):(R=t,t=s)):(R=t,t=s),t}function te(){var t;return(t=function(){var t,r,i,a;if(t=R,34===e.charCodeAt(R)?(r='"',R++):(r=s,0===G&&Y(x)),r!==s){for(i=[],e.substr(R,2)===C?(a=C,R+=2):(a=s,0===G&&Y(P)),a===s&&(D.test(e.charAt(R))?(a=e.charAt(R),R++):(a=s,0===G&&Y(O)));a!==s;)i.push(a),e.substr(R,2)===C?(a=C,R+=2):(a=s,0===G&&Y(P)),a===s&&(D.test(e.charAt(R))?(a=e.charAt(R),R++):(a=s,0===G&&Y(O)));i!==s?(34===e.charCodeAt(R)?(a='"',R++):(a=s,0===G&&Y(x)),a!==s?t=r=[r,i,a]:(R=t,t=s)):(R=t,t=s)}else R=t,t=s;return t}())===s&&(t=function(){var t,r;if(t=[],S.test(e.charAt(R))?(r=e.charAt(R),R++):(r=s,0===G&&Y(A)),r!==s)for(;r!==s;)t.push(r),S.test(e.charAt(R))?(r=e.charAt(R),R++):(r=s,0===G&&Y(A));else t=s;return t}()),t}function re(){var t;return 44===e.charCodeAt(R)?(t=",",R++):(t=s,0===G&&Y(T)),t}function ie(){var t;return 40===e.charCodeAt(R)?(t="(",R++):(t=s,0===G&&Y(Z)),t}function se(){var t;return 41===e.charCodeAt(R)?(t=")",R++):(t=s,0===G&&Y(E)),t}function ae(){var t,r;for(t=[],32===e.charCodeAt(R)?(r=" ",R++):(r=s,0===G&&Y(q));r!==s;)t.push(r),32===e.charCodeAt(R)?(r=" ",R++):(r=s,0===G&&Y(q));return t}const{tc:ne,term:oe}=r;if((i=n())!==s&&R===e.length)return i;throw i!==s&&R<e.length&&Y({type:"end"}),function(e,r,i){return new t(t.buildMessage(e,r),e,r,i)}(M,W<e.length?e.charAt(W):null,W<e.length?$(W,W+1):$(W,W))}}}}]);
//# sourceMappingURL=../sourcemaps/app_components_modals_dashboardWidgetQuerySelectorModal_tsx-app_stores_organizationStore_tsx.24efb852fe26346d5962793ea2b2d912.js.map