"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_components_editableText_tsx"],{"./app/components/editableText.tsx":(e,t,n)=>{n.d(t,{Z:()=>b});var s=n("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),o=(n("../node_modules/core-js/modules/web.dom-collections.iterator.js"),n("../node_modules/react/index.js")),r=n("./app/actionCreators/indicator.tsx"),a=n("./app/components/forms/controls/input.tsx"),i=n("./app/components/textOverflow.tsx"),d=n("./app/icons/iconEdit.tsx"),c=n("./app/styles/space.tsx"),u=n("./app/utils.tsx");const l=function(e){const[t,n]=(0,o.useState)(!1);return(0,o.useEffect)((()=>{function t(t){let{key:s}=t;s===e&&n(!0)}function s(t){let{key:s}=t;s===e&&n(!1)}return window.addEventListener("keydown",t),window.addEventListener("keyup",s),()=>{window.removeEventListener("keydown",t),window.removeEventListener("keyup",s)}}),[e]),t};var p=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function m(e){let{value:t,onChange:n,name:s,errorMessage:a,successMessage:i,maxLength:c,isDisabled:m=!1,autoSelect:b=!1,"aria-label":k}=e;const[Z,E]=(0,o.useState)(!1),[y,L]=(0,o.useState)(t),C=!y.trim(),j=(0,o.useRef)(null),_=(0,o.useRef)(null),z=(0,o.useRef)(null),D=l("Enter"),S=l("Escape");function T(){t!==y&&L(t),Z&&E(!1)}var R,B;R=j,B=()=>{Z&&(C?F("error"):(y!==t&&(n(y),F("success")),E(!1)))},(0,o.useEffect)((()=>{const e=e=>{const t=null==R?void 0:R.current;t&&!t.contains(e.target)&&B(e)};return document.addEventListener("mousedown",e),document.addEventListener("touchstart",e),()=>{document.removeEventListener("mousedown",e),document.removeEventListener("touchstart",e)}}),[R,B]);const M=(0,o.useCallback)((()=>{if(D){if(C)return void F("error");y!==t&&(n(y),F("success")),E(!1)}}),[D,y,n]),X=(0,o.useCallback)((()=>{S&&T()}),[S]);function F(e){"error"!==e?i&&(0,r.S9)(i):a&&(0,r.Iw)(a)}return(0,o.useEffect)((()=>{T()}),[m,t]),(0,o.useEffect)((()=>{if(Z){const e=z.current;(0,u.ri)(e)&&e.focus()}}),[Z]),(0,o.useEffect)((()=>{Z&&(M(),X())}),[M,X,Z]),(0,p.tZ)(x,{isDisabled:m,isEditing:Z,children:Z?(0,p.BX)(h,{ref:j,isEmpty:C,"data-test-id":"editable-text-input",children:[(0,p.tZ)(w,{"aria-label":k,name:s,ref:z,value:y,onChange:function(e){L(e.target.value)},onFocus:e=>b&&e.target.select(),maxLength:c}),(0,p.tZ)(v,{children:y})]}):(0,p.BX)(f,{onClick:m?void 0:function(){E(!0)},ref:_,isDisabled:m,"data-test-id":"editable-text-label",children:[(0,p.tZ)(g,{children:y}),!m&&(0,p.tZ)(d.y,{})]})})}m.displayName="EditableText";const b=m,f=(0,s.Z)("div",{target:"e1nzw5k75"})("display:grid;grid-auto-flow:column;align-items:center;gap:",(0,c.Z)(1),";cursor:",(e=>e.isDisabled?"default":"pointer"),";"),g=(0,s.Z)(i.Z,{target:"e1nzw5k74"})("border-top:1px solid transparent;border-bottom:1px dotted ",(e=>e.theme.gray200),";"),h=(0,s.Z)("div",{target:"e1nzw5k73"})("display:inline-block;background:",(e=>e.theme.gray100),";border-radius:",(e=>e.theme.borderRadius),";margin:-",(0,c.Z)(.5)," -",(0,c.Z)(1),";max-width:calc(100% + ",(0,c.Z)(2),");"),w=(0,s.Z)(a.Z,{target:"e1nzw5k72"})("border:none!important;background:transparent;height:auto;min-height:34px;padding:",(0,c.Z)(.5)," ",(0,c.Z)(1),";&,&:focus,&:active,&:hover{box-shadow:none;}"),v=(0,s.Z)("div",{target:"e1nzw5k71"})("height:0;opacity:0;white-space:pre;padding:0 ",(0,c.Z)(1),";"),x=(0,s.Z)("div",{target:"e1nzw5k70"})("display:flex;",(e=>e.isDisabled&&`\n      ${g} {\n        border-bottom-color: transparent;\n      }\n    `),";")}}]);
//# sourceMappingURL=../sourcemaps/app_components_editableText_tsx.e992d2f03c4873abef56035e5d6bddfb.js.map