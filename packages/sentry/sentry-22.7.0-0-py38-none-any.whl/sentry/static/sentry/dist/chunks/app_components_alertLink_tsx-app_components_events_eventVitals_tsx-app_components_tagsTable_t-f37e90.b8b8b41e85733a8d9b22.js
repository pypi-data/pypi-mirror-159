"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_components_alertLink_tsx-app_components_events_eventVitals_tsx-app_components_tagsTable_t-f37e90","app_components_alertLink_tsx"],{"./app/components/alertLink.tsx":(e,t,n)=>{n.d(t,{Z:()=>p});var r=n("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),i=n("../node_modules/lodash/omit.js"),s=n.n(i),o=n("./app/components/links/externalLink.tsx"),a=n("./app/components/links/link.tsx"),l=n("./app/icons/index.tsx"),c=n("./app/styles/space.tsx"),d=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function u(e){let{size:t="normal",priority:n="warning",icon:r,children:i,onClick:s,withoutMarginBottom:o=!1,openInNewTab:a=!1,to:c,href:u,"data-test-id":p}=e;return(0,d.BX)(m,{"data-test-id":p,to:c,href:u,onClick:s,size:t,priority:n,withoutMarginBottom:o,openInNewTab:a,children:[r&&(0,d.tZ)(h,{children:r}),(0,d.tZ)(v,{children:i}),(0,d.tZ)(g,{children:(0,d.tZ)(l.g6,{direction:"right"})})]})}u.displayName="AlertLink";const p=u,m=(0,r.Z)((e=>{let{openInNewTab:t,to:n,href:r,...i}=e;const l=s()(i,["withoutMarginBottom","priority","size"]);return r?(0,d.tZ)(o.Z,{...l,href:r,openInNewTab:t}):(0,d.tZ)(a.Z,{...l,to:n||""})}),{target:"ear9tuy3"})("display:flex;align-items:center;background-color:",(e=>e.theme.alert[e.priority].backgroundLight),";color:",(e=>e.theme.textColor),";font-size:",(e=>e.theme.fontSizeMedium),";border:1px dashed ",(e=>e.theme.alert[e.priority].border),";padding:",(e=>"small"===e.size?`${(0,c.Z)(1)} ${(0,c.Z)(1.5)}`:(0,c.Z)(2)),";margin-bottom:",(e=>e.withoutMarginBottom?0:(0,c.Z)(3)),";border-radius:0.25em;transition:0.2s border-color;&.focus-visible{outline:none;box-shadow:",(e=>e.theme.alert[e.priority].border),"7f 0 0 0 2px;}"),h=(0,r.Z)("span",{target:"ear9tuy2"})("display:flex;height:calc(",(e=>e.theme.fontSizeMedium)," * ",(e=>e.theme.text.lineHeightBody),");margin-right:",(0,c.Z)(1),";align-items:center;"),g=(0,r.Z)(h,{target:"ear9tuy1"})("margin-right:0;margin-left:",(0,c.Z)(1),";"),v=(0,r.Z)("div",{target:"ear9tuy0"})("line-height:",(e=>e.theme.text.lineHeightBody),";flex-grow:1;")},"./app/components/events/eventVitals.tsx":(e,t,n)=>{n.d(t,{Z:()=>x});var r=n("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),i=n("../node_modules/react/index.js"),s=n("./app/components/charts/styles.tsx"),o=n("./app/components/panels/index.tsx"),a=n("./app/components/tooltip.tsx"),l=n("./app/icons/index.tsx"),c=n("./app/locale.tsx"),d=n("./app/styles/space.tsx"),u=n("./app/utils.tsx"),p=n("./app/utils/formatters.tsx");function m(e,t){return e&&"duration"===e.type?(0,p.g9)(t/1e3,3):e&&"integer"===e.type?t.toFixed(0):t.toFixed(3)}var h=n("./app/utils/performance/vitals/constants.tsx"),g=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function v(e){var t;if(null===(t=e.sdk)||void 0===t||!t.version)return!1;const n=e.sdk.version;return n.startsWith("5.26.")||n.startsWith("5.27.0")||n.startsWith("5.27.1")||n.startsWith("5.27.2")}function x(e){let{event:t}=e;return(0,g.BX)(i.Fragment,{children:[(0,g.tZ)(f,{event:t}),(0,g.tZ)(Z,{event:t})]})}function f(e){var t;let{event:n}=e;const r=Object.keys(null!==(t=n.measurements)&&void 0!==t?t:{}).filter((e=>Boolean(h.r9[`measurements.${e}`]))).sort();return 0===r.length?null:(0,g.BX)(k,{children:[(0,g.BX)(s.OT,{children:[(0,c.t)("Web Vitals"),v(n)&&(0,g.tZ)(_,{size:"sm",children:(0,g.tZ)(a.Z,{title:(0,c.t)("These vitals were collected using an outdated SDK version and may not be accurate. To ensure accurate web vitals in new transaction events, please update your SDK to the latest version."),position:"top",containerDisplayMode:"inline-block",children:(0,g.tZ)(l.FC,{size:"sm"})})})]}),(0,g.tZ)(b,{children:r.map((e=>{const t=`measurements.${e}`,r=h.r9[t];return(0,g.tZ)(y,{event:n,name:e,vital:r},e)}))})]})}function Z(e){var t;let{event:n}=e;const r=Object.keys(null!==(t=n.measurements)&&void 0!==t?t:{}).filter((e=>Boolean(h.TT[`measurements.${e}`]))).sort();return 0===r.length?null:(0,g.BX)(k,{children:[(0,g.tZ)(s.OT,{children:(0,c.t)("Mobile Vitals")}),(0,g.tZ)(b,{children:r.map((e=>{const t=`measurements.${e}`,r=h.TT[t];return(0,g.tZ)(y,{event:n,name:e,vital:r},e)}))})]})}function y(e){var t,n,r,i;let{event:s,name:o,vital:d}=e;const p=null!==(t=null===(n=s.measurements)||void 0===n?void 0:n[o].value)&&void 0!==t?t:null;if(null===p||!d)return null;const h=(0,u.ri)(d.poorThreshold)&&p>=d.poorThreshold,v=m(d,p),x=m(d,null!==(r=null==d?void 0:d.poorThreshold)&&void 0!==r?r:0);return(0,g.tZ)(q,{children:(0,g.BX)(T,{failedThreshold:h,children:[(0,g.tZ)(w,{children:null!==(i=d.name)&&void 0!==i?i:o}),(0,g.BX)(j,{children:[h?(0,g.tZ)(D,{size:"sm",children:(0,g.tZ)(a.Z,{title:(0,c.t)("Fails threshold at %s.",x),position:"top",containerDisplayMode:"inline-block",children:(0,g.tZ)(l.zC,{size:"sm"})})}):null,(0,g.tZ)(z,{failedThreshold:h,children:v})]})]})})}x.displayName="EventVitals",f.displayName="WebVitals",Z.displayName="MobileVitals",y.displayName="EventVital";const b=(0,r.Z)("div",{target:"eknakzv8"})("display:grid;grid-column-gap:",(0,d.Z)(1),";"),k=(0,r.Z)("div",{target:"eknakzv7"})("font-size:",(e=>e.theme.fontSizeMedium),";margin-bottom:",(0,d.Z)(4),";"),T=(0,r.Z)(o.s_,{target:"eknakzv6"})("padding:",(0,d.Z)(1)," ",(0,d.Z)(1.5),";margin-bottom:",(0,d.Z)(1),";",(e=>e.failedThreshold&&`border: 1px solid ${e.theme.red300};`),";"),w=(0,r.Z)("div",{target:"eknakzv5"})(""),j=(0,r.Z)("div",{target:"eknakzv4"})({name:"s5xdrg",styles:"display:flex;align-items:center"}),_=(0,r.Z)("span",{target:"eknakzv3"})("display:inline-block;height:",(e=>{var t;return null!==(t=e.theme.iconSizes[e.size])&&void 0!==t?t:e.size}),";line-height:",(e=>{var t;return null!==(t=e.theme.iconSizes[e.size])&&void 0!==t?t:e.size}),";margin-left:",(0,d.Z)(.5),";color:",(e=>e.theme.red300),";"),D=(0,r.Z)("span",{target:"eknakzv2"})("display:inline-block;height:",(e=>{var t;return null!==(t=e.theme.iconSizes[e.size])&&void 0!==t?t:e.size}),";line-height:",(e=>{var t;return null!==(t=e.theme.iconSizes[e.size])&&void 0!==t?t:e.size}),";margin-right:",(0,d.Z)(.5),";color:",(e=>e.theme.red300),";"),z=(0,r.Z)("span",{target:"eknakzv1"})("font-size:",(e=>e.theme.fontSizeExtraLarge),";",(e=>e.failedThreshold&&`color: ${e.theme.red300};`),";"),q=(0,r.Z)("div",{target:"eknakzv0"})("")},"./app/components/keyValueTable.tsx":(e,t,n)=>{n.d(t,{G:()=>l,v:()=>a});var r=n("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),i=n("../node_modules/react/index.js"),s=n("./app/styles/space.tsx"),o=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const a=(0,r.Z)("dl",{target:"e13z4zle2"})({name:"u4s7v9",styles:"display:grid;grid-template-columns:50% 50%"}),l=e=>{let{keyName:t,value:n}=e;return(0,o.BX)(i.Fragment,{children:[(0,o.tZ)(d,{children:t}),(0,o.tZ)(u,{children:n})]})};l.displayName="KeyValueTableRow";const c=e=>{let{theme:t}=e;return`\nfont-size: ${t.fontSizeMedium};\npadding: ${(0,s.Z)(.5)} ${(0,s.Z)(1)};\nfont-weight: normal;\nline-height: inherit;\n${e=>e.theme.overflowEllipsis};\n&:nth-of-type(2n-1) {\n  background-color: ${t.backgroundSecondary};\n}\n`},d=(0,r.Z)("dt",{target:"e13z4zle1"})(c,";color:",(e=>e.theme.textColor),";"),u=(0,r.Z)("dd",{target:"e13z4zle0"})(c,";color:",(e=>e.theme.subText),";text-align:right;")},"./app/components/quickTrace/index.tsx":(e,t,n)=>{n.d(t,{Z:()=>T});var r=n("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),i=(n("../node_modules/core-js/modules/web.dom-collections.iterator.js"),n("../node_modules/core-js/modules/es.array.includes.js"),n("../node_modules/react/index.js")),s=n("./app/components/dropdownLink.tsx"),o=n("./app/components/idBadge/projectBadge.tsx"),a=n("./app/components/quickTrace/utils.tsx"),l=n("./app/components/tooltip.tsx"),c=n("./app/data/platformCategories.tsx"),d=n("./app/icons/index.tsx"),u=n("./app/locale.tsx"),p=n("./app/utils/analytics.tsx"),m=n("./app/utils/docs.tsx"),h=n("./app/utils/formatters.tsx"),g=n("./app/utils/localStorage.tsx"),v=n("./app/utils/performance/quickTrace/utils.tsx"),x=n("./app/utils/projects.tsx"),f=n("./app/components/quickTrace/styles.tsx"),Z=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const y=[...c.tQ,...c.ai],b=[...c.y3,...c.Wp],k={root:"root",ancestors:"ancestor",parent:"parent",current:"",children:"child",descendants:"descendant"};function T(e){let t,{event:n,quickTrace:r,location:s,organization:o,anchor:a,errorDest:l,transactionDest:c}=e;try{t=(0,v.R8)(r,n,o)}catch(e){return(0,Z.tZ)(i.Fragment,{children:"â€”"})}const d=r.trace&&r.trace.length,{root:p,ancestors:m,parent:h,children:g,descendants:k,current:T}=t,w=[];p&&(w.push((0,Z.tZ)(j,{location:s,organization:o,events:[p],currentEvent:n,text:(0,u.t)("Root"),anchor:a,nodeKey:"root",errorDest:l,transactionDest:c},"root-node")),w.push((0,Z.tZ)(f.c_,{},"root-connector"))),null!=m&&m.length&&(w.push((0,Z.tZ)(j,{location:s,organization:o,events:m,currentEvent:n,text:(0,u.tn)("%s Ancestor","%s Ancestors",m.length),anchor:a,nodeKey:"ancestors",errorDest:l,transactionDest:c},"ancestors-node")),w.push((0,Z.tZ)(f.c_,{},"ancestors-connector"))),h&&(w.push((0,Z.tZ)(j,{location:s,organization:o,events:[h],currentEvent:n,text:(0,u.t)("Parent"),anchor:a,nodeKey:"parent",errorDest:l,transactionDest:c},"parent-node")),w.push((0,Z.tZ)(f.c_,{},"parent-connector")));const _=(0,Z.tZ)(j,{location:s,organization:o,text:(0,u.t)("This Event"),events:[T],currentEvent:n,anchor:a,nodeKey:"current",errorDest:l,transactionDest:c},"current-node");return 1===d?w.push((0,Z.tZ)(x.Z,{orgId:o.slug,slugs:[T.project_slug],children:e=>{let{projects:t}=e;const n=t.find((e=>e.slug===T.project_slug));if(null!=n&&n.platform){if(b.includes(n.platform))return(0,Z.BX)(i.Fragment,{children:[(0,Z.tZ)(N,{anchor:a,organization:o,platform:n.platform,connectorSide:"right"}),_]});if(y.includes(n.platform))return(0,Z.BX)(i.Fragment,{children:[_,(0,Z.tZ)(N,{anchor:a,organization:o,platform:n.platform,connectorSide:"left"})]})}return _}},"missing-services")):w.push(_),g.length&&(w.push((0,Z.tZ)(f.c_,{},"children-connector")),w.push((0,Z.tZ)(j,{location:s,organization:o,events:g,currentEvent:n,text:(0,u.tn)("%s Child","%s Children",g.length),anchor:a,nodeKey:"children",errorDest:l,transactionDest:c},"children-node"))),null!=k&&k.length&&(w.push((0,Z.tZ)(f.c_,{},"descendants-connector")),w.push((0,Z.tZ)(j,{location:s,organization:o,events:k,currentEvent:n,text:(0,u.tn)("%s Descendant","%s Descendants",k.length),anchor:a,nodeKey:"descendants",errorDest:l,transactionDest:c},"descendants-node"))),(0,Z.tZ)(f.mg,{children:w})}function w(e,t,n){(0,p.ec)({eventKey:"quick_trace.dropdown.clicked"+(n?"_extra":""),eventName:"Quick Trace: Dropdown clicked",organization_id:parseInt(t.id,10),node_key:e})}function j(e){let{location:t,organization:n,events:r=[],text:i,currentEvent:o,nodeKey:l,anchor:c,errorDest:m,transactionDest:g,numEvents:v=5}=e,x=r.flatMap((e=>{var t;return null!==(t=e.errors)&&void 0!==t?t:[]})),y="current"===l?"black":"white";const b=x.length>0;if(b&&(y="current"===l?"error":"warning",i=(0,Z.BX)(f.Gs,{children:[(0,Z.tZ)(d.zC,{size:"xs"}),i]})),r=r.filter((e=>e.event_id!==o.id)),x=x.filter((e=>e.event_id!==o.id)),r.length+x.length===0)return(0,Z.tZ)(f.Wf,{type:y,children:i});if(r.length+x.length===1){const e=x.length?(0,u.t)("View the error for this Transaction"):(0,Z.tZ)(f.VS,{event:r[0]}),s=x.length?(0,a.Tn)(x[0],n,t,m):(0,a.MV)(r[0],n,t,g);return(0,Z.tZ)(D,{text:i,hoverText:e,to:s,onClick:()=>function(e,t){(0,p.ec)({eventKey:"quick_trace.node.clicked",eventName:"Quick Trace: Node clicked",organization_id:parseInt(t.id,10),node_key:e})}(l,n),type:y,shouldOffset:b})}const T=(0,u._N)("View [eventPrefix] [eventType]",{eventPrefix:k[l],eventType:x.length&&r.length?"events":r.length?"transactions":"errors"});return(0,Z.tZ)(f.DZ,{children:(0,Z.BX)(s.Z,{caret:!1,title:(0,Z.tZ)(D,{text:i,hoverText:T,type:y,shouldOffset:b}),anchorRight:"right"===c,children:[x.length>0&&(0,Z.tZ)(f.rZ,{first:!0,children:(0,u.tn)("Related Error","Related Errors",x.length)}),x.slice(0,v).map((e=>{const r=(0,a.Tn)(e,n,t,m);return(0,Z.tZ)(_,{event:e,to:r,allowDefaultEvent:!0,onSelect:()=>w(l,n,!1),organization:n,anchor:c},e.event_id)})),r.length>0&&(0,Z.tZ)(f.rZ,{first:0===x.length,children:(0,u.tn)("Transaction","Transactions",r.length)}),r.slice(0,v).map((e=>{const r=(0,a.MV)(e,n,t,g);return(0,Z.tZ)(_,{event:e,to:r,onSelect:()=>w(l,n,!1),allowDefaultEvent:!0,organization:n,subtext:(0,h.g9)(e["transaction.duration"]/1e3,e["transaction.duration"]<1e3?0:2,!0),anchor:c},e.event_id)})),(x.length>v||r.length>v)&&(0,Z.tZ)(f.hP,{to:(0,a.aV)(o,n),allowDefaultEvent:!0,onSelect:()=>w(l,n,!0),children:(0,u.t)("View all events")})]})})}function _(e){let{event:t,onSelect:n,to:r,allowDefaultEvent:i,organization:s,subtext:l,anchor:c}=e;return(0,Z.BX)(f.hP,{to:r,onSelect:n,allowDefaultEvent:i,children:[(0,Z.BX)(f.I4,{children:[(0,Z.tZ)(x.Z,{orgId:s.slug,slugs:[t.project_slug],children:e=>{let{projects:n}=e;const r=n.find((e=>e.slug===t.project_slug));return(0,Z.tZ)(o.Z,{disableLink:!0,hideName:!0,project:r||{slug:t.project_slug},avatarSize:16})}}),(0,a.t_)(t)?(0,Z.tZ)(f.PI,{value:t.transaction,expandDirection:"left"===c?"right":"left",maxLength:35,leftTrim:!0,trimRegex:/\.|\//g}):(0,Z.tZ)(f.PI,{value:t.title,expandDirection:"left"===c?"right":"left",maxLength:45})]}),l&&(0,Z.tZ)(f.df,{children:l})]})}function D(e){let{text:t,hoverText:n,to:r,onClick:i,type:s="white",shouldOffset:o=!1}=e;return(0,Z.tZ)(l.Z,{position:"top",containerDisplayMode:"inline-flex",title:n,children:(0,Z.tZ)(f.Wf,{type:s,icon:null,to:r,onClick:i,shouldOffset:o,children:t})})}T.displayName="QuickTrace",j.displayName="EventNodeSelector",_.displayName="DropdownNodeItem",D.displayName="StyledEventNode";const z="quick-trace:hide-missing-services";function q(){const e=g.Z.getItem(z);return null!==e&&parseInt(e,10)>(new Date).getTime()}class N extends i.Component{constructor(){super(...arguments),(0,r.Z)(this,"state",{hideMissing:q()}),(0,r.Z)(this,"dismissMissingService",(()=>{const{organization:e,platform:t}=this.props,n=(new Date).getTime();g.Z.setItem(z,(n+2592e6).toString()),this.setState({hideMissing:!0}),(0,p.ec)({eventKey:"quick_trace.missing_service.dismiss",eventName:"Quick Trace: Missing Service Dismissed",organization_id:parseInt(e.id,10),platform:t})})),(0,r.Z)(this,"trackExternalLink",(()=>{const{organization:e,platform:t}=this.props;(0,p.ec)({eventKey:"quick_trace.missing_service.docs",eventName:"Quick Trace: Missing Service Clicked",organization_id:parseInt(e.id,10),platform:t})}))}render(){const{hideMissing:e}=this.state,{anchor:t,connectorSide:n,platform:r}=this.props;if(e)return null;const o=(0,m.Q)(r,!0),a=null===o||"javascript"===o?"https://docs.sentry.io/platforms/javascript/performance/connect-services/":`https://docs.sentry.io/platforms/${o}/performance/connecting-services`;return(0,Z.BX)(i.Fragment,{children:["left"===n&&(0,Z.tZ)(f.c_,{}),(0,Z.tZ)(f.DZ,{children:(0,Z.BX)(s.Z,{caret:!1,title:(0,Z.tZ)(D,{type:"white",hoverText:(0,u.t)("No services connected"),text:"???"}),anchorRight:"right"===t,children:[(0,Z.tZ)(f.hP,{width:"small",children:(0,Z.tZ)(f.AX,{href:a,onClick:this.trackExternalLink,children:(0,u.t)("Connect to a service")})}),(0,Z.tZ)(f.hP,{onSelect:this.dismissMissingService,width:"small",children:(0,u.t)("Dismiss")})]})}),"right"===n&&(0,Z.tZ)(f.c_,{})]})}}N.displayName="MissingServiceNode"},"./app/components/tagsTable.tsx":(e,t,n)=>{n.d(t,{Z:()=>k});var r=n("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),i=n("./app/components/charts/styles.tsx"),s=n("./app/components/events/meta/metaProxy.tsx"),o=n("./app/components/keyValueTable.tsx"),a=(n("../node_modules/core-js/modules/es.string.replace.js"),n("../node_modules/core-js/modules/es.array.includes.js"),n("../node_modules/lodash/capitalize.js")),l=n.n(a),c=n("./app/components/links/link.tsx"),d=n("./app/components/tooltip.tsx"),u=n("./app/components/version.tsx"),p=n("./app/locale.tsx"),m=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const h=e=>l()(e.replace(/_/g," ")),g=e=>{return(0,m.tZ)(Z,{children:(t=e[0],Array.isArray(t)?null!==(n=t[1])&&void 0!==n&&n.reason?h(t[1].reason):h(t[0]):h(t))});var t,n};function v(e){var t,n,r;let{tag:i,query:a,generateUrl:l}=e;const h=a.includes(`${i.key}:`),v=h?void 0:l(i),x=(0,s.xZ)(i,"key"),Z=(0,s.xZ)(i,"value"),y=()=>"release"===i.key?(0,m.tZ)(u.Z,{version:i.value,anchor:!1,withPackage:!0}):i.value;return(0,m.tZ)(o.G,{keyName:null!=x&&null!==(t=x.err)&&void 0!==t&&t.length?(0,m.tZ)(d.Z,{title:g(x.err),children:(0,m.tZ)("i",{children:`<${(0,p.t)("invalid")}>`})}):(0,m.tZ)(f,{title:i.key,children:i.key}),value:null!=Z&&null!==(n=Z.err)&&void 0!==n&&n.length?(0,m.tZ)(d.Z,{title:g(Z.err),children:(0,m.tZ)("i",{children:`<${(0,p.t)("invalid")}>`})}):null!=x&&null!==(r=x.err)&&void 0!==r&&r.length?(0,m.tZ)("span",{children:y()}):h?(0,m.tZ)(d.Z,{title:(0,p.t)("This tag is in the current filter conditions"),children:(0,m.tZ)("span",{children:y()})}):(0,m.tZ)(f,{title:y(),children:(0,m.tZ)(c.Z,{to:v||"",children:y()})})})}g.displayName="getTooltipTitle",v.displayName="TagsTableRow";const x=v,f=(0,r.Z)(d.Z,{target:"eefv4rs1"})((e=>e.theme.overflowEllipsis),";"),Z=(0,r.Z)("div",{target:"eefv4rs0"})({name:"1flj9lk",styles:"text-align:left"});var y=n("./app/styles/space.tsx");const b=e=>{let{event:t,query:n,generateUrl:r,title:a=(0,p.t)("Tag Details")}=e;const l=(0,s.xN)(t).tags;return(0,m.BX)(T,{children:[(0,m.tZ)(i.OT,{children:a}),(0,m.tZ)(o.v,{children:l.map((e=>(0,m.tZ)(x,{tag:e,query:n,generateUrl:r},e.key)))})]})};b.displayName="TagsTable";const k=b,T=(0,r.Z)("div",{target:"eaaaj7z0"})("margin-bottom:",(0,y.Z)(3),";")},"./app/utils/discover/genericDiscoverQuery.tsx":(e,t,n)=>{n.d(t,{AA:()=>m,ZP:()=>h,o:()=>d});var r=n("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),i=(n("../node_modules/core-js/modules/web.dom-collections.iterator.js"),n("../node_modules/core-js/modules/es.error.cause.js"),n("../node_modules/react/index.js")),s=n("./app/locale.tsx"),o=n("./app/utils/discover/eventView.tsx"),a=n("./app/utils/performance/contexts/performanceEventViewContext.tsx"),l=n("./app/views/organizationContext.tsx"),c=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");class d{constructor(e,t){(0,r.Z)(this,"message",void 0),(0,r.Z)(this,"originalError",void 0),this.message=e,this.originalError=t}getOriginalError(){return this.originalError}}class u extends i.Component{constructor(){super(...arguments),(0,r.Z)(this,"state",{isLoading:!0,tableFetchID:void 0,error:null,tableData:null,pageLinks:null}),(0,r.Z)(this,"_shouldRefetchData",(e=>{const t=this.getPayload(this.props),n=this.getPayload(e);return!(0,o.ze)(t,n)||e.limit!==this.props.limit||e.route!==this.props.route||e.cursor!==this.props.cursor})),(0,r.Z)(this,"_parseError",(e=>{var t;if(this.props.parseError)return this.props.parseError(e);if(!e)return null;const n=null===(t=e.responseJSON)||void 0===t?void 0:t.detail;if("string"==typeof n)return new d(n,e);const r=null==n?void 0:n.message;return new d("string"==typeof r?r:(0,s.t)("An unknown error occurred."),e)})),(0,r.Z)(this,"fetchData",(async()=>{const{api:e,beforeFetch:t,afterFetch:n,didFetch:r,eventView:i,orgSlug:s,route:o,setError:a}=this.props;if(!i.isValid())return;const l=`/organizations/${s}/${o}/`,c=Symbol("tableFetchID"),d=this.getPayload(this.props);this.setState({isLoading:!0,tableFetchID:c}),null==a||a(void 0),null==t||t(e),e.clear();try{const[t,,i]=await m(e,l,d);if(this.state.tableFetchID!==c)return;const s=n?n(t,this.props):t;null==r||r(s),this.setState((e=>{var t;return{isLoading:!1,tableFetchID:void 0,error:null,pageLinks:null!==(t=null==i?void 0:i.getResponseHeader("Link"))&&void 0!==t?t:e.pageLinks,tableData:s}}))}catch(e){const t=this._parseError(e);this.setState({isLoading:!1,tableFetchID:void 0,error:t,tableData:null}),a&&a(null!=t?t:void 0)}}))}componentDidMount(){this.fetchData()}componentDidUpdate(e){const t=this._shouldRefetchData(e),n=!1===e.eventView.isValid()&&this.props.eventView.isValid(),r=!!this.props.shouldRefetchData&&this.props.shouldRefetchData(e,this.props);(t||n||r)&&this.fetchData()}getPayload(e){var t;const{cursor:n,limit:r,noPagination:i,referrer:s}=e,o=this.props.getRequestPayload?this.props.getRequestPayload(e):e.eventView.getEventsAPIPayload(e.location);return n&&(o.cursor=n),r&&(o.per_page=r),i&&(o.noPagination=i),s&&(o.referrer=s),Object.assign(o,null!==(t=e.queryExtras)&&void 0!==t?t:{}),o}render(){const{isLoading:e,error:t,tableData:n,pageLinks:r}=this.state,i={isLoading:e,error:t,tableData:n,pageLinks:r},s=this.props.children;return null==s?void 0:s(i)}}function p(e){var t,n,r,s;const o=null===(t=(0,i.useContext)(l.g))||void 0===t?void 0:t.slug,d=null===(n=(0,i.useContext)(a.uL))||void 0===n?void 0:n.eventView,p=null!==(r=e.orgSlug)&&void 0!==r?r:o,m=null!==(s=e.eventView)&&void 0!==s?s:d;if(void 0===p||void 0===m)throw new Error("GenericDiscoverQuery requires both an orgSlug and eventView");const h={...e,orgSlug:p,eventView:m};return(0,c.tZ)(u,{...h})}function m(e,t,n){return e.requestPromise(t,{method:"GET",includeAllArgs:!0,query:{...n}})}u.displayName="_GenericDiscoverQuery",p.displayName="GenericDiscoverQuery";const h=p},"./app/utils/docs.tsx":(e,t,n)=>{n.d(t,{Q:()=>s,_:()=>o}),n("../node_modules/core-js/modules/es.array.includes.js");const r=["dotnet","android","apple","dart","elixir","flutter","go","java","javascript","native","node","perl","php","python","react-native","ruby","rust","unity"],i=["dotnet","android","apple","go","java","javascript","node","php","python","react-native","ruby"];function s(e,t){if("react-native"===e)return"react-native";const n=e.indexOf("-"),s=n>=0?e.substring(0,n):e;if(function(e){return r.includes(e)}(s)){const e=i.includes(s);if(t&&e||!t)return s}return null}function o(e){var t;const n=null!==(t=null==e?void 0:e.platform)&&void 0!==t?t:null,r=n?s(n,!0):null;return null===r?null:`https://docs.sentry.io/platforms/${r}/performance/`}},"./app/utils/performance/contexts/performanceEventViewContext.tsx":(e,t,n)=>{n.d(t,{bq:()=>i,uL:()=>o}),n("../node_modules/core-js/modules/web.dom-collections.iterator.js");var r=n("./app/utils/performance/contexts/utils.tsx");const[i,s,o]=(0,r.n)({name:"PerformanceEventViewContext"})},"./app/utils/performance/contexts/utils.tsx":(e,t,n)=>{n.d(t,{n:()=>i}),n("../node_modules/core-js/modules/es.error.cause.js");var r=n("../node_modules/react/index.js");function i(e){const{strict:t=!0,errorMessage:n=`useContext for "${e.name}" must be inside a Provider with a value`,name:i}=e,s=(0,r.createContext)(void 0);return s.displayName=i,[s.Provider,function(){const e=(0,r.useContext)(s);if(!e&&t)throw new Error(n);return e},s]}},"./app/utils/performance/quickTrace/quickTraceQuery.tsx":(e,t,n)=>{n.d(t,{Z:()=>m}),n("../node_modules/core-js/modules/web.dom-collections.iterator.js");var r=n("../node_modules/react/index.js"),i=n("./app/utils/performance/quickTrace/traceFullQuery.tsx"),s=n("./app/utils/discover/genericDiscoverQuery.tsx"),o=n("./app/utils/performance/quickTrace/utils.tsx"),a=n("./app/utils/withApi.tsx"),l=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function c(e){let{eventId:t,...n}=e;const r=(0,o.eF)(n);return Object.assign({event_id:t},r)}function d(e){let{children:t}=e;return(0,l.tZ)(r.Fragment,{children:t({isLoading:!1,error:null,trace:null,type:"partial"})})}function u(e){let{traceId:t,start:n,end:r,statsPeriod:i,children:a,...u}=e;if(!t)return(0,l.tZ)(d,{children:a});const p=(0,o._Z)({start:n,end:r,statsPeriod:i});return(0,l.tZ)(s.ZP,{route:`events-trace-light/${t}`,getRequestPayload:c,eventView:p,...u,children:e=>{let{tableData:t,...n}=e;return a({trace:t||null,type:"partial",...n})}})}d.displayName="EmptyTrace",u.displayName="TraceLiteQuery";const p=(0,a.Z)(u);function m(e){var t,n;let{children:s,event:a,...c}=e;const d=null===(t=a.contexts)||void 0===t||null===(n=t.trace)||void 0===n?void 0:n.trace_id;if(!d)return(0,l.tZ)(r.Fragment,{children:s({isLoading:!1,error:null,trace:[],type:"empty",currentEvent:null})});const{start:u,end:m}=(0,o.$J)(a);return(0,l.tZ)(p,{eventId:a.id,traceId:d,start:u,end:m,...c,children:e=>(0,l.tZ)(i.g,{eventId:a.id,traceId:d,start:u,end:m,...c,children:t=>{var n;if(!t.isLoading&&null===t.error&&null!==t.traces)for(const e of t.traces)try{var r;const n=(0,o.eW)(a,e);return s({...t,trace:n,currentEvent:null!==(r=n.find((e=>(0,o.q2)(e,a))))&&void 0!==r?r:null})}catch{}if(!e.isLoading&&null===e.error&&null!==e.trace){var i;const{trace:t}=e;return s({...e,currentEvent:null!==(i=t.find((e=>(0,o.q2)(e,a))))&&void 0!==i?i:null})}return s({isLoading:e.error?t.isLoading:e.isLoading||t.isLoading,error:t.error,trace:[],type:null!==(n=t.traces)&&void 0!==n&&n.length?"missing":"empty",currentEvent:null})}})})}m.displayName="QuickTraceQuery"},"./app/utils/performance/quickTrace/traceFullQuery.tsx":(e,t,n)=>{n.d(t,{H:()=>p,g:()=>u});var r=n("../node_modules/react/index.js"),i=n("./app/utils/discover/genericDiscoverQuery.tsx"),s=n("./app/utils/performance/quickTrace/utils.tsx"),o=n("./app/utils/withApi.tsx"),a=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function l(e){let{detailed:t,eventId:n,...r}=e;const i=(0,s.eF)(r);return i.detailed=t?"1":"0",n&&(i.event_id=n),i}function c(e){let{children:t}=e;return(0,a.tZ)(r.Fragment,{children:t({isLoading:!1,error:null,traces:null,type:"full"})})}function d(e){let{traceId:t,start:n,end:r,statsPeriod:o,children:d,...u}=e;if(!t)return(0,a.tZ)(c,{children:d});const p=(0,s._Z)({start:n,end:r,statsPeriod:o});return(0,a.tZ)(i.ZP,{route:`events-trace/${t}`,getRequestPayload:l,eventView:p,...u,children:e=>{let{tableData:t,...n}=e;return d({traces:t||null,type:"full",...n})}})}c.displayName="EmptyTrace",d.displayName="GenericTraceFullQuery";const u=(0,o.Z)((e=>(0,a.tZ)(d,{...e,detailed:!1}))),p=(0,o.Z)((e=>(0,a.tZ)(d,{...e,detailed:!0})))},"./app/utils/performance/quickTrace/traceMetaQuery.tsx":(e,t,n)=>{n.d(t,{Z:()=>c});var r=n("../node_modules/react/index.js"),i=n("./app/utils/discover/genericDiscoverQuery.tsx"),s=n("./app/utils/performance/quickTrace/utils.tsx"),o=n("./app/utils/withApi.tsx"),a=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function l(e){let{traceId:t,start:n,end:o,statsPeriod:l,children:c,...d}=e;if(!t)return(0,a.tZ)(r.Fragment,{children:c({isLoading:!1,error:null,meta:null})});const u=(0,s._Z)({start:n,end:o,statsPeriod:l});return(0,a.tZ)(i.ZP,{route:`events-trace-meta/${t}`,getRequestPayload:s.eF,eventView:u,...d,children:e=>{let{tableData:t,...n}=e;return c({meta:t,...n})}})}l.displayName="TraceMetaQuery";const c=(0,o.Z)(l)},"./app/views/performance/transactionDetails/eventMetas.tsx":(e,t,n)=>{n.d(t,{Z:()=>O});var r=n("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),i=n("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),s=(n("../node_modules/core-js/modules/web.dom-collections.iterator.js"),n("../node_modules/react/index.js")),o=n("./app/components/clipboard.tsx"),a=n("./app/components/dateTime.tsx"),l=n("./app/components/idBadge/projectBadge.tsx"),c=n("./app/components/timeSince.tsx"),d=n("./app/components/tooltip.tsx"),u=n("./app/data/platformCategories.tsx"),p=n("./app/icons/index.tsx"),m=n("./app/locale.tsx"),h=n("./app/styles/space.tsx"),g=n("./app/utils/events.tsx"),v=n("./app/utils/formatters.tsx"),x=n("./app/utils/getDynamicText.tsx"),f=n("./app/utils/performance/quickTrace/utils.tsx"),Z=n("./app/utils/projects.tsx"),y=n("./app/utils/theme.tsx"),b=n("./app/components/acl/feature.tsx"),k=n("./app/components/acl/featureDisabled.tsx"),T=n("./app/components/errorBoundary.tsx"),w=n("./app/components/hovercard.tsx"),j=n("./app/components/links/externalLink.tsx"),_=n("./app/components/links/link.tsx"),D=n("./app/components/placeholder.tsx"),z=n("./app/components/quickTrace/index.tsx"),q=n("./app/components/quickTrace/utils.tsx"),N=n("./app/utils/analytics.tsx"),E=n("./app/utils/docs.tsx"),S=n("./app/utils/useOrganization.tsx"),L=n("./app/views/performance/transactionDetails/styles.tsx"),M=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function I(e){var t,n,r;let{event:i,location:s,quickTrace:o,traceMeta:a,anchor:l,errorDest:c,transactionDest:d,project:u}=e;const p=(0,S.Z)(),h=["performance-view"],v=(0,m.t)("Requires performance monitoring."),x=(0,E._)(u),f=null!==(t=null===(n=i.contexts)||void 0===n||null===(r=n.trace)||void 0===r?void 0:r.trace_id)&&void 0!==t?t:null,Z=(0,q.aV)(i,p);let y,L;if(f&&o&&null!==o.trace)y=o.isLoading?(0,M.tZ)(D.Z,{height:"24px"}):o.error?"â€”":(0,M.tZ)(T.Z,{mini:!0,children:(0,M.tZ)(z.Z,{event:i,quickTrace:{type:o.type,trace:o.trace},location:s,organization:p,anchor:l,errorDest:c,transactionDest:d})}),L=(0,M.tZ)(_.Z,{to:Z,onClick:()=>function(e){(0,N.ec)({eventKey:"quick_trace.trace_id.clicked",eventName:"Quick Trace: Trace ID clicked",organization_id:parseInt(e.id,10),source:"events"})}(p),children:(0,m._N)("View Full Trace: [id][events]",{id:(0,g.XQ)(null!=f?f:""),events:a?(0,m.tn)(" (%s event)"," (%s events)",a.transactions+a.errors):""})});else{if(null===x)return null;y=(0,m.t)("Missing Trace"),L=(0,M.tZ)(j.Z,{href:x,children:(0,m.t)("Read the docs")})}return(0,M.tZ)(b.Z,{hookName:"feature-disabled:performance-quick-trace",features:h,children:e=>{let{hasFeature:t}=e;return t||(L=(0,M.tZ)(w.uI,{body:(0,M.tZ)(k.Z,{features:h,hideHelpToggle:!0,message:v,featureName:v}),children:L})),(0,M.tZ)(P,{body:y,footer:L})}})}function P(e){let{body:t,footer:n}=e;return(0,M.tZ)(L.U,{headingText:(0,m.t)("Trace Navigator"),tooltipText:(0,m.t)("An abbreviated version of the full trace. Related frontend and backend services can be added to provide further visibility."),bodyText:(0,M.tZ)("div",{"data-test-id":"quick-trace-body",children:t}),subtext:(0,M.tZ)("div",{"data-test-id":"quick-trace-footer",children:n})})}I.displayName="QuickTraceMeta",P.displayName="QuickTraceMetaBase";const C=`(min-width: ${y.ZP.breakpoints.large})`;class V extends s.Component{constructor(){var e,t,n,i,s;super(...arguments),(0,r.Z)(this,"state",{isLargeScreen:null===(e=(t=window).matchMedia)||void 0===e||null===(n=e.call(t,C))||void 0===n?void 0:n.matches}),(0,r.Z)(this,"mq",null===(i=(s=window).matchMedia)||void 0===i?void 0:i.call(s,C)),(0,r.Z)(this,"handleMediaQueryChange",(e=>{this.setState({isLargeScreen:e.matches})}))}componentDidMount(){this.mq&&this.mq.addListener(this.handleMediaQueryChange)}componentWillUnmount(){this.mq&&this.mq.removeListener(this.handleMediaQueryChange)}render(){const{event:e,organization:t,projectId:n,location:r,quickTrace:i,meta:s,errorDest:o,transactionDest:d}=this.props,{isLargeScreen:u}=this.state,p=(0,f.hp)(e)?"transaction":"event",h=(0,M.tZ)(c.Z,{date:e.dateCreated||1e3*(e.endTimestamp||0)}),g=(0,M.tZ)(R,{event:e});return(0,M.tZ)(Z.Z,{orgId:t.slug,slugs:[n],children:t=>{let{projects:c}=t;const Z=c.find((e=>e.slug===n));return(0,M.BX)(B,{type:p,children:[(0,M.tZ)(L.U,{headingText:(0,m.t)("Event ID"),tooltipText:(0,m.t)("The unique ID assigned to this %s.",p),bodyText:(0,M.tZ)(Q,{event:e}),subtext:(0,M.tZ)(l.Z,{project:Z||{slug:n},avatarSize:16})}),(0,f.hp)(e)?(0,M.tZ)(L.U,{headingText:(0,m.t)("Event Duration"),tooltipText:(0,m.t)("The time elapsed between the start and end of this transaction."),bodyText:(0,v.g9)(e.endTimestamp-e.startTimestamp,2,!0),subtext:h}):(0,M.tZ)(L.U,{headingText:(0,m.t)("Created"),tooltipText:(0,m.t)("The time at which this event was created."),bodyText:h,subtext:(0,x.Z)({value:(0,M.tZ)(a.Z,{date:e.dateCreated}),fixed:"May 6, 2021 3:27:01 UTC"})}),(0,f.hp)(e)&&(0,M.tZ)(L.U,{headingText:(0,m.t)("Status"),tooltipText:(0,m.t)("The status of this transaction indicating if it succeeded or otherwise."),bodyText:A(Z,e,s),subtext:g}),(0,M.tZ)(F,{children:(0,M.tZ)(I,{event:e,project:Z,location:r,quickTrace:i,traceMeta:s,anchor:u?"right":"left",errorDest:o,transactionDest:d})})]})}})}}V.displayName="EventMetas";const B=(0,i.Z)("div",{target:"ej1eqv63"})("display:grid;grid-template-columns:repeat(",(e=>"transaction"===e.type?3:2),", 1fr);grid-template-rows:repeat(2, auto);gap:",(0,h.Z)(2),";margin-bottom:",(0,h.Z)(2),";@media (min-width: ",(e=>e.theme.breakpoints.medium),"){margin-bottom:0;}@media (min-width: ",(e=>e.theme.breakpoints.large),"){",(e=>"transaction"===e.type?"grid-template-columns: minmax(160px, 1fr) minmax(160px, 1fr) minmax(160px, 1fr) 6fr;":"grid-template-columns: minmax(160px, 1fr) minmax(200px, 1fr) 6fr;"),";grid-row-gap:0;}"),F=(0,i.Z)("div",{target:"ej1eqv62"})("grid-column:1/4;@media (min-width: ",(e=>e.theme.breakpoints.large),"){justify-self:flex-end;min-width:325px;grid-column:unset;}");function Q(e){let{event:t}=e;return(0,M.tZ)(o.Z,{value:t.eventID,children:(0,M.BX)($,{children:[(0,M.tZ)(X,{children:(0,g.XQ)(t.eventID)}),(0,M.tZ)(d.Z,{title:t.eventID,position:"top",children:(0,M.tZ)(p.vU,{color:"subText"})})]})})}Q.displayName="EventID";const $=(0,i.Z)("div",{target:"ej1eqv61"})({name:"1uoamx5",styles:"display:flex;align-items:center;cursor:pointer"}),X=(0,i.Z)("span",{target:"ej1eqv60"})("margin-right:",(0,h.Z)(1),";");function R(e){let{event:t}=e;const{tags:n}=t,r=(0,M.tZ)(s.Fragment,{children:"â€”"});if(!Array.isArray(n))return r;const i=n.find((e=>"http.status_code"===e.key));return i?(0,M.BX)(s.Fragment,{children:["HTTP ",i.value]}):r}function A(e,t,n){var r,i,s,o,a;return u.tQ.some((t=>t===(null==e?void 0:e.platform)))&&n&&0===n.errors&&"unknown"===(null===(r=t.contexts)||void 0===r||null===(i=r.trace)||void 0===i?void 0:i.status)?"ok":null!==(s=null===(o=t.contexts)||void 0===o||null===(a=o.trace)||void 0===a?void 0:a.status)&&void 0!==s?s:"â€”"}R.displayName="HttpStatus";const O=V},"./app/views/performance/transactionDetails/styles.tsx":(e,t,n)=>{n.d(t,{U:()=>c});var r=n("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),i=n("./app/components/charts/styles.tsx"),s=n("./app/components/featureBadge.tsx"),o=n("./app/components/questionTooltip.tsx"),a=n("./app/styles/space.tsx"),l=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function c(e){let{headingText:t,tooltipText:n,bodyText:r,subtext:i,badge:s}=e;return(0,l.BX)(d,{children:[(0,l.BX)(u,{children:[t,(0,l.tZ)(o.Z,{position:"top",size:"sm",containerDisplayMode:"block",title:n}),s&&(0,l.tZ)(m,{type:s})]}),(0,l.tZ)(p,{children:r}),(0,l.tZ)(h,{children:i})]})}c.displayName="MetaData";const d=(0,r.Z)("div",{target:"eqz9f144"})({name:"4ks2md",styles:"height:78px"}),u=(0,r.Z)(i.OT,{target:"eqz9f143"})({name:"ti75j2",styles:"margin:0"}),p=(0,r.Z)("div",{target:"eqz9f142"})("font-size:",(e=>e.theme.fontSizeExtraLarge),";padding:",(0,a.Z)(.5)," 0;max-height:32px;"),m=(0,r.Z)(s.Z,{target:"eqz9f141"})({name:"ti75j2",styles:"margin:0"}),h=(0,r.Z)("div",{target:"eqz9f140"})("color:",(e=>"error"===e.type?e.theme.error:e.theme.subText),";font-size:",(e=>e.theme.fontSizeMedium),";")}}]);
//# sourceMappingURL=../sourcemaps/app_components_alertLink_tsx-app_components_events_eventVitals_tsx-app_components_tagsTable_t-f37e90.3e6c293a96d05f618fcfa64ae43eb74d.js.map