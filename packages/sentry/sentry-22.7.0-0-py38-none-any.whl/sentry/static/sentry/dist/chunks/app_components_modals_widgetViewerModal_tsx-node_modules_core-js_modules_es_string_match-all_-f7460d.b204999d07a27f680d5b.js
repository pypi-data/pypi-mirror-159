(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_components_modals_widgetViewerModal_tsx-node_modules_core-js_modules_es_string_match-all_-f7460d"],{"./app/components/gridEditable/sortLink.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>g});var i=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),n=s("../node_modules/lodash/omit.js"),o=s.n(n),r=s("./app/components/links/link.tsx"),a=s("./app/icons/index.tsx"),l=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function d(e){let{align:t,title:s,canSort:i,generateSortLink:n,onClick:o,direction:r}=e;const a=n();if(!a||!i)return(0,l.tZ)(c,{align:t,children:s});const d=r?(0,l.tZ)(p,{size:"xs",direction:"desc"===r?"down":"up"}):null;return(0,l.BX)(u,{align:t,to:a,onClick:o,children:[s," ",d]})}d.displayName="SortLink";const u=(0,i.Z)((e=>{const t=o()(e,["align"]);return(0,l.tZ)(r.Z,{...t})}),{target:"e1xb2te62"})("display:block;width:100%;white-space:nowrap;color:inherit;&:hover,&:active,&:focus,&:visited{color:inherit;}",(e=>e.align?`text-align: ${e.align};`:""),";"),c=(0,i.Z)("div",{target:"e1xb2te61"})("display:block;width:100%;white-space:nowrap;",(e=>e.align?`text-align: ${e.align};`:""),";"),p=(0,i.Z)(a.CC,{target:"e1xb2te60"})({name:"40f4ru",styles:"vertical-align:top"}),g=d},"./app/components/modals/widgetViewerModal.tsx":(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>fe,modalCss:()=>ye});var i=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),n=(s("../node_modules/core-js/modules/es.array.includes.js"),s("../node_modules/core-js/modules/web.dom-collections.iterator.js"),s("../node_modules/core-js/modules/es.string.replace.js"),s("../node_modules/react/index.js")),o=s("../node_modules/react-router/es/index.js"),r=s("../node_modules/react-select/dist/index-4322c0ed.browser.esm.js"),a=s("../node_modules/@sentry/hub/esm/exports.js"),l=s("../node_modules/@sentry/utils/esm/string.js"),d=s("../node_modules/lodash/cloneDeep.js"),u=s.n(d),c=s("../node_modules/lodash/isEqual.js"),p=s.n(c),g=s("../node_modules/lodash/trimStart.js"),m=s.n(g),y=s("../node_modules/moment/moment.js"),h=s.n(y),v=s("./app/actionCreators/events.tsx"),w=s("./app/components/alert.tsx"),_=s("./app/components/button.tsx"),b=s("./app/components/buttonBar.tsx"),x=s("./app/components/forms/selectControl.tsx"),f=s("./app/components/forms/selectOption.tsx"),j=s("./app/components/gridEditable/index.tsx"),Z=s("./app/components/pagination.tsx"),R=s("./app/components/questionTooltip.tsx"),E=s("./app/components/searchSyntax/parser.tsx"),S=s("./app/components/searchSyntax/renderer.tsx"),T=s("./app/locale.tsx"),O=s("./app/styles/space.tsx"),q=s("./app/utils.tsx"),C=s("./app/utils/analytics/trackAdvancedAnalyticsEvent.tsx"),k=s("./app/utils/dates.tsx"),L=s("./app/utils/discover/fields.tsx"),I=s("./app/utils/parseLinkHeader.tsx"),A=s("./app/utils/queryString.tsx"),B=s("./app/utils/useApi.tsx"),z=s("./app/utils/withPageFilters.tsx"),F=s("./app/views/dashboardsV2/types.tsx"),D=s("./app/views/dashboardsV2/utils.tsx"),P=s("./app/views/dashboardsV2/widgetCard/chart.tsx"),V=s("./app/views/dashboardsV2/widgetCard/dashboardsMEPContext.tsx"),N=s("./app/views/dashboardsV2/widgetCard/issueWidgetQueries.tsx"),M=s("./app/views/dashboardsV2/widgetCard/releaseWidgetQueries.tsx"),G=s("./app/views/dashboardsV2/widgetCard/widgetCardChartContainer.tsx"),H=s("./app/views/dashboardsV2/widgetCard/widgetQueries.tsx"),U=s("./app/views/eventsV2/utils.tsx"),Q=s("./app/components/modals/widgetViewerModal/utils.tsx"),W=s("./app/components/gridEditable/sortLink.tsx"),X=(s("./app/components/links/link.tsx"),s("./app/components/tooltip.tsx")),$=s("./app/utils/dashboards/issueFieldRenderers.tsx"),Y=s("./app/utils/discover/eventView.tsx"),J=s("./app/utils/discover/fieldRenderers.tsx"),K=(s("./app/utils/discover/urls.tsx"),s("./app/views/dashboardsV2/widgetBuilder/issueWidget/fields.tsx")),ee=s("./app/views/eventsV2/table/topResultsIndicator.tsx"),te=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const se=e=>{let{location:t,widget:s,tableData:i,organization:n,onHeaderClick:o}=e;return(e,r)=>{const a=null==i?void 0:i.meta,l=(0,L.qG)(e.name,e.type,a),d=(0,$.N)(String(e.key));return(0,te.tZ)(W.Z,{align:l,title:(0,te.tZ)(re,{title:e.name,children:e.name}),direction:s.queries[0].orderby===d?"desc":void 0,canSort:!!d,generateSortLink:()=>({...t,query:{...t.query,[Q.R.SORT]:d,[Q.R.PAGE]:void 0,[Q.R.CURSOR]:void 0}}),onClick:()=>{null==o||o(),(0,C.Z)("dashboards_views.widget_viewer.sort",{organization:n,widget_type:F.l9.ISSUE,display_type:s.displayType,column:e.name,order:"desc"})}})}},ie=e=>{let{location:t,selection:s,widget:i,tableData:n,organization:o,onHeaderClick:r}=e;return(e,a)=>{const{orderby:l}=i.queries[0],d=`${l.startsWith("-")?"-":""}${(0,L.LY)(m()(l,"-"))}`,u=(0,D.tT)(i.title,{...i.queries[0],orderby:d},s,i.displayType),c=null==n?void 0:n.meta,p=(0,L.qG)(e.name,e.type,c),g={field:String(e.key),width:e.width},y=u.sortForField(g,c),h=(0,Y.M3)(g,c),v=(0,L.uI)(e.name)?u.getEquations()[(0,L.G5)(e.name)]:e.name;return(0,te.tZ)(W.Z,{align:p,title:(0,te.tZ)(re,{title:v,children:v}),direction:y?y.kind:void 0,canSort:h,generateSortLink:function(){if(!c)return;const e=u.sortOnField(g,c,void 0,!0).generateQueryStringObject();return{...t,query:{...t.query,[Q.R.SORT]:e.sort,[Q.R.PAGE]:void 0,[Q.R.CURSOR]:void 0}}},onClick:()=>{null==r||r(),(0,C.Z)("dashboards_views.widget_viewer.sort",{organization:o,widget_type:F.l9.DISCOVER,display_type:i.displayType,column:e.name,order:"desc"===(null==y?void 0:y.kind)?"asc":"desc"})}})}},ne=e=>{let{location:t,organization:s,widget:i,tableData:o,isFirstPage:r}=e;return(e,a,l,d)=>{var u;const c=String(e.key),p=i.displayType===F.FO.TOP_N;let g;const m=!s.features.includes("discover-frontend-use-events-endpoint")&&i.widgetType!==F.l9.RELEASE;switch(i.widgetType){case F.l9.ISSUE:g=(null!==(u=(0,$.O)(c))&&void 0!==u?u:(0,J.Js)(c,K.$L))(a,{organization:s,location:t});break;case F.l9.DISCOVER:default:if(!o||!o.meta)return a[e.key];g=(0,J.Js)(c,o.meta,m)(a,{organization:s,location:t});const i=(0,L.LY)(c),n=a[i];if("integer"===o.meta[i]&&(0,q.ri)(n)&&n>999)return(0,te.tZ)(X.Z,{title:n.toLocaleString(),containerDisplayMode:"block",position:"right",children:g})}const y=o?Math.min(null==o?void 0:o.data.length,5):5;return(0,te.BX)(n.Fragment,{children:[p&&r&&l<5&&0===d?(0,te.tZ)(ee.Z,{count:y,index:l}):null,g]})}},oe=e=>{let{location:t,widget:s,tableData:i,organization:n,onHeaderClick:o}=e;return(e,r)=>{const a=null==i?void 0:i.meta,l=(0,L.qG)(e.name,e.type,a),d=s.queries[0].orderby,u={kind:d.startsWith("-")?"desc":"asc",field:d.startsWith("-")?d.slice(1):d},c=(0,L.h1)(e.name),p=e.name;return(0,te.tZ)(W.Z,{align:l,title:(0,te.tZ)(re,{title:p,children:p}),direction:u.field===e.name?u.kind:void 0,canSort:c,generateSortLink:function(){const s=e.name===u.field?{...u,kind:"desc"===u.kind?"asc":"desc"}:{kind:"desc",field:e.name};return{...t,query:{...t.query,[Q.R.SORT]:"desc"===s.kind?`-${s.field}`:s.field,[Q.R.PAGE]:void 0,[Q.R.CURSOR]:void 0}}},onClick:()=>{null==o||o(),(0,C.Z)("dashboards_views.widget_viewer.sort",{organization:n,widget_type:F.l9.RELEASE,display_type:s.displayType,column:e.name,order:"desc"===(null==u?void 0:u.kind)?"asc":"desc"})}})}},re=(0,i.Z)(X.Z,{target:"e1fqlj201"})({name:"168giuu",styles:"display:initial"}),ae="geo.country_code",le="(Empty Query Condition)",de=(e,t)=>{const s=t.selection===e.selection,i=t.location.query[Q.R.SORT]===e.location.query[Q.R.SORT],n=p()(t.chartZoomOptions,e.chartZoomOptions),o=t.widget.displayType!==F.FO.TOP_N&&!(0,q.ri)(t.widget.limit);return s&&n&&(i||o)},ue=(0,n.memo)(G.b,de),ce=(0,n.memo)(P.Z,de);function pe(e){var t,s;const{organization:i,widget:o,selection:d,location:c,Footer:p,Body:g,Header:y,closeModal:R,onEdit:z,router:G,routes:W,params:X,seriesData:$,tableData:Y,totalIssuesCount:J,pageLinks:K}=e,ee=i.features.includes("widget-viewer-modal-minimap"),re=(0,A.ro)(c.query[Q.R.START]),de=(0,A.ro)(c.query[Q.R.END]),pe=o.displayType===F.FO.TABLE,ye=(0,n.useMemo)((()=>re&&de?{...d,datetime:{start:re,end:de,period:null,utc:null}}:d),[re,de,d]),[fe,je]=(0,n.useState)(!0),[Ze,Re]=(0,n.useState)({start:0,end:100}),[Ee,Se]=(0,n.useState)(ye),Te=(0,n.useRef)(Ee);(0,n.useEffect)((()=>{"POP"===c.action&&(Se(ye),Re(re&&de?{startValue:1e3*h().utc(re).unix(),endValue:1e3*h().utc(de).unix()}:{start:0,end:100}))}),[de,c,ye,re]);const[Oe,qe]=(0,n.useState)((0,A.qP)(c.query[Q.R.LEGEND]).reduce(((e,t)=>(e[t]=!1,e)),{})),[Ce,ke]=(0,n.useState)(),Le=null!==(t=(0,A._q)(c.query[Q.R.QUERY]))&&void 0!==t?t:0,Ie=null!==(s=(0,A._q)(c.query[Q.R.PAGE]))&&void 0!==s?s:0,Ae=(0,A.ro)(c.query[Q.R.CURSOR]),Be=(0,A.qP)(c.query[Q.R.WIDTH]),ze=(0,A.ro)(c.query[Q.R.SORT]),Fe=u()(ze?o.queries.map((e=>({...e,orderby:ze}))):o.queries),De=o.displayType===F.FO.TOP_N||void 0!==o.limit?{...o,queries:Fe}:o,Pe=(0,B.Z)(),Ve={...u()({...o,queries:[Fe[Le]]}),displayType:F.FO.TABLE},{aggregates:Ne,columns:Me}=Ve.queries[0],{orderby:Ge}=o.queries[0],He=Ge.startsWith("-"),Ue=m()(Ge,"-"),Qe=(0,q.ri)(Ve.queries[0].fields)?Ve.queries[0].fields:[...Me,...Ne];o.widgetType!==F.l9.DISCOVER||!Ge||(0,L.uI)(Ue)||Qe.includes(Ue)||(Qe.push(Ue),[Ve,De].forEach((e=>{(0,L.h1)(Ue)||(0,L.GO)(Ue)?e.queries.forEach((e=>{e.aggregates.includes(Ue)||e.aggregates.push(Ue)})):e.queries.forEach((e=>{e.columns.includes(Ue)||e.columns.push(Ue)}))}))),(0,L.GO)(Ue)&&Ve.queries[0].orderby===Ge&&(Ve.queries[0].orderby=`${He?"-":""}equation[${(0,D.yd)(Qe)-1}]`),o.displayType!==F.FO.WORLD_MAP||Me.includes(ae)||(Qe.unshift(ae),Me.unshift(ae));const We=[F.FO.AREA,F.FO.LINE,F.FO.BIG_NUMBER,F.FO.BAR].includes(o.displayType)&&o.widgetType&&[F.l9.DISCOVER,F.l9.RELEASE].includes(o.widgetType)&&!(0,q.ri)(o.limit);if(pe||(0,D.Mf)(Qe).forEach((e=>{(0,L.h1)(e)&&!Ne.includes(e)&&Ne.unshift(e),(0,L.h1)(e)||Me.includes(e)||Me.unshift(e)})),Me.forEach((e=>{Qe.includes(e)||Qe.unshift(e)})),We)switch(o.widgetType){case F.l9.DISCOVER:1===Qe.length&&(Ve.queries[0].orderby=Ve.queries[0].orderby||`-${Qe[0]}`),Qe.unshift("title"),Me.unshift("title");break;case F.l9.RELEASE:Qe.unshift("release"),Me.unshift("release")}const Xe=(0,D.tT)(Ve.title,Ve.queries[0],Ee,Ve.displayType);let $e=(0,U.Hg)(Qe.map((e=>({field:e}))),i.features.includes("discover-frontend-use-events-endpoint"));const Ye=Xe.getSorts();$e=$e.map(((e,t)=>({...e,width:parseInt(Be[t],10)||-1})));const Je=Fe.map(((e,t)=>{let{name:s,conditions:i}=e;const n=!s&&i?(0,E.UG)(i):null;return{label:(0,l.$G)(s||i,120),value:t,getHighlightedQuery:e=>null!==n?(0,te.tZ)(_e,{...e,children:(0,te.tZ)(S.Z,{parsedQuery:n})}):void 0}})),Ke=(e,t)=>{const s=t.width?Number(t.width):j.z7,i=new Array(Math.max(e,Be.length)).fill(j.z7);Be.forEach(((e,t)=>i[t]=parseInt(e,10))),i[e]=s,G.replace({pathname:c.pathname,query:{...c.query,[Q.R.WIDTH]:i}})};function et(e){var t;let{selected:s}=e;qe(s),G.replace({pathname:c.pathname,query:{...c.query,[Q.R.LEGEND]:Object.keys(s).filter((e=>!s[e]))}}),(0,C.Z)("dashboards_views.widget_viewer.toggle_legend",{organization:i,widget_type:null!==(t=o.widgetType)&&void 0!==t?t:F.l9.DISCOVER,display_type:o.displayType})}(0,n.useEffect)((()=>{(async()=>{o.widgetType===F.l9.DISCOVER&&ke(await async function(e,t,s,i){if(i.isValid())try{return(await(0,v.JE)(e,t.slug,i.getEventsAPIPayload(s))).toLocaleString()}catch(e){return void a.Tb(e)}}(Pe,i,c,Xe))})()}),[Le]);const tt=t=>{var s,r,a,l,d;let{tableResults:u,loading:p,pageLinks:g}=t;const m=(0,I.Z)(null!=g?g:null),y=!1===(null===(s=m.previous)||void 0===s?void 0:s.results);return(0,te.BX)(n.Fragment,{children:[(0,te.tZ)(j.ZP,{isLoading:p,data:null!==(r=null==u||null===(a=u[0])||void 0===a?void 0:a.data)&&void 0!==r?r:[],columnOrder:$e,columnSortBy:Ye,grid:{renderHeadCell:ie({...e,widget:Ve,tableData:null==u?void 0:u[0],onHeaderClick:()=>{([F.FO.TOP_N,F.FO.TABLE].includes(o.displayType)||(0,q.ri)(o.limit))&&je(!1)}}),renderBodyCell:ne({...e,tableData:null==u?void 0:u[0],isFirstPage:y}),onResizeColumn:Ke},location:c}),((null==m||null===(l=m.previous)||void 0===l?void 0:l.results)||(null==m||null===(d=m.next)||void 0===d?void 0:d.results))&&(0,te.tZ)(Z.Z,{pageLinks:g,onCursor:e=>{G.replace({pathname:c.pathname,query:{...c.query,[Q.R.CURSOR]:e}}),o.displayType===F.FO.TABLE&&je(!1),(0,C.Z)("dashboards_views.widget_viewer.paginate",{organization:i,widget_type:F.l9.DISCOVER,display_type:o.displayType})}})]})},st=e=>{var t,s,r,a;let{tableResults:l,loading:u,pageLinks:p,totalCount:g}=e;void 0===Ce&&g&&ke(g);const m=(0,I.Z)(null!=p?p:null);return(0,te.BX)(n.Fragment,{children:[(0,te.tZ)(j.ZP,{isLoading:u,data:null!==(t=null==l||null===(s=l[0])||void 0===s?void 0:s.data)&&void 0!==t?t:[],columnOrder:$e,columnSortBy:Ye,grid:{renderHeadCell:se({location:c,organization:i,selection:d,widget:Ve,onHeaderClick:()=>{je(!1)}}),renderBodyCell:ne({location:c,organization:i,selection:d,widget:Ve}),onResizeColumn:Ke},location:c}),((null==m||null===(r=m.previous)||void 0===r?void 0:r.results)||(null==m||null===(a=m.next)||void 0===a?void 0:a.results))&&(0,te.tZ)(Z.Z,{pageLinks:p,onCursor:(e,t,s,n)=>{let r=isNaN(Ie)?n:Ie+n,a=e;r<=0&&(a=void 0,r=0),G.replace({pathname:c.pathname,query:{...c.query,[Q.R.CURSOR]:a,[Q.R.PAGE]:r}}),o.displayType===F.FO.TABLE&&je(!1),(0,C.Z)("dashboards_views.widget_viewer.paginate",{organization:i,widget_type:F.l9.ISSUE,display_type:o.displayType})}})]})},it=t=>{var s,r,a,l,d;let{tableResults:u,loading:p,pageLinks:g}=t;const m=(0,I.Z)(null!=g?g:null),y=!1===(null===(s=m.previous)||void 0===s?void 0:s.results);return(0,te.BX)(n.Fragment,{children:[(0,te.tZ)(j.ZP,{isLoading:p,data:null!==(r=null==u||null===(a=u[0])||void 0===a?void 0:a.data)&&void 0!==r?r:[],columnOrder:$e,columnSortBy:Ye,grid:{renderHeadCell:oe({...e,widget:Ve,tableData:null==u?void 0:u[0],onHeaderClick:()=>{([F.FO.TOP_N,F.FO.TABLE].includes(o.displayType)||(0,q.ri)(o.limit))&&je(!1)}}),renderBodyCell:ne({...e,tableData:null==u?void 0:u[0],isFirstPage:y}),onResizeColumn:Ke},location:c}),!Ve.queries[0].orderby.match(/^-?release$/)&&((null==m||null===(l=m.previous)||void 0===l?void 0:l.results)||(null==m||null===(d=m.next)||void 0===d?void 0:d.results))&&(0,te.tZ)(Z.Z,{pageLinks:g,onCursor:e=>{G.replace({pathname:c.pathname,query:{...c.query,[Q.R.CURSOR]:e}}),(0,C.Z)("dashboards_views.widget_viewer.paginate",{organization:i,widget_type:F.l9.RELEASE,display_type:o.displayType})}})]})},nt=(e,t)=>{var s,n,r;const a=t.getModel(),{seriesStart:l,seriesEnd:d}=e;let u,p;u=null===(s=a._payload.batch)||void 0===s?void 0:s[0].startValue,p=null===(n=a._payload.batch)||void 0===n?void 0:n[0].endValue;const g=l?new Date(l).getTime():void 0,m=d?new Date(d).getTime():void 0;if(void 0===u||void 0===p){if(!g||!m)return;{const e=m-g;u=e*a._payload.start*.01+g,p=e*a._payload.end*.01+g}}Re({startValue:u,endValue:p});const y=(0,k.v5)(h().utc(u)),v=(0,k.v5)(h().utc(p));Se({...Ee,datetime:{...Ee.datetime,start:y,end:v,period:null}}),G.push({pathname:c.pathname,query:{...c.query,[Q.R.START]:y,[Q.R.END]:v}}),(0,C.Z)("dashboards_views.widget_viewer.zoom",{organization:i,widget_type:null!==(r=o.widgetType)&&void 0!==r?r:F.l9.DISCOVER,display_type:o.displayType})};return(0,te.tZ)(n.Fragment,{children:(0,te.BX)(V.KC,{children:[(0,te.tZ)(y,{closeButton:!0,children:(0,te.tZ)("h3",{children:o.title})}),(0,te.tZ)(g,{children:(0,te.BX)(n.Fragment,{children:[o.displayType!==F.FO.TABLE&&(0,te.tZ)(he,{height:o.displayType!==F.FO.BIG_NUMBER?300+(ee&&[F.FO.AREA,F.FO.LINE,F.FO.BAR,F.FO.TOP_N].includes(o.displayType)?P.R:0):null,children:($||Y)&&fe?(0,te.tZ)(ce,{timeseriesResults:$,tableResults:Y,errorMessage:void 0,loading:!1,location:c,widget:o,selection:d,router:G,organization:i,onZoom:nt,onLegendSelectChanged:et,legendOptions:{selected:Oe},expandNumbers:!0,showSlider:ee,noPadding:!0,chartZoomOptions:Ze}):(0,te.tZ)(ue,{location:c,router:G,routes:W,params:X,api:Pe,organization:i,selection:Te.current,widget:De,onZoom:nt,onLegendSelectChanged:et,legendOptions:{selected:Oe},expandNumbers:!0,showSlider:ee,noPadding:!0,chartZoomOptions:Ze})}),o.queries.length>1&&(0,te.tZ)(w.Z,{type:"info",showIcon:!0,children:(0,T.t)("This widget was built with multiple queries. Table data can only be displayed for one query at a time. To edit any of the queries, edit the widget.")}),(o.queries.length>1||o.queries[0].conditions)&&(0,te.BX)(ve,{children:[(0,te.tZ)(x.Z,{value:Le,options:Je,onChange:e=>{var t;G.replace({pathname:c.pathname,query:{...c.query,[Q.R.QUERY]:e.value,[Q.R.PAGE]:void 0,[Q.R.CURSOR]:void 0}}),(0,C.Z)("dashboards_views.widget_viewer.select_query",{organization:i,widget_type:null!==(t=o.widgetType)&&void 0!==t?t:F.l9.DISCOVER,display_type:o.displayType})},components:{SingleValue:e=>{var t;return(0,te.tZ)(r.y.SingleValue,{...e,getStyles:()=>({wordBreak:"break-word",flex:1,display:"flex",padding:`0 ${(0,O.Z)(.5)}`}),children:null!==(t=Je[Le].getHighlightedQuery({display:"block"}))&&void 0!==t?t:Je[Le].label||(0,te.tZ)(xe,{children:le})})},Option:e=>{const t=e.data.getHighlightedQuery({display:"flex"});return(0,te.tZ)(f.Z,{...t?{...e,label:t}:e.label?e:{...e,label:(0,te.tZ)(xe,{children:le})}})},...o.queries.length<2?{IndicatorsContainer:e=>null}:{}},isSearchable:!1,isDisabled:o.queries.length<2}),1===o.queries.length&&(0,te.tZ)(we,{title:(0,T.t)("To edit this query, you must edit the widget."),size:"sm"})]}),function(){switch(o.widgetType){case F.l9.ISSUE:return Y&&fe&&o.displayType===F.FO.TABLE?st({tableResults:Y,loading:!1,errorMessage:void 0,pageLinks:K,totalCount:J}):(0,te.tZ)(N.Z,{api:Pe,organization:i,widget:Ve,selection:Ee,limit:o.displayType===F.FO.TABLE?20:10,cursor:Ae,children:st});case F.l9.RELEASE:return Y&&fe&&o.displayType===F.FO.TABLE?it({tableResults:Y,loading:!1,pageLinks:K}):(0,te.tZ)(M.ZP,{api:Pe,organization:i,widget:Ve,selection:Ee,limit:o.displayType===F.FO.TABLE?20:10,cursor:Ae,children:it});case F.l9.DISCOVER:default:return Y&&fe&&o.displayType===F.FO.TABLE?tt({tableResults:Y,loading:!1,pageLinks:K}):(0,te.tZ)(H.ZP,{api:Pe,organization:i,widget:Ve,selection:Ee,limit:o.displayType===F.FO.TABLE?20:10,cursor:Ae,children:tt})}}()]})}),(0,te.tZ)(p,{children:(0,te.BX)(be,{children:[me(Ce,o.widgetType),(0,te.BX)(b.ZP,{gap:1,children:[z&&o.id&&(0,te.tZ)(_.ZP,{type:"button",onClick:()=>{var e;R(),z(),(0,C.Z)("dashboards_views.widget_viewer.edit",{organization:i,widget_type:null!==(e=o.widgetType)&&void 0!==e?e:F.l9.DISCOVER,display_type:o.displayType})},children:(0,T.t)("Edit Widget")}),o.widgetType&&(0,te.tZ)(ge,{widget:De,organization:i,selection:Ee,selectedQueryIndex:Le})]})]})})]})})}function ge(e){let t,s,{widget:i,selection:n,organization:o,selectedQueryIndex:r}=e;const{isMetricsData:a}=(0,V.XA)();switch(i.widgetType){case F.l9.ISSUE:t=(0,T.t)("Open in Issues"),s=(0,D.hS)(i,n,o);break;case F.l9.RELEASE:t=(0,T.t)("Open in Releases"),s=(0,D.Cg)(i,n,o);break;case F.l9.DISCOVER:default:t=(0,T.t)("Open in Discover"),s=(0,D.z1)({...i,queries:[i.queries[r]]},n,o,0,a)}return(0,te.tZ)(_.ZP,{to:s,priority:"primary",type:"button",disabled:(0,D.BD)(i),title:(0,D.BD)(i)?(0,T.t)("Widgets using custom performance metrics cannot be opened in Discover."):void 0,onClick:()=>{var e;(0,C.Z)("dashboards_views.widget_viewer.open_source",{organization:o,widget_type:null!==(e=i.widgetType)&&void 0!==e?e:F.l9.DISCOVER,display_type:i.displayType})},children:t})}function me(e,t){if(void 0===e)return(0,te.tZ)("span",{});switch(t){case F.l9.ISSUE:return(0,te.tZ)("span",{children:(0,T._N)("[description:Total Issues:] [total]",{description:(0,te.tZ)("strong",{}),total:"1000"===e?"1000+":e})});case F.l9.DISCOVER:return(0,te.tZ)("span",{children:(0,T._N)("[description:Total Events:] [total]",{description:(0,te.tZ)("strong",{}),total:e})});default:return(0,te.tZ)("span",{})}}pe.displayName="WidgetViewerModal",ge.displayName="OpenButton";const ye={name:"zhkibu",styles:"width:100%;max-width:1200px"},he=(0,i.Z)("div",{target:"eteb5ir5"})("height:",(e=>e.height?`${e.height}px`:"auto"),";position:relative;padding-bottom:",(0,O.Z)(3),";"),ve=(0,i.Z)("div",{target:"eteb5ir4"})("margin-bottom:",(0,O.Z)(2),";position:relative;"),we=(0,i.Z)(R.Z,{target:"eteb5ir3"})("position:absolute;top:",(0,O.Z)(1.5),";right:",(0,O.Z)(2),";"),_e=(0,i.Z)("span",{target:"eteb5ir2"})("display:",(e=>e.display),";gap:",(0,O.Z)(1),";font-family:",(e=>e.theme.text.familyMono),";font-size:",(e=>e.theme.fontSizeSmall),";line-height:2;flex:1;"),be=(0,i.Z)("div",{target:"eteb5ir1"})("display:flex;flex-grow:1;flex-direction:column;gap:",(0,O.Z)(1),";@media (min-width: ",(e=>e.theme.breakpoints.small),"){align-items:center;flex-direction:row;justify-content:space-between;}"),xe=(0,i.Z)("span",{target:"eteb5ir0"})("color:",(e=>e.theme.disabled),";"),fe=(0,o.withRouter)((0,z.Z)(pe))},"./app/components/pagination.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>h});var i=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),n=s("../node_modules/react-router/es/index.js"),o=s("./app/components/button.tsx"),r=s("./app/components/buttonBar.tsx"),a=s("./app/icons/index.tsx"),l=s("./app/locale.tsx"),d=s("./app/styles/space.tsx"),u=s("./app/utils/parseLinkHeader.tsx"),c=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const p=(e,t,s,i)=>n.browserHistory.push({pathname:t,query:{...s,cursor:e}}),g=e=>{var t,s;let{to:i,location:n,className:d,onCursor:g=p,paginationAnalyticsEvent:h,pageLinks:v,size:w="sm",caption:_,disabled:b=!1}=e;if(!v)return null;const x=null!=i?i:n.pathname,f=n.query,j=(0,u.Z)(v),Z=b||!1===(null===(t=j.previous)||void 0===t?void 0:t.results),R=b||!1===(null===(s=j.next)||void 0===s?void 0:s.results);return(0,c.BX)(m,{className:d,children:[_&&(0,c.tZ)(y,{children:_}),(0,c.BX)(r.ZP,{merged:!0,children:[(0,c.tZ)(o.ZP,{icon:(0,c.tZ)(a.g6,{direction:"left",size:"sm"}),"aria-label":(0,l.t)("Previous"),size:w,disabled:Z,onClick:()=>{var e;null==g||g(null===(e=j.previous)||void 0===e?void 0:e.cursor,x,f,-1),null==h||h("Previous")}}),(0,c.tZ)(o.ZP,{icon:(0,c.tZ)(a.g6,{direction:"right",size:"sm"}),"aria-label":(0,l.t)("Next"),size:w,disabled:R,onClick:()=>{var e;null==g||g(null===(e=j.next)||void 0===e?void 0:e.cursor,x,f,1),null==h||h("Next")}})]})]})};g.displayName="Pagination";const m=(0,i.Z)("div",{target:"ewgwd3b1"})("display:flex;align-items:center;justify-content:flex-end;margin:",(0,d.Z)(3)," 0 0 0;"),y=(0,i.Z)("span",{target:"ewgwd3b0"})("color:",(e=>e.theme.subText),";font-size:",(e=>e.theme.fontSizeMedium),";margin-right:",(0,d.Z)(2),";"),h=(0,n.withRouter)(g)},"../node_modules/core-js/internals/a-constructor.js":(e,t,s)=>{var i=s("../node_modules/core-js/internals/is-constructor.js"),n=s("../node_modules/core-js/internals/try-to-string.js"),o=TypeError;e.exports=function(e){if(i(e))return e;throw o(n(e)+" is not a constructor")}},"../node_modules/core-js/internals/is-regexp.js":(e,t,s)=>{var i=s("../node_modules/core-js/internals/is-object.js"),n=s("../node_modules/core-js/internals/classof-raw.js"),o=s("../node_modules/core-js/internals/well-known-symbol.js")("match");e.exports=function(e){var t;return i(e)&&(void 0!==(t=e[o])?!!t:"RegExp"==n(e))}},"../node_modules/core-js/internals/regexp-get-flags.js":(e,t,s)=>{var i=s("../node_modules/core-js/internals/function-call.js"),n=s("../node_modules/core-js/internals/has-own-property.js"),o=s("../node_modules/core-js/internals/object-is-prototype-of.js"),r=s("../node_modules/core-js/internals/regexp-flags.js"),a=RegExp.prototype;e.exports=function(e){var t=e.flags;return void 0!==t||"flags"in a||n(e,"flags")||!o(a,e)?t:i(r,e)}},"../node_modules/core-js/internals/species-constructor.js":(e,t,s)=>{var i=s("../node_modules/core-js/internals/an-object.js"),n=s("../node_modules/core-js/internals/a-constructor.js"),o=s("../node_modules/core-js/internals/well-known-symbol.js")("species");e.exports=function(e,t){var s,r=i(e).constructor;return void 0===r||null==(s=i(r)[o])?t:n(s)}},"../node_modules/core-js/modules/es.string.match-all.js":(e,t,s)=>{"use strict";var i=s("../node_modules/core-js/internals/export.js"),n=s("../node_modules/core-js/internals/function-call.js"),o=s("../node_modules/core-js/internals/function-uncurry-this.js"),r=s("../node_modules/core-js/internals/create-iterator-constructor.js"),a=s("../node_modules/core-js/internals/require-object-coercible.js"),l=s("../node_modules/core-js/internals/to-length.js"),d=s("../node_modules/core-js/internals/to-string.js"),u=s("../node_modules/core-js/internals/an-object.js"),c=s("../node_modules/core-js/internals/classof-raw.js"),p=s("../node_modules/core-js/internals/is-regexp.js"),g=s("../node_modules/core-js/internals/regexp-get-flags.js"),m=s("../node_modules/core-js/internals/get-method.js"),y=s("../node_modules/core-js/internals/define-built-in.js"),h=s("../node_modules/core-js/internals/fails.js"),v=s("../node_modules/core-js/internals/well-known-symbol.js"),w=s("../node_modules/core-js/internals/species-constructor.js"),_=s("../node_modules/core-js/internals/advance-string-index.js"),b=s("../node_modules/core-js/internals/regexp-exec-abstract.js"),x=s("../node_modules/core-js/internals/internal-state.js"),f=s("../node_modules/core-js/internals/is-pure.js"),j=v("matchAll"),Z="RegExp String Iterator",R=x.set,E=x.getterFor(Z),S=RegExp.prototype,T=TypeError,O=o("".indexOf),q=o("".matchAll),C=!!q&&!h((function(){q("a",/./)})),k=r((function(e,t,s,i){R(this,{type:Z,regexp:e,string:t,global:s,unicode:i,done:!1})}),"RegExp String",(function(){var e=E(this);if(e.done)return{value:void 0,done:!0};var t=e.regexp,s=e.string,i=b(t,s);return null===i?{value:void 0,done:e.done=!0}:e.global?(""===d(i[0])&&(t.lastIndex=_(s,l(t.lastIndex),e.unicode)),{value:i,done:!1}):(e.done=!0,{value:i,done:!1})})),L=function(e){var t,s,i,n=u(this),o=d(e),r=w(n,RegExp),a=d(g(n));return t=new r(r===RegExp?n.source:n,a),s=!!~O(a,"g"),i=!!~O(a,"u"),t.lastIndex=l(n.lastIndex),new k(t,o,s,i)};i({target:"String",proto:!0,forced:C},{matchAll:function(e){var t,s,i,o,r=a(this);if(null!=e){if(p(e)&&(t=d(a(g(e))),!~O(t,"g")))throw T("`.matchAll` does not allow non-global regexes");if(C)return q(r,e);if(void 0===(i=m(e,j))&&f&&"RegExp"==c(e)&&(i=L),i)return n(i,e,r)}else if(C)return q(r,e);return s=d(r),o=new RegExp(e,"g"),f?n(L,o,s):o[j](s)}}),f||j in S||y(S,j,L)},"../node_modules/lodash/_charsStartIndex.js":(e,t,s)=>{var i=s("../node_modules/lodash/_baseIndexOf.js");e.exports=function(e,t){for(var s=-1,n=e.length;++s<n&&i(t,e[s],0)>-1;);return s}},"../node_modules/lodash/cloneDeep.js":(e,t,s)=>{var i=s("../node_modules/lodash/_baseClone.js");e.exports=function(e){return i(e,5)}},"../node_modules/lodash/isInteger.js":(e,t,s)=>{var i=s("../node_modules/lodash/toInteger.js");e.exports=function(e){return"number"==typeof e&&e==i(e)}},"../node_modules/lodash/isNil.js":e=>{e.exports=function(e){return null==e}},"../node_modules/lodash/maxBy.js":(e,t,s)=>{var i=s("../node_modules/lodash/_baseExtremum.js"),n=s("../node_modules/lodash/_baseGt.js"),o=s("../node_modules/lodash/_baseIteratee.js");e.exports=function(e,t){return e&&e.length?i(e,o(t,2),n):void 0}},"../node_modules/lodash/pick.js":(e,t,s)=>{var i=s("../node_modules/lodash/_basePick.js"),n=s("../node_modules/lodash/_flatRest.js")((function(e,t){return null==e?{}:i(e,t)}));e.exports=n},"../node_modules/lodash/trimStart.js":(e,t,s)=>{var i=s("../node_modules/lodash/_baseToString.js"),n=s("../node_modules/lodash/_castSlice.js"),o=s("../node_modules/lodash/_charsStartIndex.js"),r=s("../node_modules/lodash/_stringToArray.js"),a=s("../node_modules/lodash/toString.js"),l=/^\s+/;e.exports=function(e,t,s){if((e=a(e))&&(s||void 0===t))return e.replace(l,"");if(!e||!(t=i(t)))return e;var d=r(e),u=o(d,r(t));return n(d,u).join("")}}}]);
//# sourceMappingURL=../sourcemaps/app_components_modals_widgetViewerModal_tsx-node_modules_core-js_modules_es_string_match-all_-f7460d.1a1b3e3e23a74efc73434307418ae94a.js.map