"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_components_forms_apiForm_tsx-app_components_forms_checkboxField_tsx-app_stores_groupStore-28ddcc"],{"./app/components/events/interfaces/spans/constants.tsx":(e,t,s)=>{s.d(t,{DX:()=>n,S5:()=>d,ZR:()=>o,bl:()=>r,h0:()=>a,rz:()=>i,tJ:()=>p});const n=120,i=4,r=n/i,a=20,o=n+a+20+1,d=18,p=10},"./app/components/events/interfaces/spans/utils.tsx":(e,t,s)=>{if(s.d(t,{BU:()=>G,IG:()=>y,Io:()=>Y,PA:()=>Z,PC:()=>O,PQ:()=>q,Rr:()=>D,TC:()=>j,ct:()=>F,dG:()=>Q,h_:()=>R,hw:()=>A,is:()=>$,k9:()=>k,kP:()=>x,ll:()=>z,n0:()=>I,o0:()=>U,rF:()=>N,ro:()=>V,sT:()=>W,vu:()=>B,yk:()=>M,yn:()=>C}),"app"==s.j)var n=s("../node_modules/@babel/runtime/helpers/esm/defineProperty.js");s("../node_modules/core-js/modules/web.dom-collections.iterator.js"),s("../node_modules/core-js/modules/es.array.includes.js");var i=s("../node_modules/react-router/es/index.js"),r=s("../node_modules/lodash/isNumber.js"),a=s.n(r),o=s("../node_modules/lodash/isString.js"),d=s.n(o),p=s("../node_modules/lodash/maxBy.js"),l=s.n(p),c=s("../node_modules/lodash/set.js"),m=s.n(c),u=s("../node_modules/moment/moment.js"),h=s.n(u),f=s("./app/components/performance/waterfall/treeConnector.tsx"),g=s("./app/types/event.tsx");if("app"==s.j)var v=s("./app/types/utils.tsx");var S=s("./app/utils/analytics/trackAdvancedAnalyticsEvent.tsx"),_=s("./app/utils/performance/vitals/constants.tsx"),w=s("./app/utils/performanceForSentry.tsx"),T=s("./app/components/events/interfaces/spans/constants.tsx");const x=e=>{const t=(0,w.Zz)();if(!t||0===e)return;const s=[10,100,200,300,400,500,600,700,800,900,1001].find((t=>e<=t))||-1;t.setTag("ui.spanCount",e),t.setTag("ui.spanCount.grouped",`<=${s}`)},b=e=>{const{startTimestamp:t,endTimestamp:s}=e;return t>s?{startTimestamp:s,endTimestamp:t}:e};let E;!function(e){e[e.Stable=0]="Stable",e[e.Reversed=1]="Reversed",e[e.Equal=2]="Equal"}(E||(E={}));const y=e=>{const{viewStart:t,viewEnd:s}=e,{startTimestamp:n,endTimestamp:i}=b({startTimestamp:e.traceStartTimestamp,endTimestamp:e.traceEndTimestamp}),r=i-n,a=n+t*r,o=i-(1-s)*r-a;return e=>{if(r<=0)return{type:"TRACE_TIMESTAMPS_EQUAL",isSpanVisibleInView:!0};if(o<=0)return{type:"INVALID_VIEW_WINDOW",isSpanVisibleInView:!0};const{startTimestamp:t,endTimestamp:s}=b(e),n=(e=>{const t=e.startTimestamp,s=e.endTimestamp;return t<s?E.Stable:t===s?E.Equal:E.Reversed})(e),i=(t-a)/o,d=(s-a)/o,p=d>0&&i<1;switch(n){case E.Equal:return{type:"TIMESTAMPS_EQUAL",start:i,width:1,isSpanVisibleInView:d>=0&&i<=1};case E.Reversed:return{type:"TIMESTAMPS_REVERSED",start:i,end:d,isSpanVisibleInView:p};case E.Stable:return{type:"TIMESTAMPS_STABLE",start:i,end:d,isSpanVisibleInView:p};default:return n}}};function I(e){return{trace_id:e.traceID,span_id:e.rootSpanID,parent_span_id:e.parentSpanID,start_timestamp:e.traceStartTimestamp,timestamp:e.traceEndTimestamp,op:e.op,description:e.description,data:{},status:e.rootSpanStatus,hash:e.hash,exclusive_time:e.exclusiveTime}}function j(e){return{start:h().unix(e.start).subtract(12,"hours").utc().format("YYYY-MM-DDTHH:mm:ss.SSS"),end:h().unix(e.end).add(12,"hours").utc().format("YYYY-MM-DDTHH:mm:ss.SSS")}}function A(e){return"type"in e&&"gap"===e.type}function V(e){if("type"in e){if("orphan"===e.type)return!0;if("gap"===e.type)return e.isOrphan}return!1}function D(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return A(e)?t:e.span_id}function M(e){if(!A(e))return e.op}function Z(e){var t;return null==e||null===(t=e.contexts)||void 0===t?void 0:t.trace}function k(e){var t;const s=e.entries.find((e=>e.type===g.UZ.SPANS)),n=null!==(t=null==s?void 0:s.data)&&void 0!==t?t:[],i=Z(e),r=i&&i.trace_id||"",o=i&&i.span_id||"",p=i&&i.op||"transaction",l=i&&i.description,c=i&&i.parent_span_id,u=i&&i.status,h=i&&i.hash,f=i&&i.exclusive_time;if(!s||n.length<=0)return{op:p,childSpans:{},traceStartTimestamp:e.startTimestamp,traceEndTimestamp:e.endTimestamp,traceID:r,rootSpanID:o,rootSpanStatus:u,parentSpanID:c,spans:[],description:l,hash:h,exclusiveTime:f};const S=new Set(n.map((e=>e.span_id)));S.add(o);const _={op:p,childSpans:{},traceStartTimestamp:e.startTimestamp,traceEndTimestamp:e.endTimestamp,traceID:r,rootSpanID:o,rootSpanStatus:u,parentSpanID:c,spans:n,description:l,hash:h,exclusiveTime:f},w=n.reduce(((e,t)=>{var s;let n=t;const i=function(e){return A(e)?"gap-span":e.parent_span_id}(n),r=i&&S.has(i);var p;p=i,d()(p)&&p.length>0&&r||(n.parent_span_id=o,n={type:"orphan",...n}),(0,v.hu)(n.parent_span_id);const l=null!==(s=e.childSpans[n.parent_span_id])&&void 0!==s?s:[];l.push(n),m()(e.childSpans,n.parent_span_id,l),(!e.traceStartTimestamp||n.start_timestamp<e.traceStartTimestamp)&&(e.traceStartTimestamp=n.start_timestamp);const c=a()(n.timestamp);return e.traceEndTimestamp?c&&n.timestamp>e.traceEndTimestamp?(e.traceEndTimestamp=n.timestamp,e):(n.start_timestamp>e.traceEndTimestamp&&(e.traceEndTimestamp=n.start_timestamp),e):c?(e.traceEndTimestamp=n.timestamp,e):(e.traceEndTimestamp=n.start_timestamp,e)}),_);return Object.values(w.childSpans).forEach((e=>{e.sort(P)})),w}function P(e,t){return V(e)&&!V(t)?1:!V(e)&&V(t)||e.start_timestamp<t.start_timestamp?-1:e.start_timestamp===t.start_timestamp?0:1}function C(e){return"number"!=typeof e&&"orphan"===(null==e?void 0:e.type)}function R(e){return C(e)?e.depth:e}function O(e){var t;const s=null===(t=e.sdk)||void 0===t?void 0:t.name;return!!s&&["sentry.javascript.browser","sentry.javascript.react","sentry.javascript.gatsby","sentry.javascript.ember","sentry.javascript.vue","sentry.javascript.angular","sentry.javascript.nextjs","sentry.javascript.electron"].includes(s.toLowerCase())}const U="app"==s.j?["mark","paint"]:null;function L(e){const t=Object.keys(e);return Object.values(_.r9).filter((e=>t.includes(e.slug))).some((t=>{const{value:s}=e[t.slug];return"number"==typeof s&&"number"==typeof t.poorThreshold&&s>=t.poorThreshold}))}function $(e,t){if(!e.measurements)return new Map;const s=Object.keys(e.measurements).filter((e=>e.startsWith("mark."))).map((t=>{const s=t.slice("mark.".length),n=e.measurements[s];return{name:t,timestamp:e.measurements[t].value,value:n?n.value:void 0}})),n=new Map;return s.forEach((e=>{const s=e.name.slice("mark.".length),i=e.value,r=t({startTimestamp:e.timestamp,endTimestamp:e.timestamp});if("TIMESTAMPS_EQUAL"!==r.type)return;const a=Math.round(100*r.start);for(const[t]of n)if(Math.abs(t-a)<=T.tJ){const r=n.get(t);return r.marks={...r.marks,[s]:{value:i,timestamp:e.timestamp}},r.failedThreshold||(r.failedThreshold=L(r.marks)),void n.set(t,r)}const o={[s]:{value:i,timestamp:e.timestamp}};n.set(a,{marks:o,failedThreshold:L(o)})})),n}function B(e,t){const s=t({startTimestamp:e,endTimestamp:e});switch(s.type){case"TRACE_TIMESTAMPS_EQUAL":case"INVALID_VIEW_WINDOW":return{warning:void 0,left:void 0,width:void 0,isSpanVisibleInView:s.isSpanVisibleInView};case"TIMESTAMPS_EQUAL":return{warning:void 0,left:s.start,width:1e-5,isSpanVisibleInView:s.isSpanVisibleInView};case"TIMESTAMPS_REVERSED":case"TIMESTAMPS_STABLE":return{warning:void 0,left:s.start,width:s.end-s.start,isSpanVisibleInView:s.isSpanVisibleInView};default:return s}}function N(e,t,s,n){return r=>{r.preventDefault();const a=F(e);t(a),i.browserHistory.push({...s,hash:a}),(0,S.Z)("performance_views.event_details.anchor_span",{organization:n,span_id:e})}}function F(e){return`#span-${e}`}function q(e,t){return void 0!==t?`${e.op}.${e.description}.${t}`:`${e.op}.${e.description}`}function z(e){return e.reduce(((e,t)=>{const{start_timestamp:s,timestamp:n}=t.span;let i=e.startTimestamp,r=e.endTimestamp;return s<i&&(i=s),r<n&&(r=n),{startTimestamp:i,endTimestamp:r}}),{startTimestamp:e[0].span.start_timestamp,endTimestamp:e[0].span.timestamp})}function W(e,t){const{startTimestamp:s,endTimestamp:n}=z(e),i=t({startTimestamp:s,endTimestamp:n});switch(i.type){case"TRACE_TIMESTAMPS_EQUAL":case"INVALID_VIEW_WINDOW":return{warning:void 0,left:void 0,width:void 0,isSpanVisibleInView:i.isSpanVisibleInView};case"TIMESTAMPS_EQUAL":return{warning:void 0,left:i.start,width:1e-5,isSpanVisibleInView:i.isSpanVisibleInView};case"TIMESTAMPS_REVERSED":case"TIMESTAMPS_STABLE":return{warning:void 0,left:i.start,width:i.end-i.start,isSpanVisibleInView:i.isSpanVisibleInView};default:return i}}class Y{constructor(){(0,n.Z)(this,"spanDepthsInView",void 0),(0,n.Z)(this,"treeDepthSum",void 0),(0,n.Z)(this,"length",void 0),(0,n.Z)(this,"isRootSpanInView",void 0),this.spanDepthsInView=new Map,this.treeDepthSum=0,this.length=0,this.isRootSpanInView=!1}addSpan(e,t){return!this.spanDepthsInView.has(e)&&(this.spanDepthsInView.set(e,t),this.length+=1,this.treeDepthSum+=t,0===t&&(this.isRootSpanInView=!0),!0)}removeSpan(e){if(!this.spanDepthsInView.has(e))return!1;const t=this.spanDepthsInView.get(e);return this.spanDepthsInView.delete(e),this.length-=1,this.treeDepthSum-=t,0===t&&(this.isRootSpanInView=!1),!0}has(e){return this.spanDepthsInView.has(e)}getScrollVal(){return this.isRootSpanInView?0:Math.round(this.treeDepthSum/this.length)*(f.Ll/2)-f.Y9/2}}function Q(e,t){return e in t||Object.values(t).some((t=>t.has(e)))}function G(e){var t;const s=null===(t=l()(e||[],(e=>X[e.level])))||void 0===t?void 0:t.level;if(s)return H[s]}const H={fatal:"error",error:"error",default:"error",warning:"warning",sample:"info",info:"info"},X={fatal:5,error:4,default:4,warning:3,sample:2,info:1}},"./app/components/forms/apiForm.tsx":(e,t,s)=>{s.d(t,{Z:()=>l});var n=s("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),i=(s("../node_modules/core-js/modules/web.dom-collections.iterator.js"),s("../node_modules/react/index.js")),r=s("./app/actionCreators/indicator.tsx"),a=s("./app/api.tsx"),o=s("./app/components/forms/form.tsx"),d=s("./app/locale.tsx"),p=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");class l extends i.Component{constructor(){super(...arguments),(0,n.Z)(this,"api",new a.KU),(0,n.Z)(this,"onSubmit",((e,t,s)=>{this.props.onSubmit&&this.props.onSubmit(e),(0,r.E3)((0,d.t)("Saving changesâ€¦")),this.api.request(this.props.apiEndpoint,{method:this.props.apiMethod,data:e,success:e=>{(0,r.B8)(),t(e)},error:e=>{(0,r.B8)(),s(e)}})}))}componentWillUnmount(){this.api.clear()}render(){const{onSubmit:e,apiMethod:t,apiEndpoint:s,...n}=this.props;return(0,p.tZ)(o.Z,{onSubmit:this.onSubmit,...n})}}l.displayName="ApiForm"},"./app/components/forms/checkboxField.tsx":(e,t,s)=>{s.d(t,{Z:()=>f});var n=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),i=s("./app/components/checkbox.tsx"),r=s("./app/components/forms/field/fieldDescription.tsx"),a=s("./app/components/forms/field/fieldHelp.tsx"),o=s("./app/components/forms/field/fieldLabel.tsx"),d=s("./app/components/forms/field/fieldRequiredBadge.tsx"),p=s("./app/components/forms/formField/index.tsx"),l=s("./app/styles/space.tsx"),c=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function m(e){const{name:t,disabled:s,stacked:n,id:l,required:m,label:f,help:g}=e,v="function"==typeof g?g(e):g;return(0,c.tZ)(p.Z,{name:t,inline:!1,stacked:n,children:e=>{let{onChange:p,value:g}=e;return(0,c.BX)(h,{children:[(0,c.tZ)(u,{children:(0,c.tZ)(i.Z,{id:l,name:t,disabled:s,checked:!0===g,onChange:function(e){const t=e.target.checked;null==p||p(t,e)}})}),(0,c.BX)(r.Z,{htmlFor:l,children:[f&&(0,c.tZ)(o.Z,{disabled:s,children:(0,c.BX)("span",{children:[f,m&&(0,c.tZ)(d.Z,{})]})}),v&&(0,c.tZ)(a.Z,{stacked:n,inline:!0,children:v})]})]})}})}m.displayName="CheckboxField";const u=(0,n.Z)("span",{target:"etw9sv71"})("align-self:flex-start;display:flex;margin-right:",(0,l.Z)(1),";& input{margin:0;}"),h=(0,n.Z)("div",{target:"etw9sv70"})({name:"ho1qnd",styles:"display:flex;flex-direction:row"}),f="app"==s.j?m:null},"./app/components/performance/waterfall/treeConnector.tsx":(e,t,s)=>{s.d(t,{DN:()=>c,Ll:()=>p,U1:()=>m,UV:()=>l,Y9:()=>d,jd:()=>h,rw:()=>u});var n=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),i=s("./app/components/performance/waterfall/constants.tsx"),r=s("./app/components/performance/waterfall/utils.tsx"),a=s("./app/icons/index.tsx"),o=s("./app/styles/space.tsx");const d=30,p=d+16,l="app"==s.j?(0,n.Z)("div",{target:"e1xp7sks4"})("height:250%;border-left:2px ",(e=>e.orphanBranch?"dashed":"solid")," ",(e=>e.theme.border),";position:absolute;top:0;"):null,c=(0,n.Z)("div",{target:"e1xp7sks3"})("height:",(e=>e.isLast?i.d/2+1:i.d),"px;width:100%;border-left:",(e=>`2px ${e.orphanBranch?"dashed":"solid"} ${e.theme.border};`),";position:absolute;top:0;",(e=>e.isLast?`\n      border-bottom: 2px ${e.orphanBranch?"dashed":"solid"} ${e.theme.border};\n      border-bottom-left-radius: ${e.theme.borderRadius};`:`\n      &:before {\n        content: '';\n        height: 2px;\n        left: -2px;\n        border-bottom: 2px ${e.orphanBranch?"dashed":"solid"} ${e.theme.border};\n        width: calc(100% - 2px);\n        position: absolute;\n        bottom: calc(50% - 1px);\n      }`)," &:after{content:'';background-color:",(e=>e.theme.border),";border-radius:50%;height:6px;width:6px;position:absolute;right:0;top:",i.d/2-3,"px;}"),m=(0,n.Z)("div",{target:"e1xp7sks2"})("height:16px;white-space:nowrap;min-width:30px;display:flex;align-items:center;justify-content:center;border-radius:99px;padding:0px ",(0,o.Z)(.5),";transition:all 0.15s ease-in-out;font-size:10px;line-height:0;z-index:1;box-shadow:",(e=>e.theme.dropShadowLightest),";",(e=>(0,r.uu)(e)),";"),u=(0,n.Z)("div",{target:"e1xp7sks1"})("position:relative;height:",i.d,"px;width:",40,"px;min-width:",40,"px;margin-right:",(0,o.Z)(1),";z-index:",(e=>e.theme.zIndex.traceView.spanTreeToggler),";display:flex;justify-content:flex-end;align-items:center;"),h=(0,n.Z)(a.g6,{target:"e1xp7sks0"})("width:7px;margin-left:",(0,o.Z)(.25),";")},"./app/stores/groupStore.tsx":(e,t,s)=>{s.d(t,{Z:()=>v});var n=s("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),i=(s("../node_modules/core-js/modules/web.dom-collections.iterator.js"),s("../node_modules/core-js/modules/es.array.includes.js"),s("../node_modules/lodash/isArray.js")),r=s.n(i),a=s("../node_modules/lodash/isUndefined.js"),o=s.n(a),d=s("../node_modules/reflux/src/index.js"),p=s("./app/actions/groupActions.tsx"),l=s("./app/locale.tsx"),c=s("./app/stores/indicatorStore.tsx"),m=s("./app/utils/makeSafeRefluxStore.ts");function u(e,t){c.Z.addMessage(e,t,{duration:4e3})}class h{constructor(){(0,n.Z)(this,"changes",[])}getForItem(e){return this.changes.filter((t=>t[1]===e))}push(e,t,s){this.changes.push([e,t,s])}remove(e,t){this.changes=this.changes.filter((s=>s[0]!==e||s[1]!==t))}forEach(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];this.changes.forEach.apply(this.changes,t)}}const f={listenables:[p.Z],pendingChanges:new h,items:[],statuses:{},init(){this.reset()},reset(){this.pendingChanges=new h,this.items=[],this.statuses={}},loadInitialData(e){this.reset();const t=new Set;e.forEach((e=>{t.add(e.id),this.items.push(e)})),this.trigger(t)},add(e){r()(e)||(e=[e]);const t={},s=new Set;e.forEach((e=>{t[e.id]=e,s.add(e.id)})),this.items.forEach(((e,s)=>{t[e.id]&&(this.items[s]={...e,...t[e.id]},delete t[e.id])}));for(const e in t)this.items.push(t[e]);this.trigger(s)},remove(e){this.items=this.items.filter((t=>!e.includes(t.id))),this.trigger(new Set(e))},addStatus(e,t){o()(this.statuses[e])&&(this.statuses[e]={}),this.statuses[e][t]=!0},clearStatus(e,t){o()(this.statuses[e])||(this.statuses[e][t]=!1)},hasStatus(e,t){return!o()(this.statuses[e])&&(this.statuses[e][t]||!1)},indexOfActivity(e,t){const s=this.get(e);if(!s)return-1;for(let e=0;e<s.activity.length;e++)if(s.activity[e].id===t)return e;return-1},addActivity(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;const n=this.get(e);n&&(-1===s?n.activity.unshift(t):n.activity.splice(s,0,t),"note"===t.type&&n.numComments++,this.trigger(new Set([e])))},updateActivity(e,t,s){const n=this.get(e);if(!n)return;const i=this.indexOfActivity(e,t);-1!==i&&(n.activity[i].data=Object.assign(n.activity[i].data,s),this.trigger(new Set([n.id])))},removeActivity(e,t){const s=this.get(e);if(!s)return-1;const n=this.indexOfActivity(s.id,t);return-1===n?-1:("note"===s.activity.splice(n,1)[0].type&&s.numComments--,this.trigger(new Set([s.id])),n)},get(e){const t=[];this.pendingChanges.forEach((s=>{s.id===e&&t.push(s)}));for(let s=0;s<this.items.length;s++)if(this.items[s].id===e){let e=this.items[s];if(t.length){e={...e};for(let s=0;s<t.length;s++)e={...e,...t[s].params}}return e}},getAllItemIds(){return this.items.map((e=>e.id))},getAllItems(){const e={};return this.pendingChanges.forEach((t=>{o()(e[t.id])&&(e[t.id]=[]),e[t.id].push(t)})),this.items.map((t=>{let s=t;return o()(e[t.id])||(s={...s},e[t.id].forEach((e=>{s={...s,...e.params}}))),s}))},onAssignTo(e,t,s){this.addStatus(t,"assignTo"),this.trigger(new Set([t]))},onAssignToError(e,t,s){this.clearStatus(t,"assignTo"),u((0,l.t)("Unable to change assignee. Please try again."),"error")},onAssignToSuccess(e,t,s){const n=this.get(t);n&&(n.assignedTo=s.assignedTo,this.clearStatus(t,"assignTo"),this.trigger(new Set([t])))},onDelete(e,t){(t=this._itemIdsOrAll(t)).forEach((e=>{this.addStatus(e,"delete")})),this.trigger(new Set(t))},onDeleteError(e,t,s){u((0,l.t)("Unable to delete events. Please try again."),"error"),t&&(t.forEach((e=>{this.clearStatus(e,"delete")})),this.trigger(new Set(t)))},onDeleteSuccess(e,t,s){if((t=this._itemIdsOrAll(t)).length>1)u((0,l.t)(`Deleted ${t.length} Issues`),"success");else{const e=t.map((e=>{var t;return null===(t=g.get(e))||void 0===t?void 0:t.shortId})).join("");u((0,l.t)(`Deleted ${e}`),"success")}const n=new Set(t);t.forEach((e=>{delete this.statuses[e],this.clearStatus(e,"delete")})),this.items=this.items.filter((e=>!n.has(e.id))),this.trigger(new Set(t))},onDiscard(e,t){this.addStatus(t,"discard"),this.trigger(new Set([t]))},onDiscardError(e,t,s){this.clearStatus(t,"discard"),u((0,l.t)("Unable to discard event. Please try again."),"error"),this.trigger(new Set([t]))},onDiscardSuccess(e,t,s){delete this.statuses[t],this.clearStatus(t,"discard"),this.items=this.items.filter((e=>e.id!==t)),u((0,l.t)("Similar events will be filtered and discarded."),"success"),this.trigger(new Set([t]))},onMerge(e,t){(t=this._itemIdsOrAll(t)).forEach((e=>{this.addStatus(e,"merge")})),this.trigger(new Set(t))},onMergeError(e,t,s){(t=this._itemIdsOrAll(t)).forEach((e=>{this.clearStatus(e,"merge")})),u((0,l.t)("Unable to merge events. Please try again."),"error"),this.trigger(new Set(t))},onMergeSuccess(e,t,s){(t=this._itemIdsOrAll(t)).forEach((e=>{this.clearStatus(e,"merge")}));const n=new Set(t);this.items=this.items.filter((e=>!n.has(e.id)||s&&s.merge&&e.id===s.merge.parent)),u((0,l.t)(`Merged ${t.length} Issues`),"success"),this.trigger(new Set(t))},_itemIdsOrAll(e){return o()(e)&&(e=this.items.map((e=>e.id))),e},onUpdate(e,t,s){(t=this._itemIdsOrAll(t)).forEach((t=>{this.addStatus(t,"update"),this.pendingChanges.push(e,t,s)})),this.trigger(new Set(t))},onUpdateError(e,t,s,n){t=this._itemIdsOrAll(t),this.pendingChanges.remove(e),t.forEach((e=>{this.clearStatus(e,"update")})),n||u((0,l.t)("Unable to update events. Please try again."),"error"),this.trigger(new Set(t))},onUpdateSuccess(e,t,s){t=this._itemIdsOrAll(t),this.items.forEach(((e,n)=>{-1!==t.indexOf(e.id)&&(this.items[n]={...e,...s},this.clearStatus(e.id,"update"))})),this.pendingChanges.remove(e),this.trigger(new Set(t))},onPopulateStats(e,t){const s=t.reduce(((e,t)=>(e[t.id]=t,e)),{});this.items.forEach(((t,n)=>{e.includes(t.id)&&(this.items[n]={...t,...s[t.id]})})),this.trigger(new Set(this.items.map((e=>e.id))))},onPopulateReleases(e,t){this.items.forEach(((s,n)=>{s.id===e&&(this.items[n]={...s,...t})})),this.trigger(new Set([e]))}},g=(0,d.createStore)((0,m.Y)(f)),v=g},"./app/utils/performance/quickTrace/utils.tsx":(e,t,s)=>{s.d(t,{$J:()=>_,Ci:()=>b,R8:()=>f,S2:()=>w,_Z:()=>S,eF:()=>v,eW:()=>u,hp:()=>c,q2:()=>m,xB:()=>T,y3:()=>x}),s("../node_modules/core-js/modules/web.dom-collections.iterator.js"),s("../node_modules/core-js/modules/es.error.cause.js");var n=s("../node_modules/lodash/omit.js"),i=s.n(n),r=s("../node_modules/moment-timezone/index.js"),a=s.n(r),o=s("./app/components/events/interfaces/spans/utils.tsx"),d=s("./app/constants/pageFilters.tsx"),p=s("./app/utils/analytics.tsx"),l=s("./app/utils/discover/eventView.tsx");function c(e){return"transaction"===e.type}function m(e,t){return c(t)?e.event_id===t.id:void 0!==e.errors&&e.errors.some((e=>e.event_id===t.id))}function u(e,t){const s=[],n=[],i=[{event:t,path:[]}];for(;i.length;){const t=i.shift();if(m(t.event,e)){for(const e of t.path)s.push(e);n.push(t.event)}else{const e=[...t.path,h(t.event)];for(const s of t.event.children)i.push({event:s,path:e})}}if(!n.length)throw new Error("No relevant path exists!");for(;n.length;){const e=n.shift();for(const t of e.children)n.push(t);s.push(h(e))}return s}function h(e){return i()(e,["children"])}function f(e,t,s){var n,i,r;const{type:a,trace:o}=e;if("empty"===a||null===o)throw new Error("Current event not in trace navigator!");const d="full"===a,l=null!==(n=o.find((e=>m(e,t))))&&void 0!==n?n:null;if(null===l)throw new Error("Current event not in trace navigator!");const c=l.parent_event_id&&null!==(i=o.find((e=>e.event_id===l.parent_event_id)))&&void 0!==i?i:null,u=null!==(r=o.find((e=>e.event_id!==l.event_id&&e.event_id!==(null==c?void 0:c.event_id)&&0===e.generation)))&&void 0!==r?r:null,h=d?[]:null,f=[],v=d?[]:null,S=new Set;return o.forEach((e=>{S.add(e.project_id),(e=>e.parent_event_id===l.event_id)(e)?f.push(e):d&&((e=>null!==l.generation&&null!==e.generation&&e.generation>0&&l.generation-1>e.generation)(e)?null==h||h.push(e):(e=>null!==l.generation&&null!==e.generation&&l.generation+1<e.generation)(e)&&(null==v||v.push(e)))})),d&&S.size>1&&function(e,t){(0,p.ec)({eventKey:"quick_trace.connected_services",eventName:"Quick Trace: Connected Services",organization_id:parseInt(e.id,10),projects:t})}(s,S.size),{root:u,ancestors:null===h?null:g(h),parent:c,current:l,children:g(f),descendants:null===v?null:g(v)}}function g(e){return e.sort(((e,t)=>t["transaction.duration"]-e["transaction.duration"]))}function v(e){let{eventView:t,location:s}=e;return i()(t.getEventsAPIPayload(s),["field","sort","per_page"])}function S(e){let{start:t,end:s,statsPeriod:n}=e;return l.ZP.fromSavedQuery({id:void 0,version:2,name:"",fields:["transaction.duration"],projects:[d.mP],query:"",environment:[],start:t,end:s,range:null!=n?n:void 0})}function _(e){const t=c(e)?e.startTimestamp:a()(e.dateReceived?e.dateReceived:e.dateCreated).valueOf()/1e3,s=c(e)?e.endTimestamp:t;return(0,o.TC)({start:t,end:s})}function w(e,t,s){let n=s;const i=[e];for(;i.length;){const e=i.pop();for(const t of e.children)i.push(t);n=t(n,e)}return n}function T(e,t){return w(e,((e,s)=>(t(s)&&e.push(s),e)),[])}function x(e){return Boolean(e.event_id)}function b(e){return Boolean(e.event_id)}},"./app/views/performance/traceDetails/utils.tsx":(e,t,s)=>{s.d(t,{Rg:()=>a,YA:()=>r,uM:()=>o}),s("../node_modules/core-js/modules/web.dom-collections.iterator.js");var n=s("./app/constants/pageFilters.tsx"),i=s("./app/utils/performance/quickTrace/utils.tsx");function r(e,t,s,i){const{start:r,end:a,statsPeriod:o}=s;return{pathname:`/organizations/${e.slug}/performance/trace/${t}/`,query:{...i,statsPeriod:o,[n.V.PAGE_START]:r,[n.V.PAGE_END]:a}}}function a(e){const t={projects:new Set,errors:new Set,transactions:new Set,startTimestamp:Number.MAX_SAFE_INTEGER,endTimestamp:0,maxGeneration:0};return e.reduce(((e,t)=>(0,i.S2)(t,((e,t)=>{for(const n of null!==(s=t.errors)&&void 0!==s?s:[]){var s;e.errors.add(n.event_id)}return e.transactions.add(t.event_id),e.projects.add(t.project_slug),e.startTimestamp=Math.min(e.startTimestamp,t.start_timestamp),e.endTimestamp=Math.max(e.endTimestamp,t.timestamp),e.maxGeneration=Math.max(e.maxGeneration,t.generation),e}),e)),t)}function o(e){return null===e.parent_span_id}}}]);
//# sourceMappingURL=../sourcemaps/app_components_forms_apiForm_tsx-app_components_forms_checkboxField_tsx-app_stores_groupStore-28ddcc.70b37937f59a158abde827fb84212a49.js.map