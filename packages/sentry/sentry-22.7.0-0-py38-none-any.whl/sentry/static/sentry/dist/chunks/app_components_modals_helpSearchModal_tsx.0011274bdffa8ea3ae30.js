(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_components_modals_helpSearchModal_tsx"],{"./app/components/hook.tsx":(e,t,o)=>{"use strict";o.d(t,{Z:()=>l});var s=o("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),n=(o("../node_modules/core-js/modules/web.dom-collections.iterator.js"),o("../node_modules/react/index.js")),r=o("./app/stores/hookStore.tsx"),i=o("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function a(e){let{name:t,...o}=e;class a extends n.Component{constructor(){super(...arguments),(0,s.Z)(this,"state",{hooks:r.Z.get(t).map((e=>e(o)))}),(0,s.Z)(this,"unsubscribe",r.Z.listen(((e,t)=>this.handleHooks(e,t)),void 0))}componentWillUnmount(){this.unsubscribe()}handleHooks(e,s){e===t&&this.setState({hooks:s.map((e=>e(o)))})}render(){const{children:e}=o;return this.state.hooks&&this.state.hooks.length?"function"==typeof e?e({hooks:this.state.hooks}):this.state.hooks:null}}return a.displayName="HookComponent",(0,s.Z)(a,"displayName",`Hook(${t})`),(0,i.tZ)(a,{})}a.displayName="Hook";const l=a},"./app/components/modals/helpSearchModal.tsx":(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>O,modalCss:()=>I});var s=o("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),n=o("../node_modules/@emotion/react/dist/emotion-react.browser.esm.js"),r=o("../node_modules/@emotion/react/dist/emotion-element-cbed451f.browser.esm.js"),i=o("../node_modules/react/index.js"),a=o("./app/components/search/index.tsx"),l=o("./app/components/search/searchResult.tsx"),d=o("./app/components/search/searchResultWrapper.tsx"),c=o("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),h=(o("../node_modules/core-js/modules/web.dom-collections.iterator.js"),o("../node_modules/react-router/es/index.js")),p=o("../node_modules/@sentry-internal/global-search/dist/index.js"),m=o("../node_modules/dompurify/dist/purify.js"),u=o.n(m),g=o("../node_modules/lodash/debounce.js"),x=o.n(g);function b(e){let{key:t,htmlString:o,markTags:s}=e;const{highlightPreTag:n,highlightPostTag:r}=s,i=[];let a=o;for(;;){const e=a.indexOf(n),t=e+n.length;if(-1===e||-1===a.indexOf(r))break;a=a.slice(0,e)+a.slice(t);const o=a.indexOf(r),s=o+r.length;a=a.slice(0,o)+a.slice(s),i.push([e,o-1])}return{key:t,value:a,indices:i}}var y=o("./app/utils/withLatestContext.tsx");const f={highlightPreTag:"<mark>",highlightPostTag:"</mark>"};class Z extends i.Component{constructor(){super(...arguments),(0,c.Z)(this,"state",{loading:!1,results:[]}),(0,c.Z)(this,"search",new p.SentryGlobalSearch(["docs","help-center","develop","blog"])),(0,c.Z)(this,"doSearch",x()(this.unbouncedSearch,300))}componentDidMount(){void 0!==this.props.query&&this.doSearch(this.props.query)}componentDidUpdate(e){e.query!==this.props.query&&this.doSearch(e.query)}async unbouncedSearch(e){this.setState({loading:!0});const{platforms:t=[]}=this.props,o=function(e){const t=[];return e.forEach((e=>{const o=e.hits.map((e=>{var t,o,s;const n=b({key:"title",htmlString:null!==(t=e.title)&&void 0!==t?t:"",markTags:f}),r=b({key:"description",htmlString:null!==(o=e.text)&&void 0!==o?o:"",markTags:f});return{item:{...e,sourceType:"help",resultType:`help-${e.site}`,title:u().sanitize(null!==(s=e.title)&&void 0!==s?s:""),extra:e.context.context1,description:e.text?u().sanitize(e.text):void 0,to:e.url},matches:[n,r],score:1,refIndex:0}}));if(o.length>0)return o[0].item.sectionHeading=e.name,o[0].item.sectionCount=o.length,void t.push(...o);const s={sourceType:"help",resultType:`help-${e.site}`,title:`No results in ${e.name}`,sectionHeading:e.name,empty:!0};t.push({item:s,score:1,refIndex:0})})),t}(await this.search.query(e,{platforms:t.map((e=>{var t;return null===(t=(0,p.standardSDKSlug)(e))||void 0===t?void 0:t.slug}))}));this.setState({loading:!1,results:o})}render(){return this.props.children({isLoading:this.state.loading,results:this.state.results})}}Z.displayName="HelpSource";const k=(0,y.Z)((0,h.withRouter)(Z));var S=o("./app/icons/index.tsx"),v=o("./app/locale.tsx"),j=o("./app/styles/space.tsx"),w=o("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const _=e=>{var t;let{item:o,matches:s,itemProps:n,highlighted:r}=e;const a=void 0!==o.sectionHeading?(0,w.BX)(H,{children:[(0,w.tZ)(S.PL,{}),(0,v.t)("From %s",o.sectionHeading),(0,w.tZ)(z,{children:(0,v.tn)("%s result","%s results",null!==(t=o.sectionCount)&&void 0!==t?t:0)})]}):null;return o.empty?(0,w.BX)(i.Fragment,{children:[a,(0,w.tZ)(q,{children:(0,v.t)("No results from %s",o.sectionHeading)})]}):(0,w.BX)(i.Fragment,{children:[a,(0,w.tZ)(d.Z,{...n,highlighted:r,children:(0,w.tZ)(l.Z,{highlighted:r,item:o,matches:s})})]})};_.displayName="renderResult";const T=e=>(0,w.tZ)(a.o,{...e,sources:[k],minSearch:3,closeOnSelect:!1,renderItem:_});T.displayName="HelpSearch";const H=(0,s.Z)("div",{target:"e1p43amg2"})("display:grid;grid-template-columns:max-content 1fr max-content;gap:",(0,j.Z)(1),";align-items:center;background:",(e=>e.theme.backgroundSecondary),";padding:",(0,j.Z)(1)," ",(0,j.Z)(2),";&:not(:first-of-type){border-top:1px solid ",(e=>e.theme.innerBorder),";}"),z=(0,s.Z)("div",{target:"e1p43amg1"})("font-size:",(e=>e.theme.fontSizeSmall),";color:",(e=>e.theme.gray300),";"),q=(0,s.Z)("div",{target:"e1p43amg0"})("display:flex;align-items:center;padding:",(0,j.Z)(2),";color:",(e=>e.theme.subText),";font-size:",(e=>e.theme.fontSizeMedium),";border-top:1px solid ",(e=>e.theme.innerBorder),";"),C=T;var N=o("./app/components/hook.tsx"),P=o("./app/utils/withOrganization.tsx");function M(e){let{Body:t,closeModal:o,organization:s,placeholder:i=(0,v.t)("Search for documentation, FAQs, blog posts..."),...a}=e;const l=(0,r.a)();return(0,w.tZ)(t,{children:(0,w.tZ)(n.ms,{children:e=>{let{css:t}=e;return(0,w.tZ)(C,{...a,entryPoint:"sidebar_help",dropdownClassName:t`
                width: 100%;
                border: transparent;
                border-top-left-radius: 0;
                border-top-right-radius: 0;
                position: initial;
                box-shadow: none;
                border-top: 1px solid ${l.border};
              `,renderInput:e=>{let{getInputProps:t}=e;return(0,w.tZ)(B,{children:(0,w.tZ)(F,{autoFocus:!0,...t({type:"text",placeholder:i})})})},resultFooter:(0,w.tZ)(N.Z,{name:"help-modal:footer",organization:s,closeModal:o})})}})})}M.displayName="HelpSearchModal";const B=(0,s.Z)("div",{target:"eqc3qkw1"})("padding:",(0,j.Z)(.25),";"),F=(0,s.Z)("input",{target:"eqc3qkw0"})("width:100%;padding:",(0,j.Z)(1),";border:none;border-radius:8px;outline:none;&:focus{outline:none;}"),I={name:"1cwzvuz",styles:"[role='document']{padding:0;}"},O=(0,P.Z)(M)},"?db25":()=>{},"?71ff":()=>{},"?0699":()=>{},"?1357":()=>{},"?d941":()=>{},"?94ca":()=>{},"?3018":()=>{}}]);
//# sourceMappingURL=../sourcemaps/app_components_modals_helpSearchModal_tsx.70a0dc120d22f3257cabc602ad7142f3.js.map