"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_views_alerts_incidentRedirect_tsx"],{"./app/utils/discover/charts.tsx":(e,t,r)=>{r.d(t,{CX:()=>o,gu:()=>u});var s=r("./app/locale.tsx"),n=r("./app/utils.tsx"),a=r("./app/utils/discover/fields.tsx"),i=r("./app/utils/formatters.tsx");function o(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(!(0,n.ri)(e))return"—";switch((0,a.Px)(t)){case"integer":case"number":return e.toLocaleString();case"percentage":return(0,i.rl)(e,2);case"duration":return(0,i.g9)(e/1e3,2,!0);default:return e.toString()}}function u(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];switch((0,a.Px)(t)){case"integer":case"number":return r?(0,i.Du)(e):e.toLocaleString();case"percentage":return(0,i.rl)(e,0);case"duration":return l(e);default:return e.toString()}}function l(e){if(0===e)return"0";if(e>=i.ps){const t=(e/i.ps).toFixed(0);return(0,s.t)("%swk",t)}if(e>=i.x4){const t=(e/i.x4).toFixed(0);return(0,s.t)("%sd",t)}if(e>=i.kr){const t=(e/i.kr).toFixed(0);return(0,s.t)("%shr",t)}if(e>=i.EB){const t=(e/i.EB).toFixed(0);return(0,s.t)("%smin",t)}if(e>=i.sh){const t=(e/i.sh).toFixed(0);return(0,s.t)("%ss",t)}const t=e.toFixed(0);return(0,s.t)("%sms",t)}},"./app/views/alerts/incidentRedirect.tsx":(e,t,r)=>{r.r(t),r.d(t,{default:()=>d}),r("../node_modules/core-js/modules/web.dom-collections.iterator.js"),r("../node_modules/core-js/modules/es.string.replace.js");var s=r("../node_modules/react/index.js"),n=r("../node_modules/react-router/es/index.js"),a=r("./app/components/loadingError.tsx"),i=r("./app/components/loadingIndicator.tsx"),o=r("./app/utils/analytics/trackAdvancedAnalyticsEvent.tsx"),u=r("./app/utils/useApi.tsx"),l=r("./app/views/alerts/utils/apiCalls.tsx"),c=r("./app/views/alerts/utils/index.tsx"),E=r("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function R(e){let{organization:t,params:r}=e;const R=(0,u.Z)(),[d,S]=(0,s.useState)(!1),p=(0,s.useCallback)((()=>{(0,o.Z)("alert_details.viewed",{organization:t,alert_id:parseInt(r.alertId,10)})}),[t,r.alertId]),T=(0,s.useCallback)((async()=>{S(!1);try{const e=await(0,l.yN)(R,r.orgId,r.alertId);n.browserHistory.replace({pathname:(0,c.Gu)(t,e),query:{alert:e.identifier}})}catch(e){S(!0)}}),[S,R,r.orgId,r.alertId,t]);return(0,s.useEffect)((()=>{T(),p()}),[T,p]),d?(0,E.tZ)(a.Z,{onRetry:T}):(0,E.tZ)(i.Z,{})}R.displayName="IncidentRedirect";const d=R},"./app/views/alerts/rules/metric/types.tsx":(e,t,r)=>{r.d(t,{F4:()=>a,GM:()=>u,LO:()=>S,Lm:()=>p,Tb:()=>R,Us:()=>d,XH:()=>E,Yh:()=>l,hd:()=>T,lK:()=>c,lT:()=>n,qz:()=>o,t6:()=>i});var s=r("./app/locale.tsx");let n,a,i,o,u,l,c,E,R,d;!function(e){e[e.ABOVE=0]="ABOVE",e[e.BELOW=1]="BELOW"}(n||(n={})),function(e){e.CRITICAL="critical",e.WARNING="warning",e.RESOLVE="resolve"}(a||(a={})),function(e){e.COUNT="count",e.CHANGE="change"}(i||(i={})),function(e){e.ERRORS="events",e.TRANSACTIONS="transactions",e.SESSIONS="sessions",e.METRICS="metrics"}(o||(o={})),function(e){e.DEFAULT="default",e.ERROR="error",e.TRANSACTION="transaction",e.USER="user",e.SESSION="session"}(u||(u={})),function(e){e.ERROR_DEFAULT="error_default",e.DEFAULT="default",e.ERROR="error",e.TRANSACTION="transaction"}(l||(l={})),function(e){e.CRASH_FREE_SESSIONS="percentage(sessions_crashed, sessions) AS _crash_rate_alert_aggregate",e.CRASH_FREE_USERS="percentage(users_crashed, users) AS _crash_rate_alert_aggregate"}(c||(c={})),function(e){e.SIX_HOURS="6h",e.ONE_DAY="1d",e.THREE_DAYS="3d",e.SEVEN_DAYS="10000m",e.FOURTEEN_DAYS="14d",e.THIRTY_DAYS="30d"}(E||(E={})),function(e){e[e.ONE_MINUTE=1]="ONE_MINUTE",e[e.FIVE_MINUTES=5]="FIVE_MINUTES",e[e.TEN_MINUTES=10]="TEN_MINUTES",e[e.FIFTEEN_MINUTES=15]="FIFTEEN_MINUTES",e[e.THIRTY_MINUTES=30]="THIRTY_MINUTES",e[e.ONE_HOUR=60]="ONE_HOUR",e[e.TWO_HOURS=120]="TWO_HOURS",e[e.FOUR_HOURS=240]="FOUR_HOURS",e[e.ONE_DAY=1440]="ONE_DAY"}(R||(R={})),function(e){e.EMAIL="email",e.SLACK="slack",e.PAGERDUTY="pagerduty",e.MSTEAMS="msteams",e.SENTRY_APP="sentry_app"}(d||(d={}));const S={[d.EMAIL]:(0,s.t)("Emai​l"),[d.SLACK]:(0,s.t)("Slack"),[d.PAGERDUTY]:(0,s.t)("Pagerduty"),[d.MSTEAMS]:(0,s.t)("MS Teams"),[d.SENTRY_APP]:(0,s.t)("Notification")};let p;!function(e){e.SPECIFIC="specific",e.USER="user",e.TEAM="team",e.SENTRY_APP="sentry_app"}(p||(p={}));const T={[p.USER]:(0,s.t)("Member"),[p.TEAM]:(0,s.t)("Team")}},"./app/views/alerts/types.tsx":(e,t,r)=>{let s,n,a,i,o,u;r.d(t,{Gb:()=>o,XO:()=>u,lm:()=>n,ok:()=>s,vt:()=>a}),function(e){e.METRIC="metric",e.ISSUE="issue"}(s||(s={})),function(e){e[e.CREATED=0]="CREATED",e[e.DETECTED=1]="DETECTED",e[e.STATUS_CHANGE=2]="STATUS_CHANGE",e[e.COMMENT=3]="COMMENT",e[e.STARTED=4]="STARTED"}(n||(n={})),function(e){e[e.OPENED=1]="OPENED",e[e.CLOSED=2]="CLOSED",e[e.WARNING=10]="WARNING",e[e.CRITICAL=20]="CRITICAL"}(a||(a={})),function(e){e[e.MANUAL=1]="MANUAL",e[e.RULE_UPDATED=2]="RULE_UPDATED",e[e.RULE_TRIGGERED=3]="RULE_TRIGGERED"}(i||(i={})),function(e){e[e.PENDING=0]="PENDING",e[e.SNAPSHOT=4]="SNAPSHOT",e[e.DISABLED=5]="DISABLED"}(o||(o={})),function(e){e.METRIC="alert_rule",e.ISSUE="rule"}(u||(u={}))},"./app/views/alerts/utils/apiCalls.tsx":(e,t,r)=>{r.d(t,{dX:()=>n,hl:()=>a,yN:()=>i});const s=new(r("./app/api.tsx").KU);function n(e,t,r){return s.requestPromise(`/organizations/${e}/alert-rules/${t}/`,{query:r})}function a(e,t,r,n){return s.requestPromise(`/organizations/${e}/incidents/`,{query:{project:"-1",alertRule:t,includeSnapshots:!0,start:r,end:n,expand:["activities","seen_by","original_alert_rule"]}})}function i(e,t,r){return e.requestPromise(`/organizations/${t}/incidents/${r}/`)}},"./app/views/alerts/utils/index.tsx":(e,t,r)=>{r.d(t,{A4:()=>p,CM:()=>R,Eb:()=>T,Ey:()=>d,Gm:()=>E,Gu:()=>f,KC:()=>S,LI:()=>C,QR:()=>I,Vc:()=>A,g2:()=>U,lR:()=>N,qn:()=>_,t3:()=>O}),r("../node_modules/core-js/modules/es.array.includes.js"),r("../node_modules/core-js/modules/es.string.replace.js");var s=r("../node_modules/lodash/round.js"),n=r.n(s),a=r("./app/locale.tsx"),i=r("./app/types/index.tsx"),o=r("./app/utils.tsx"),u=(r("./app/utils/dates.tsx"),r("./app/utils/discover/charts.tsx")),l=r("./app/views/alerts/rules/metric/types.tsx"),c=r("./app/views/alerts/types.tsx");function E(e){return!e.hasOwnProperty("triggers")}const R={[l.qz.ERRORS]:(0,a.t)("Errors"),[l.qz.TRANSACTIONS]:(0,a.t)("Transactions"),[l.Yh.ERROR_DEFAULT]:"event.type:error OR event.type:default",[l.Yh.ERROR]:"event.type:error",[l.Yh.DEFAULT]:"event.type:default",[l.Yh.TRANSACTION]:"event.type:transaction"},d={[l.Yh.ERROR_DEFAULT]:{dataset:l.qz.ERRORS,eventTypes:[l.GM.ERROR,l.GM.DEFAULT]},[l.Yh.ERROR]:{dataset:l.qz.ERRORS,eventTypes:[l.GM.ERROR]},[l.Yh.DEFAULT]:{dataset:l.qz.ERRORS,eventTypes:[l.GM.DEFAULT]},[l.Yh.TRANSACTION]:{dataset:l.qz.TRANSACTIONS,eventTypes:[l.GM.TRANSACTION]}};function S(e,t){return e===l.qz.TRANSACTIONS?l.Yh.TRANSACTION:t?t.includes(l.GM.DEFAULT)&&t.includes(l.GM.ERROR)?l.Yh.ERROR_DEFAULT:t.includes(l.GM.DEFAULT)?l.Yh.DEFAULT:l.Yh.ERROR:l.Yh.ERROR}function p(e){let t=e.match(/\(?\bevent\.type:(error|default|transaction)\)?\WOR\W\(?event\.type:(error|default|transaction)\)?/i);return t?"default,error"!==t.slice(1,3).sort().join(",")?null:{source:l.Yh.ERROR_DEFAULT,query:e.replace(t[0],"").trim()}:(t=e.match(/(^|\s)event\.type:(error|default|transaction)/i),t&&l.Yh[t[2].toUpperCase()]?{source:l.Yh[t[2].toUpperCase()],query:e.replace(t[0],"").trim()}:null)}function T(e){return Object.values(l.lK).includes(e)}const A={[l.lK.CRASH_FREE_SESSIONS]:i.kI.SESSIONS,[l.lK.CRASH_FREE_USERS]:i.kI.USERS};function N(e,t,r){return T(r)?(0,o.ri)(e)?`${n()(e,2)}%`:"―":(0,u.gu)(e,t)}function _(e,t,r){return T(r)?(0,o.ri)(e)?`${e}%`:"―":(0,u.CX)(e,t)}const O=1.03;function I(e){return T(e)}function f(e,t){return`/organizations/${e.slug}/alerts/rules/details/${t.alertRule.status===c.Gb.SNAPSHOT&&t.alertRule.originalAlertRuleId?t.alertRule.originalAlertRuleId:t.alertRule.id}/`}function U(e){return Array.isArray(e)||""===e?"all":["open","closed"].includes(e)?e:"all"}const m=["myteams","unassigned"];function C(e){return void 0===e?m:""===e?[]:Array.isArray(e)?e:[e]}}}]);
//# sourceMappingURL=../sourcemaps/app_views_alerts_incidentRedirect_tsx.610e7d6c87577e6e9a427eaa15dfc69c.js.map